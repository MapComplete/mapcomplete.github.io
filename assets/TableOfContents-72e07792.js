var g=Object.defineProperty;var p=(c,o,l)=>o in c?g(c,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):c[o]=l;var h=(c,o,l)=>(p(c,typeof o!="symbol"?o+"":o,l),l);import{C as v,f as x,F as f,a as L,L as w,H as C}from"./Translations-cd73e184.js";import{T as M,L as u}from"./List-d2fd31b5.js";class r extends v{constructor(l,t){let s;l instanceof v?s=r.getTitles(l.getElements())??[]:s=l??[];let n=[];for(const e of s){let a;if(e.title instanceof x)a=e.title.Clone();else if(e.title instanceof f)a=new f(e.title.content);else if(L.runningFromConsole)a=new f(e.AsMarkdown());else if(e.title!==void 0)a=new f(e.title.ConstructElement().textContent);else{console.log("Not generating a title for ",e);continue}const m=new w(a,"#"+e.id);C.hash.addCallbackAndRun(d=>{d===e.id?m.SetClass("font-bold"):m.RemoveClass("font-bold")}),n.push({level:e.level,content:m})}const i=Math.min(...n.map(e=>e.level));t!=null&&t.noTopLevel&&(n=n.filter(e=>e.level!==i)),t!=null&&t.maxDepth&&(n=n.filter(e=>e.level<=t.maxDepth+i));super(r.mergeLevel(n).map(e=>e.SetClass("mt-2")));h(this,"titles");this.SetClass("flex flex-col"),this.titles=s}static getTitles(l){const t=[];for(const s of l)s instanceof v?t.push(...r.getTitles(s.getElements())):s instanceof M&&t.push(s);return t}static mergeLevel(l){const t=Math.max(...l.map(e=>e.level)),s=Math.min(...l.map(e=>e.level));if(t===s)return l.map(e=>e.content);const n=[];let i=[];for(const e of l){if(e.level===t){i.push(e.content);continue}i.length!==void 0&&(n.push({content:new u(i),level:t-1}),i=[]),n.push(e)}return i.length!==void 0&&n.push({content:new u(i),level:t-1}),r.mergeLevel(n)}AsMarkdown(){const l=["1.","  -","    +","      *"],t=[`## Table of contents
`],s=Math.min(...this.titles.map(n=>n.level));for(const n of this.titles){const i=l[n.level-s]??"        ~",e=n.title.AsMarkdown().replace(`
`,""),a=n.id;t.push(i+" ["+e+"](#"+a+")")}return t.join(`
`)+`

`}}export{r as T};
