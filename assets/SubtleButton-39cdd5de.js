var C=Object.defineProperty;var S=(n,s,e)=>s in n?C(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e;var l=(n,s,e)=>(S(n,typeof s!="symbol"?s+"":s,e),e);import{B as p,C as f,T as c,S as w,I as b,L as x,U as v,V as U}from"./Translations-893ea4c9.js";class E extends p{InnerConstructElement(){const s=this.InnerRender();if(s===void 0||s==="")return;const e=document.createElement("span");if(typeof s=="string")e.innerHTML=s;else{const i=s.ConstructElement();if(i===void 0)return;e.appendChild(i)}return e}}class y extends p{constructor(e){super();l(this,"_f");this._f=e}InnerConstructElement(){return this._f().ConstructElement()}}class I extends f{constructor(s){const e=c.W(s)??c.t.general.loading;e.SetClass("pl-2"),super([w.loading_svg().SetClass("animate-spin self-center").SetStyle("width: 1.5rem; height: 1.5rem; min-width: 1.5rem;"),e]),this.SetClass("flex p-1")}}class T extends E{constructor(e,i,t=void 0){super();l(this,"imageUrl");l(this,"message");l(this,"options");this.imageUrl=e,this.message=i,this.options=t}InnerRender(){var r,m,u,d,h,g;const e="block flex p-3 my-2 bg-subtle rounded-lg hover:shadow-xl hover:bg-unsubtle transition-colors transition-shadow link-no-underline "+(((r=this==null?void 0:this.options)==null?void 0:r.extraClasses)??""),i=(m=c.W(this.message))==null?void 0:m.SetClass("block text-ellipsis no-images flex-shrink");let t;const o="block justify-center flex-none mr-4 "+(((u=this.options)==null?void 0:u.imgSize)??"h-11 w-11");(this.imageUrl??"")===""?t=void 0:typeof this.imageUrl=="string"?t=(d=new b(this.imageUrl))==null?void 0:d.SetClass(o):t=(h=this.imageUrl)==null?void 0:h.SetClass(o);const a=new f([t,i]).SetClass("flex items-center group w-full");return((g=this.options)==null?void 0:g.url)==null?(this.SetClass(e),a):new x(a,this.options.url,this.options.newTab??!1).SetClass(e)}OnClickWithLoading(e,i){const t=new v("idle"),o=this;o.onClick(async()=>{t.setData("running");try{await i()}catch(r){console.error(r)}finally{t.setData("idle")}});const a=new y(()=>new I(e));return new U(t.map(r=>r==="idle"?o:a))}}export{y as L,T as S,E as U,I as a};
