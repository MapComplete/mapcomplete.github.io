{"version":3,"file":"AllKnownLayouts-5a8b6667.js","sources":["../../src/Models/ThemeConfig/Conversion/ConversionContext.ts","../../src/Models/ThemeConfig/Conversion/Conversion.ts","../../src/Models/ThemeConfig/Conversion/AddContextToTranslations.ts","../../src/Models/ThemeConfig/Conversion/ValidationUtils.ts","../../src/Models/ThemeConfig/Conversion/ExpandRewrite.ts","../../src/Models/ThemeConfig/Conversion/PrepareLayer.ts","../../node_modules/he/he.js","../../node_modules/node-html-parser/dist/nodes/node.js","../../node_modules/node-html-parser/dist/nodes/type.js","../../node_modules/node-html-parser/dist/nodes/comment.js","../../node_modules/css-select/node_modules/domelementtype/lib/index.js","../../node_modules/css-select/node_modules/domhandler/lib/node.js","../../node_modules/css-select/node_modules/domhandler/lib/index.js","../../node_modules/css-select/node_modules/domutils/lib/stringify.js","../../node_modules/css-select/node_modules/domutils/lib/traversal.js","../../node_modules/css-select/node_modules/domutils/lib/manipulation.js","../../node_modules/css-select/node_modules/domutils/lib/querying.js","../../node_modules/css-select/node_modules/domutils/lib/legacy.js","../../node_modules/css-select/node_modules/domutils/lib/helpers.js","../../node_modules/css-select/node_modules/domutils/lib/feeds.js","../../node_modules/css-select/node_modules/domutils/lib/index.js","../../node_modules/boolbase/index.js","../../node_modules/css-what/lib/es/types.js","../../node_modules/css-what/lib/es/parse.js","../../node_modules/css-what/lib/es/stringify.js","../../node_modules/css-select/lib/sort.js","../../node_modules/css-select/lib/attributes.js","../../node_modules/nth-check/lib/parse.js","../../node_modules/nth-check/lib/compile.js","../../node_modules/nth-check/lib/index.js","../../node_modules/css-select/lib/pseudo-selectors/filters.js","../../node_modules/css-select/lib/pseudo-selectors/pseudos.js","../../node_modules/css-select/lib/pseudo-selectors/aliases.js","../../node_modules/css-select/lib/pseudo-selectors/subselects.js","../../node_modules/css-select/lib/pseudo-selectors/index.js","../../node_modules/css-select/lib/general.js","../../node_modules/css-select/lib/compile.js","../../node_modules/css-select/lib/index.js","../../node_modules/node-html-parser/dist/back.js","../../node_modules/node-html-parser/dist/matcher.js","../../node_modules/node-html-parser/dist/void-tag.js","../../node_modules/node-html-parser/dist/nodes/text.js","../../node_modules/node-html-parser/dist/nodes/html.js","../../node_modules/node-html-parser/dist/parse.js","../../node_modules/node-html-parser/dist/valid.js","../../node_modules/node-html-parser/dist/index.js","../../src/Models/ThemeConfig/Conversion/DetectMappingsWithImages.ts","../../src/Models/ThemeConfig/Conversion/MiscTagRenderingChecks.ts","../../src/Models/ThemeConfig/Conversion/ValidateTagRenderings.ts","../../src/Models/ThemeConfig/Conversion/PrevalidateLayer.ts","../../src/Models/ThemeConfig/Conversion/Validation.ts","../../src/Customizations/AllSharedLayers.ts","../../src/Models/ThemeConfig/Conversion/CreateNoteImportLayer.ts","../../src/Models/ThemeConfig/DependencyCalculator.ts","../../src/Models/ThemeConfig/Conversion/PrepareTheme.ts","../../src/Models/ThemeConfig/Conversion/FixImages.ts","../../src/Models/ThemeConfig/Conversion/ValidateTheme.ts","../../src/Customizations/AllKnownLayouts.ts"],"sourcesContent":["import { ConversionMessage, ConversionMsgLevel } from \"./Conversion\"\nimport { Utils } from \"../../../Utils\"\n\nexport class ConversionContext {\n    private static reported = false\n    /**\n     *  The path within the data structure where we are currently operating\n     */\n    readonly path: ReadonlyArray<string | number>\n    /**\n     * Some information about the current operation\n     */\n    readonly operation: ReadonlyArray<string>\n    readonly messages: ConversionMessage[]\n    private _hasErrors: boolean = false\n\n    private constructor(\n        messages: ConversionMessage[],\n        path: ReadonlyArray<string | number>,\n        operation?: ReadonlyArray<string>\n    ) {\n        this.path = path\n        this.operation = operation ?? []\n        // Messages is shared by reference amonst all 'context'-objects for performance\n        this.messages = messages\n        if (this.path.some((p) => typeof p === \"object\" || p === \"[object Object]\")) {\n            throw \"ConversionMessage: got an object as path entry:\" + JSON.stringify(path)\n        }\n        if (this.path.some((p) => typeof p === \"number\" && p < 0)) {\n            if (!ConversionContext.reported) {\n                ConversionContext.reported = true\n                console.trace(\"ConversionContext: got a path containing a negative number\")\n            }\n        }\n    }\n\n    public static construct(path: (string | number)[], operation: string[]) {\n        return new ConversionContext([], [...path], [...operation])\n    }\n\n    public static test(msg?: string) {\n        return new ConversionContext([], msg ? [msg] : [], [\"test\"])\n    }\n\n    static print(msg: ConversionMessage) {\n        const noString = msg.context.path.filter(\n            (p) => typeof p !== \"string\" && typeof p !== \"number\"\n        )\n        if (noString.length > 0) {\n            console.warn(\"Non-string value in path:\", ...noString)\n        }\n        if (msg.level === \"error\") {\n            console.error(\n                ConversionContext.red(\"ERR \"),\n                msg.context.path.join(\".\"),\n                ConversionContext.red(msg.message),\n                msg.context.operation.join(\".\")\n            )\n        } else if (msg.level === \"warning\") {\n            console.warn(\n                ConversionContext.red(\"<!> \"),\n                msg.context.path.join(\".\"),\n                ConversionContext.yellow(msg.message),\n                msg.context.operation.join(\".\")\n            )\n        } else {\n            console.log(\"    \", msg.context.path.join(\".\"), msg.message)\n        }\n    }\n\n    private static yellow(s) {\n        return \"\\x1b[33m\" + s + \"\\x1b[0m\"\n    }\n\n    private static red(s) {\n        return \"\\x1b[31m\" + s + \"\\x1b[0m\"\n    }\n\n    /**\n     * Does an inline edit of the messages for which a new path is defined\n     * This is a slight hack\n     * @param rewritePath\n     */\n    public rewriteMessages(\n        rewritePath: (\n            p: ReadonlyArray<number | string>\n        ) => undefined | ReadonlyArray<number | string>\n    ): void {\n        for (let i = 0; i < this.messages.length; i++) {\n            const m = this.messages[i]\n            const newPath = rewritePath(m.context.path)\n            if (!newPath) {\n                continue\n            }\n            const rewrittenContext = new ConversionContext(\n                this.messages,\n                newPath,\n                m.context.operation\n            )\n            this.messages[i] = <ConversionMessage>{ ...m, context: rewrittenContext }\n        }\n    }\n\n    public enter(key: string | number | (string | number)[]) {\n        if (!Array.isArray(key)) {\n            if (typeof key === \"number\" && key < 0) {\n                console.trace(\"Invalid key\")\n                throw \"Invalid key: <0\"\n            }\n            return new ConversionContext(this.messages, [...this.path, key], this.operation)\n        }\n        return new ConversionContext(this.messages, [...this.path, ...key], this.operation)\n    }\n\n    public enters(...key: (string | number)[]) {\n        return this.enter(key)\n    }\n\n    public inOperation(key: string) {\n        return new ConversionContext(this.messages, this.path, [...this.operation, key])\n    }\n\n    warn(message: string) {\n        this.messages.push({ context: this, level: \"warning\", message })\n    }\n\n    err(...message: string[]) {\n        this._hasErrors = true\n        this.messages.push({ context: this, level: \"error\", message: message.join(\" \") })\n    }\n\n    info(message: string) {\n        this.messages.push({ context: this, level: \"information\", message })\n    }\n\n    getAll(mode: ConversionMsgLevel): ConversionMessage[] {\n        return this.messages.filter((m) => m.level === mode)\n    }\n\n    public hasErrors() {\n        if (this._hasErrors) {\n            return true\n        }\n        const foundErr = this.messages?.find((m) => m.level === \"error\") !== undefined\n        this._hasErrors = foundErr\n        return foundErr\n    }\n\n    debug(message: string) {\n        this.messages.push({ context: this, level: \"debug\", message })\n    }\n\n    /**\n     * Exactly the same as Utils.Merge, except that it wraps the error message\n     * @param source\n     * @param target\n     * @constructor\n     */\n    MergeObjectsForOverride<T, S>(source: Readonly<S>, target: T): T & S {\n        try {\n            return Utils.Merge(source, target)\n        } catch (e) {\n            this.err(\n                \"Could not apply an override: due to \" +\n                    e +\n                    \"\\n\\tHINT: did you just pull changes from the repository or switch branches? Try 'npm run reset:layeroverview'\"\n            )\n        }\n    }\n}\n","import { LayerConfigJson } from \"../Json/LayerConfigJson\"\nimport { Utils } from \"../../../Utils\"\nimport { QuestionableTagRenderingConfigJson } from \"../Json/QuestionableTagRenderingConfigJson\"\nimport { ConversionContext } from \"./ConversionContext\"\n\nexport interface DesugaringContext {\n    tagRenderings: Map<string, QuestionableTagRenderingConfigJson>\n    /**\n     * Order of appearance in questions.json\n     */\n    tagRenderingOrder: string[]\n    sharedLayers: Map<string, LayerConfigJson>\n    publicLayers?: Set<string>\n}\n\nexport type ConversionMsgLevel = \"debug\" | \"information\" | \"warning\" | \"error\"\n\nexport interface ConversionMessage {\n    readonly context: ConversionContext\n    readonly message: string\n    readonly level: ConversionMsgLevel\n}\n\nexport abstract class Conversion<TIn, TOut> {\n    public readonly modifiedAttributes: string[]\n    public readonly name: string\n    protected readonly doc: string\n\n    constructor(doc: string, modifiedAttributes: string[] = [], name: string) {\n        this.modifiedAttributes = modifiedAttributes\n        this.doc = doc + \"\\n\\nModified attributes are\\n\" + modifiedAttributes.join(\", \")\n        this.name = name\n    }\n\n    public convertStrict(json: TIn, context?: ConversionContext): TOut {\n        context ??= ConversionContext.construct([], [])\n        context = context.inOperation(this.name)\n\n        let fixed: TOut\n        try {\n            fixed = this.convert(json, context)\n        } catch (e) {\n            console.error(e)\n            context.err(\"ERROR WHILE RUNNING STEP \" + this.name + \": \" + e)\n            fixed = undefined\n        }\n        for (const msg of context.messages) {\n            if (msg.level === \"debug\") {\n                continue\n            }\n            ConversionContext.print(msg)\n        }\n        if (context.hasErrors()) {\n            throw new Error(\n                [\n                    \"Detected one or more errors, stopping now:\",\n                    context.getAll(\"error\").map((e) => e.context.path.join(\".\") + \": \" + e.message),\n                ].join(\"\\n\\t\")\n            )\n        }\n        return fixed\n    }\n\n    public andThenF<X>(f: (tout: TOut) => X): Conversion<TIn, X> {\n        return new Pipe(this, new Pure(f))\n    }\n\n    public abstract convert(json: TIn, context: ConversionContext): TOut\n}\n\nexport abstract class DesugaringStep<T> extends Conversion<T, T> {}\n\nexport class Pipe<TIn, TInter, TOut> extends Conversion<TIn, TOut> {\n    private readonly _step0: Conversion<TIn, TInter>\n    private readonly _step1: Conversion<TInter, TOut>\n    private readonly _failfast: boolean\n\n    constructor(step0: Conversion<TIn, TInter>, step1: Conversion<TInter, TOut>, failfast = false) {\n        super(\"Merges two steps with different types\", [], `Pipe(${step0.name}, ${step1.name})`)\n        this._step0 = step0\n        this._step1 = step1\n        this._failfast = failfast\n    }\n\n    convert(json: TIn, context: ConversionContext): TOut {\n        const r0 = this._step0.convert(json, context.inOperation(this._step0.name))\n        if (context.hasErrors() && this._failfast) {\n            return undefined\n        }\n        return this._step1.convert(r0, context.inOperation(this._step1.name))\n    }\n}\n\nexport class Pure<TIn, TOut> extends Conversion<TIn, TOut> {\n    private readonly _f: (t: TIn) => TOut\n\n    constructor(f: (t: TIn) => TOut) {\n        super(\"Wrapper around a pure function\", [], \"Pure\")\n        this._f = f\n    }\n\n    convert(json: TIn, context: ConversionContext): TOut {\n        return this._f(json)\n    }\n}\n\nexport class Bypass<T> extends DesugaringStep<T> {\n    private readonly _applyIf: (t: T) => boolean\n    private readonly _step: DesugaringStep<T>\n\n    constructor(applyIf: (t: T) => boolean, step: DesugaringStep<T>) {\n        super(\"Applies the step on the object, if the object satisfies the predicate\", [], \"Bypass\")\n        this._applyIf = applyIf\n        this._step = step\n    }\n\n    convert(json: T, context: ConversionContext): T {\n        if (!this._applyIf(json)) {\n            return json\n        }\n        return this._step.convert(json, context)\n    }\n}\n\nexport class Each<X, Y> extends Conversion<X[], Y[]> {\n    private readonly _step: Conversion<X, Y>\n    private readonly _msg: string\n\n    constructor(step: Conversion<X, Y>, options?: { msg?: string }) {\n        super(\n            \"Applies the given step on every element of the list\",\n            [],\n            \"OnEach(\" + step.name + \")\"\n        )\n        this._step = step\n        this._msg = options?.msg\n    }\n\n    convert(values: X[], context: ConversionContext): Y[] {\n        if (values === undefined || values === null) {\n            return <undefined | null>values\n        }\n        const step = this._step\n        const result: Y[] = []\n        const c = context.inOperation(\"each\")\n        for (let i = 0; i < values.length; i++) {\n            if (this._msg) {\n                console.log(\n                    this._msg,\n                    `: ${i + 1}/${values.length}`,\n                    values[i]?.[\"id\"] !== undefined ? values[i]?.[\"id\"] : \"\"\n                )\n            }\n            const r = step.convert(values[i], c.enter(i))\n            result.push(r)\n        }\n        return result\n    }\n}\n\nexport class On<P, T> extends DesugaringStep<T> {\n    private readonly key: string\n    private readonly step: (t: T) => Conversion<P, P>\n\n    constructor(key: string, step: Conversion<P, P> | ((t: T) => Conversion<P, P>)) {\n        super(\n            \"Applies \" + step.name + \" onto property `\" + key + \"`\",\n            [key],\n            `On(${key}, ${step.name})`\n        )\n        if (typeof step === \"function\") {\n            this.step = step\n        } else {\n            this.step = (_) => step\n        }\n        this.key = key\n    }\n\n    convert(json: T, context: ConversionContext): T {\n        const key = this.key\n        const value: P = json?.[key]\n        if (value === undefined || value === null) {\n            return json\n        }\n\n        json = { ...json }\n        const step = this.step(json)\n        json[key] = step.convert(value, context.enter(key).inOperation(\"on[\" + key + \"]\"))\n        return json\n    }\n}\n\nexport class Pass<T> extends Conversion<T, T> {\n    constructor(message?: string) {\n        super(message ?? \"Does nothing, often to swap out steps in testing\", [], \"Pass\")\n    }\n\n    convert(json: T, _: ConversionContext): T {\n        return json\n    }\n}\n\nexport class Concat<X, T> extends Conversion<X[], T[]> {\n    private readonly _step: Conversion<X, T[]>\n\n    constructor(step: Conversion<X, T[]>) {\n        super(\n            \"Executes the given step, flattens the resulting list\",\n            [],\n            \"Concat(\" + step.name + \")\"\n        )\n        this._step = step\n    }\n\n    convert(values: X[], context: ConversionContext): T[] {\n        if (values === undefined || values === null) {\n            // Move on - nothing to see here!\n            return <undefined | null>values\n        }\n        const vals: T[][] = new Each(this._step).convert(values, context.inOperation(\"concat\"))\n        return [].concat(...vals)\n    }\n}\n\nexport class FirstOf<T, X> extends Conversion<T, X> {\n    private readonly _conversion: Conversion<T, X[]>\n\n    constructor(conversion: Conversion<T, X[]>) {\n        super(\n            \"Picks the first result of the conversion step\",\n            [],\n            \"FirstOf(\" + conversion.name + \")\"\n        )\n        this._conversion = conversion\n    }\n\n    convert(json: T, context: ConversionContext): X {\n        const values = this._conversion.convert(json, context.inOperation(\"firstOf\"))\n        if (values.length === 0) {\n            return undefined\n        }\n        return values[0]\n    }\n}\n\nexport class Cached<TIn, TOut> extends Conversion<TIn, TOut> {\n    private _step: Conversion<TIn, TOut>\n    private readonly key: string\n\n    constructor(step: Conversion<TIn, TOut>) {\n        super(\"Secretly caches the output for the given input\", [], \"cached\")\n        this._step = step\n        this.key = \"__super_secret_caching_key_\" + step.name\n    }\n\n    convert(json: TIn, context: ConversionContext): TOut {\n        if (json[this.key]) {\n            return json[this.key]\n        }\n        const converted = this._step.convert(json, context)\n        Object.defineProperty(json, this.key, {\n            value: converted,\n            enumerable: false,\n        })\n        return converted\n    }\n}\n\nexport class Fuse<T> extends DesugaringStep<T> {\n    protected debug = false\n    private readonly steps: DesugaringStep<T>[]\n\n    constructor(doc: string, ...steps: DesugaringStep<T>[]) {\n        super(\n            (doc ?? \"\") +\n                \"This fused pipeline of the following steps: \" +\n                steps.map((s) => s.name).join(\", \"),\n            Utils.Dedup([].concat(...steps.map((step) => step.modifiedAttributes))),\n            \"Fuse(\" + steps.map((s) => s.name).join(\", \") + \")\"\n        )\n        this.steps = Utils.NoNull(steps)\n    }\n\n    public enableDebugging(): Fuse<T> {\n        this.debug = true\n        return this\n    }\n\n    convert(json: T, context: ConversionContext): T {\n        const timings = []\n        for (let i = 0; i < this.steps.length; i++) {\n            const start = new Date()\n            const step = this.steps[i]\n            try {\n                const r = step.convert(json, context.inOperation(step.name))\n                if (r === undefined || r === null) {\n                    break\n                }\n                json = r\n            } catch (e) {\n                console.error(\"Step \" + step.name + \" failed due to \", e, e.stack)\n                throw e\n            }\n            if (this.debug) {\n                const stop = new Date()\n                const timeNeededMs = stop.getTime() - start.getTime()\n                timings.push(timeNeededMs)\n            }\n        }\n        if (this.debug) {\n            console.log(\"Time needed,\", timings.join(\", \"))\n        }\n        return json\n    }\n}\n\nexport class SetDefault<T> extends DesugaringStep<T> {\n    private readonly value: any\n    private readonly key: string\n    private readonly _overrideEmptyString: boolean\n\n    constructor(key: string, value: any, overrideEmptyString = false) {\n        super(\"Sets \" + key + \" to a default value if undefined\", [], \"SetDefault of \" + key)\n        this.key = key\n        this.value = value\n        this._overrideEmptyString = overrideEmptyString\n    }\n\n    convert(json: T, _: ConversionContext): T {\n        if (json === undefined) {\n            return undefined\n        }\n        if (json[this.key] === undefined || (json[this.key] === \"\" && this._overrideEmptyString)) {\n            json = { ...json }\n            json[this.key] = this.value\n        }\n\n        return json\n    }\n}\n","import { DesugaringStep } from \"./Conversion\"\nimport { Utils } from \"../../../Utils\"\nimport Translations from \"../../../UI/i18n/Translations\"\nimport { ConversionContext } from \"./ConversionContext\"\n\nexport class AddContextToTranslations<T> extends DesugaringStep<T> {\n    private readonly _prefix: string\n\n    constructor(prefix = \"\") {\n        super(\n            \"Adds a '_context' to every object that is probably a translation\",\n            [\"_context\"],\n            \"AddContextToTranslation\"\n        )\n        this._prefix = prefix\n    }\n\n    /**\n     * const theme = {\n     *   layers: [\n     *       {\n     *           builtin: [\"abc\"],\n     *           override: {\n     *               title:{\n     *                   en: \"Some title\"\n     *               }\n     *           }\n     *       }\n     *   ]\n     * }\n     * const rewritten = new AddContextToTranslations<any>(\"prefix:\").convertStrict(theme, ConversionContext.test())\n     * const expected = {\n     *   layers: [\n     *       {\n     *           builtin: [\"abc\"],\n     *           override: {\n     *               title:{\n     *                  _context: \"prefix:layers.0.override.title\"\n     *                   en: \"Some title\"\n     *               }\n     *           }\n     *       }\n     *   ]\n     * }\n     * rewritten // => expected\n     *\n     * // should use the ID if one is present instead of the index\n     * const theme = {\n     *   layers: [\n     *       {\n     *           tagRenderings:[\n     *               {id: \"some-tr\",\n     *               question:{\n     *                   en:\"Question?\"\n     *               }\n     *               }\n     *           ]\n     *       }\n     *   ]\n     * }\n     * const rewritten = new AddContextToTranslations<any>(\"prefix:\").convertStrict(theme, ConversionContext.test())\n     * const expected = {\n     *   layers: [\n     *       {\n     *           tagRenderings:[\n     *               {id: \"some-tr\",\n     *               question:{\n     *                  _context: \"prefix:layers.0.tagRenderings.some-tr.question\"\n     *                   en:\"Question?\"\n     *               }\n     *               }\n     *           ]\n     *       }\n     *   ]\n     * }\n     * rewritten // => expected\n     *\n     * // should preserve nulls\n     * const theme = {\n     *   layers: [\n     *       {\n     *           builtin: [\"abc\"],\n     *           override: {\n     *               name:null\n     *           }\n     *       }\n     *   ]\n     * }\n     * const rewritten = new AddContextToTranslations<any>(\"prefix:\").convertStrict(theme, ConversionContext.test())\n     * const expected = {\n     *   layers: [\n     *       {\n     *           builtin: [\"abc\"],\n     *           override: {\n     *               name: null\n     *           }\n     *       }\n     *   ]\n     * }\n     * rewritten // => expected\n     *\n     *\n     * // Should ignore all if '#dont-translate' is set\n     * const theme = {\n     *  \"#dont-translate\": \"*\",\n     *   layers: [\n     *       {\n     *           builtin: [\"abc\"],\n     *           override: {\n     *               title:{\n     *                   en: \"Some title\"\n     *               }\n     *           }\n     *       }\n     *   ]\n     * }\n     * const rewritten = new AddContextToTranslations<any>(\"prefix:\").convertStrict(theme, ConversionContext.test())\n     * rewritten // => theme\n     *\n     */\n    convert(json: T, context: ConversionContext): T {\n        if (json[\"#dont-translate\"] === \"*\") {\n            return json\n        }\n\n        return Utils.WalkJson(\n            json,\n            (leaf, path) => {\n                if (leaf === undefined || leaf === null) {\n                    return leaf\n                }\n                if (typeof leaf === \"object\") {\n                    // follow the path. If we encounter a number, check that there is no ID we can use instead\n                    let breadcrumb = json\n                    for (let i = 0; i < path.length; i++) {\n                        const pointer = path[i]\n                        breadcrumb = breadcrumb[pointer]\n                        if (pointer.match(\"[0-9]+\") && breadcrumb[\"id\"] !== undefined) {\n                            path[i] = breadcrumb[\"id\"]\n                        }\n                    }\n\n                    return {\n                        ...leaf,\n                        _context: this._prefix + context.path.concat(path).join(\".\"),\n                    }\n                } else {\n                    return leaf\n                }\n            },\n            (obj) => obj === undefined || obj === null || Translations.isProbablyATranslation(obj)\n        )\n    }\n}\n","import { TagRenderingConfigJson } from \"../Json/TagRenderingConfigJson\"\nimport { Utils } from \"../../../Utils\"\nimport SpecialVisualizations from \"../../../UI/SpecialVisualizations\"\nimport { RenderingSpecification, SpecialVisualization } from \"../../../UI/SpecialVisualization\"\nimport { QuestionableTagRenderingConfigJson } from \"../Json/QuestionableTagRenderingConfigJson\"\n\nexport default class ValidationUtils {\n    public static getAllSpecialVisualisations(\n        renderingConfigs: (TagRenderingConfigJson | QuestionableTagRenderingConfigJson)[]\n    ): RenderingSpecification[] {\n        const visualisations: RenderingSpecification[] = []\n        if (!Array.isArray(renderingConfigs)) {\n            throw (\n                \"Could not inspect renderingConfigs, not an array: \" +\n                JSON.stringify(renderingConfigs)\n            )\n        }\n        for (const renderConfig of renderingConfigs) {\n            visualisations.push(...ValidationUtils.getSpecialVisualisationsWithArgs(renderConfig))\n        }\n        return visualisations\n    }\n\n    /**\n     * Gives all the (function names of) used special visualisations\n     * @param renderingConfig\n     */\n    public static getSpecialVisualisations(\n        renderingConfig: TagRenderingConfigJson\n    ): SpecialVisualization[] {\n        return ValidationUtils.getSpecialVisualisationsWithArgs(renderingConfig).map(\n            (spec) => spec[\"func\"]\n        )\n    }\n\n    public static getSpecialVisualisationsWithArgs(\n        renderingConfig: TagRenderingConfigJson\n    ): RenderingSpecification[] {\n        if (!renderingConfig) {\n            return []\n        }\n        const cacheName = \"__specialVisualisationsWithArgs_cache\"\n        if (renderingConfig[cacheName]) {\n            return renderingConfig[cacheName]\n        }\n        if (!Array.isArray(renderingConfig.mappings ?? [])) {\n            throw (\n                \"Mappings of renderingconfig \" +\n                (renderingConfig[\"id\"] ?? renderingConfig.render ?? \"\") +\n                \" are supposed to be an array but it is: \" +\n                JSON.stringify(renderingConfig.mappings)\n            )\n        }\n        const translations: any[] = Utils.NoNull([\n            renderingConfig.render,\n            ...(renderingConfig.mappings ?? []).map((m) => m.then),\n        ])\n        const all: RenderingSpecification[] = []\n        for (let translation of translations) {\n            if (typeof translation == \"string\") {\n                translation = { \"*\": translation }\n            }\n\n            for (const key in translation) {\n                const template = translation[key]\n                const parts = SpecialVisualizations.constructSpecification(template)\n                const specials = parts.filter((p) => typeof p !== \"string\")\n                all.push(...specials)\n            }\n        }\n\n        // _Very_ dirty hack\n        Object.defineProperty(renderingConfig, cacheName, {\n            value: all,\n            enumerable: false,\n            configurable: true,\n            writable: true,\n        })\n\n        return all\n    }\n}\n","import { Conversion } from \"./Conversion\"\nimport RewritableConfigJson from \"../Json/RewritableConfigJson\"\nimport Translations from \"../../../UI/i18n/Translations\"\nimport { ConversionContext } from \"./ConversionContext\"\nimport { Utils } from \"../../../Utils\"\n\nexport class ExpandRewrite<T> extends Conversion<T | RewritableConfigJson<T>, T[]> {\n    constructor() {\n        super(\"Applies a rewrite\", [], \"ExpandRewrite\")\n    }\n\n    /**\n     * Used for left|right group creation and replacement.\n     * Every 'keyToRewrite' will be replaced with 'target' recursively. This substitution will happen in place in the object 'tr'\n     *\n     * The 'target' object will be cloned, the changes will be applied in this clone\n     *\n     * // should substitute strings\n     * const spec = {\n     *   \"someKey\": \"somevalue {xyz}\"\n     * }\n     * ExpandRewrite.RewriteParts(\"{xyz}\", \"rewritten\", spec) // => {\"someKey\": \"somevalue rewritten\"}\n     *\n     * // should substitute all occurances in strings\n     * const spec = {\n     *   \"someKey\": \"The left|right side has {key:left|right}\"\n     * }\n     * ExpandRewrite.RewriteParts(\"left|right\", \"left\", spec) // => {\"someKey\": \"The left side has {key:left}\"}\n     *\n     */\n    public static RewriteParts<T>(keyToRewrite: string, target: string | any, tr: T): T {\n        const targetIsTranslation = Translations.isProbablyATranslation(target)\n\n        function replaceRecursive(obj: string | any, target) {\n            if (obj === keyToRewrite) {\n                return target\n            }\n\n            if (typeof obj === \"string\") {\n                // This is a simple string - we do a simple replace\n                while (obj.indexOf(keyToRewrite) >= 0) {\n                    obj = obj.replace(keyToRewrite, target)\n                }\n                return obj\n            }\n            if (Array.isArray(obj)) {\n                // This is a list of items\n                return obj.map((o) => replaceRecursive(o, target))\n            }\n\n            if (typeof obj === \"object\") {\n                obj = { ...obj }\n\n                const isTr = targetIsTranslation && Translations.isProbablyATranslation(obj)\n\n                for (const key in obj) {\n                    let subtarget = target\n                    if (isTr) {\n                        // The target is a translation AND the current object is a translation\n                        // This means we should recursively replace with the translated value\n                        if (target[key]) {\n                            // A translation is available!\n                            subtarget = target[key]\n                        } else if (target[\"en\"]) {\n                            subtarget = target[\"en\"]\n                        } else {\n                            // Take the first\n                            subtarget = target[Object.keys(target)[0]]\n                        }\n                    }\n                    obj[key] = replaceRecursive(obj[key], subtarget)\n                }\n                return obj\n            }\n            return obj\n        }\n\n        return replaceRecursive(tr, target)\n    }\n\n    /**\n     * Used for check that a key is present in a string somewhere in the object\n     *\n     * // should substitute strings\n     * const spec = {\n     *   \"someKey\": \"somevalue {xyz}\"\n     * }\n     * ExpandRewrite.contains(\"{xyz}\", spec) // => true\n     * ExpandRewrite.contains(\"{abc}\", spec) // => false\n     *\n     */\n    public static contains<T>(keyToRewrite: string, tr: T): boolean {\n        function findRecursive(obj: string | any): boolean {\n            if (obj === keyToRewrite) {\n                return true\n            }\n\n            if (typeof obj === \"string\") {\n                // This is a simple string - we do a simple replace\n                return obj.indexOf(keyToRewrite) >= 0\n            }\n            if (Array.isArray(obj)) {\n                // This is a list of items\n                return obj.some((o) => findRecursive(o))\n            }\n\n            if (typeof obj === \"object\") {\n                obj = { ...obj }\n\n                for (const key in obj) {\n                    if (findRecursive(obj[key])) {\n                        return true\n                    }\n                }\n                return false\n            }\n            return false\n        }\n\n        return findRecursive(tr)\n    }\n\n    /**\n     * // should convert simple strings\n     * const spec = <RewritableConfigJson<string>>{\n     *     rewrite: {\n     *         sourceString: [\"xyz\",\"abc\"],\n     *         into: [\n     *             [\"X\", \"A\"],\n     *             [\"Y\", \"B\"],\n     *             [\"Z\", \"C\"]],\n     *     },\n     *     renderings: \"The value of xyz is abc\"\n     * }\n     * new ExpandRewrite().convertStrict(spec, ConversionContext.test()) // => [\"The value of X is A\", \"The value of Y is B\", \"The value of Z is C\"]\n     *\n     * // should rewrite with translations\n     * const spec = <RewritableConfigJson<any>>{\n     *     rewrite: {\n     *         sourceString: [\"xyz\",\"abc\"],\n     *         into: [\n     *             [\"X\", {en: \"value\", nl: \"waarde\"}],\n     *             [\"Y\", {en: \"some other value\", nl: \"een andere waarde\"}],\n     *     },\n     *     renderings: {en: \"The value of xyz is abc\", nl: \"De waarde van xyz is abc\"}\n     * }\n     * const expected = [\n     *  {\n     *      en: \"The value of X is value\",\n     *      nl: \"De waarde van X is waarde\"\n     *  },\n     *  {\n     *      en: \"The value of Y is some other value\",\n     *      nl: \"De waarde van Y is een andere waarde\"\n     *  }\n     * ]\n     * new ExpandRewrite().convertStrict(spec, ConversionContext.test()) // => expected\n     *\n     *\n     * // should expand sublists\n     * const spec = <RewritableConfigJson<any>>{\n     *     rewrite: {\n     *         sourceString: [\"{{key}}\",\"{{values}}\"],\n     *         into: [\n     *             [\"a\", [1,2,3] ],\n     *             [\"b\", [42, 43] ],\n     *     },\n     *     subexpand: {\"options\": [\"{{values}}\"]},\n     *     renderings: {question: \"What are values for {{key}}?\", options: [{if: \"x={{values}}\", then: \"{{values}} is value\" }] }\n     * }\n     * const expected = [\n     *  {question: \"What are values for a?\",\n     *  options: [{if: \"x=1\", then: \"1 is value\" },\n     *      {if: \"x=2\", then: \"2 is value\" },\n     *      {if: \"x=3\", then: \"3 is value\" }\n     *  ] }\n     *  {question: \"What are values for b?\", options: [\n     *  {if: \"x=42\", then: \"42 is value\" },\n     *  {if: \"x=43\", then: \"43 is value\" }\n     *  ] }\n     * ]\n     * new ExpandRewrite().convertStrict(spec, ConversionContext.test()) // => expected\n     *\n     *\n     * // should expand sublists if there is one\n     * const spec = <RewritableConfigJson<any>>{\n     *     rewrite: {\n     *         sourceString: [\"{{key}}\",\"{{values}}\"],\n     *         into: [\n     *             [\"a\", [] ],\n     *             [\"b\", [42, 43] ],\n     *             [\"c\", null ],\n     *     },\n     *     subexpand: {\"options\": [\"{{values}}\"]},\n     *     renderings: [\n     *      {question: \"What is {{key}}?\", options: [{if: \"x={{values}}\", then: \"{{values}} is value\" }],\n     *      {question: \"How is {{key}}?\", options: [{a: 5}, {b: 6}] },\n     *      {question: \"Why is {{key}}?\" }\n     *    ]\n     * }\n     * const expected = [\n     *  {question: \"What is a?\",\n     *  options: []},\n     *  {question: \"How is a?\", options: [{a: 5}, {b: 6}] },\n     *  {question: \"Why is a?\" },\n     *  {question: \"What is b?\", options: [\n     *  {if: \"x=42\", then: \"42 is value\" },\n     *  {if: \"x=43\", then: \"43 is value\" }\n     *  ] },\n     *  {question: \"How is b?\", options: [{a: 5}, {b: 6}] },\n     *  {question: \"Why is b?\" },\n     *  {question: \"What is c?\"},\n     *  {question: \"How is c?\", options: [{a: 5}, {b: 6}] },\n     *  {question: \"Why is c?\" },\n     * ]\n     * new ExpandRewrite().convertStrict(spec, ConversionContext.test()) // => expected\n     */\n    convert(json: T | RewritableConfigJson<T>, context: ConversionContext): T[] {\n        if (json === null || json === undefined) {\n            return []\n        }\n\n        if (json[\"rewrite\"] === undefined) {\n            // not a rewrite\n            return [<T>json]\n        }\n\n        const rewrite = <RewritableConfigJson<T>>json\n        const keysToRewrite = rewrite.rewrite\n        const results: T[] = []\n\n        {\n            // sanity check: rewrite: [\"xyz\", \"longer_xyz\"] is not allowed as \"longer_xyz\" will never be triggered\n            for (let i = 0; i < keysToRewrite.sourceString.length; i++) {\n                const guard = keysToRewrite.sourceString[i]\n                for (let j = i + 1; j < keysToRewrite.sourceString.length; j++) {\n                    const toRewrite = keysToRewrite.sourceString[j]\n                    if (toRewrite.indexOf(guard) >= 0) {\n                        context.err(\n                            `sourcestring[${i}] is a substring of sourcestring[${j}]: ${guard} will be substituted away before ${toRewrite} is reached.`\n                        )\n                    }\n                }\n            }\n        }\n\n        {\n            // sanity check: {rewrite: [\"a\", \"b\"] should have the right amount of 'intos' in every case\n            for (let i = 0; i < rewrite.rewrite.into.length; i++) {\n                const into = keysToRewrite.into[i]\n                if (into.length !== rewrite.rewrite.sourceString.length) {\n                    context\n                        .enters(\"into\", i)\n                        .err(\n                            `Error in rewrite: there are ${rewrite.rewrite.sourceString.length} keys to rewrite, but entry ${i} has only ${into.length} values`\n                        )\n                }\n            }\n        }\n\n        const renderings = Array.isArray(rewrite.renderings)\n            ? rewrite.renderings\n            : [rewrite.renderings]\n        for (let i = 0; i < keysToRewrite.into.length; i++) {\n            const ts: T[] = <T[]>Utils.Clone(renderings)\n            for (const tx of ts) {\n                let t = <T>tx\n                const sourceKeysToIgnore: string[] = []\n                for (const listKey in rewrite.subexpand) {\n                    const original = t[listKey]\n                    if (!original) {\n                        continue\n                    }\n                    const sourceKeys = rewrite.subexpand[listKey].filter((sk) =>\n                        ExpandRewrite.contains(sk, original)\n                    )\n                    if (sourceKeys.length === 0) {\n                        // no delete t[listKey] needed, fixed values we need to retain\n                        continue\n                    }\n\n                    if (sourceKeys.length > 1) {\n                        throw (\n                            \"Too much matching sourcekeys for sublist `\" +\n                            listKey +\n                            \"`: it matches all of \" +\n                            sourceKeys.join(\", \")\n                        )\n                    }\n\n                    const sourceKey = sourceKeys[0]\n                    sourceKeysToIgnore.push(sourceKey)\n                    const rw = rewrite.rewrite\n                    const values = rw.into[i][rw.sourceString.indexOf(sourceKey)]\n\n                    if (!values) {\n                        delete t[listKey]\n                        continue\n                    }\n                    if (!Array.isArray(values)) {\n                        throw (\n                            \"Sublist expansion of `\" +\n                            listKey +\n                            \"` failed: not an array to expand with:\" +\n                            JSON.stringify(values)\n                        )\n                    }\n                    t[listKey] = [].concat(\n                        ...values.map((v) => ExpandRewrite.RewriteParts(sourceKey, v, original))\n                    )\n                }\n\n                for (let j = 0; j < keysToRewrite.sourceString.length; j++) {\n                    // The string that should be replaced everywhere in `t`\n                    const key = keysToRewrite.sourceString[j]\n                    if (sourceKeysToIgnore.indexOf(key) >= 0) {\n                        continue\n                    }\n                    // The object that `key` should be replaced with\n                    const target = keysToRewrite.into[i][j]\n                    t = ExpandRewrite.RewriteParts(key, target, t)\n                }\n                results.push(t)\n            }\n        }\n\n        return results\n    }\n}\n","import {\n    Concat,\n    Conversion,\n    DesugaringContext,\n    DesugaringStep,\n    Each,\n    FirstOf,\n    Fuse,\n    On,\n    SetDefault,\n} from \"./Conversion\"\nimport { LayerConfigJson } from \"../Json/LayerConfigJson\"\nimport { MinimalTagRenderingConfigJson, TagRenderingConfigJson } from \"../Json/TagRenderingConfigJson\"\nimport { Utils } from \"../../../Utils\"\nimport RewritableConfigJson from \"../Json/RewritableConfigJson\"\nimport SpecialVisualizations from \"../../../UI/SpecialVisualizations\"\nimport Translations from \"../../../UI/i18n/Translations\"\nimport { Translation } from \"../../../UI/i18n/Translation\"\nimport tagrenderingconfigmeta from \"../../../../src/assets/schemas/tagrenderingconfigmeta.json\"\nimport { AddContextToTranslations } from \"./AddContextToTranslations\"\nimport FilterConfigJson, { FilterConfigOptionJson } from \"../Json/FilterConfigJson\"\nimport predifined_filters from \"../../../../assets/layers/filters/filters.json\"\nimport { TagConfigJson } from \"../Json/TagConfigJson\"\nimport PointRenderingConfigJson, { IconConfigJson } from \"../Json/PointRenderingConfigJson\"\nimport ValidationUtils from \"./ValidationUtils\"\nimport { RenderingSpecification } from \"../../../UI/SpecialVisualization\"\nimport { QuestionableTagRenderingConfigJson } from \"../Json/QuestionableTagRenderingConfigJson\"\nimport { ConfigMeta } from \"../../../UI/Studio/configMeta\"\nimport LineRenderingConfigJson from \"../Json/LineRenderingConfigJson\"\nimport { ConversionContext } from \"./ConversionContext\"\nimport { ExpandRewrite } from \"./ExpandRewrite\"\nimport { TagUtils } from \"../../../Logic/Tags/TagUtils\"\n\n\nclass AddFiltersFromTagRenderings extends DesugaringStep<LayerConfigJson> {\n    constructor() {\n        super(\"Inspects all the tagRenderings. If some tagRenderings have the `filter` attribute set, introduce those filters. This step might introduce shorthand filter names, thus 'ExpandFilter' should be run afterwards. Can be disabled with \\\"#filter\\\":\\\"no-auto\\\"\", [\"filter\"], \"AddFiltersFromTagRenderings\")\n    }\n\n    convert(json: LayerConfigJson, context: ConversionContext): LayerConfigJson {\n        const noAutoFilters = json[\"#filter\"] === \"no-auto\"\n        if(noAutoFilters){\n            return json\n        }\n\n        if(json.filter?.[\"sameAs\"]){\n            return json\n        }\n\n        const filters: (FilterConfigJson | string)[] = [...<any>json.filter ?? []]\n\n        function filterExists(filterName: string): boolean {\n            return filters.some((existing) => {\n                const id: string = existing[\"id\"] ?? existing\n                return (\n                    filterName === id ||\n                    (filterName.startsWith(\"filters.\") && filterName.endsWith(\".\" + id))\n                )\n            })\n        }\n\n\n\n        for (let i = 0; i < json.tagRenderings?.length; i++) {\n            const tagRendering = <TagRenderingConfigJson>json.tagRenderings[i]\n            if (!tagRendering?.filter) {\n                continue\n            }\n            if (tagRendering.filter === true) {\n                if (filterExists(tagRendering[\"id\"])) {\n                    continue\n                }\n                filters.push(ExpandFilter.buildFilterFromTagRendering(tagRendering, context.enters(\"tagRenderings\", i, \"filter\")))\n                continue\n            }\n            for (const filterName of tagRendering.filter ?? []) {\n                if (typeof filterName !== \"string\") {\n                    context.enters(\"tagRenderings\", i, \"filter\").err(\"Not a string: \" + filterName)\n                }\n                if (filterExists(filterName)) {\n                    // This filter has already been added\n                    continue\n                }\n                if (!filterName) {\n                    context.err(\"Got undefined as filter expansion in \" + tagRendering[\"id\"])\n                    continue\n                }\n                filters.push(filterName)\n            }\n        }\n\n        if(filters.length === 0){\n            return json\n        }\n\n        return { ...json, filter: filters }\n    }\n}\nclass ExpandFilter extends DesugaringStep<LayerConfigJson> {\n    private static readonly predefinedFilters = ExpandFilter.load_filters()\n    private _state: DesugaringContext\n\n    constructor(state: DesugaringContext) {\n        super(\n            [\"Expands filters: replaces a shorthand by the value found in 'filters.json'.\",\n                \"If the string is formatted 'layername.filtername, it will be looked up into that layer instead.\"].join(\" \"),\n            [\"filter\"],\n            \"ExpandFilter\",\n        )\n        this._state = state\n    }\n\n    private static load_filters(): Map<string, FilterConfigJson> {\n        const filters = new Map<string, FilterConfigJson>()\n        for (const filter of <FilterConfigJson[]>predifined_filters.filter) {\n            filters.set(filter.id, filter)\n        }\n        return filters\n    }\n\n    public static buildFilterFromTagRendering(tr: TagRenderingConfigJson, context: ConversionContext): FilterConfigJson {\n        if (!(tr.mappings?.length >= 1)) {\n            context.err(\n                \"Found a matching tagRendering to base a filter on, but this tagRendering does not contain any mappings\",\n            )\n        }\n        const options = (<QuestionableTagRenderingConfigJson>tr).mappings.map((mapping) => {\n            let icon: string = mapping.icon?.[\"path\"] ?? mapping.icon\n            let emoji: string = undefined\n            if (Utils.isEmoji(icon)) {\n                emoji = icon\n                icon = undefined\n            }\n            return (<FilterConfigOptionJson>{\n                question: mapping.then,\n                osmTags: mapping.if,\n                searchTerms: mapping.searchTerms,\n                icon, emoji,\n            })\n        })\n        // Add default option\n        options.unshift({\n            question: tr[\"question\"] ?? Translations.t.general.filterPanel.allTypes,\n            osmTags: undefined,\n            searchTerms: undefined,\n        })\n        return ({\n            id: tr[\"id\"],\n            options,\n        })\n    }\n\n    convert(json: LayerConfigJson, context: ConversionContext): LayerConfigJson {\n        if (json?.filter === undefined || json?.filter === null) {\n            return json // Nothing to change here\n        }\n\n        if (json.filter[\"sameAs\"] !== undefined) {\n            return json // Nothing to change here\n        }\n\n\n        const newFilters: FilterConfigJson[] = []\n        const filters = <(FilterConfigJson | string)[]>json.filter\n\n\n        /**\n         * Create filters based on builtin filters or create them based on the tagRendering\n         */\n        for (let i = 0; i < filters.length; i++) {\n            const filter = filters[i]\n            if (filter === undefined) {\n                continue\n            }\n            if (typeof filter !== \"string\") {\n                newFilters.push(filter)\n                continue\n            }\n\n            const matchingTr = <TagRenderingConfigJson>(\n                json.tagRenderings.find((tr) => !!tr && tr[\"id\"] === filter)\n            )\n            if (matchingTr) {\n                const filter = ExpandFilter.buildFilterFromTagRendering(matchingTr, context.enters(\"filter\", i))\n                newFilters.push(filter)\n                continue\n            }\n\n            if (filter.indexOf(\".\") > 0) {\n                if (!(this._state.sharedLayers?.size > 0)) {\n                    // This is a bootstrapping-run, we can safely ignore this\n                    continue\n                }\n                const split = filter.split(\".\")\n                if (split.length > 2) {\n                    context.err(\n                        \"invalid filter name: \" + filter + \", expected `layername.filterid`\",\n                    )\n                }\n                const layer = this._state.sharedLayers.get(split[0])\n                if (layer === undefined) {\n                    context.err(\"Layer '\" + split[0] + \"' not found\")\n                }\n                const expectedId = split[1]\n                const expandedFilter = (<(FilterConfigJson | string)[]>layer.filter).find(\n                    (f) => typeof f !== \"string\" && f.id === expectedId,\n                )\n                if (expandedFilter === undefined) {\n                    context.err(\"Did not find filter with name \" + filter)\n                } else {\n                    newFilters.push(<FilterConfigJson>expandedFilter)\n                }\n                continue\n            }\n            // Search for the filter:\n            const found = ExpandFilter.predefinedFilters.get(filter)\n            if (found === undefined) {\n                const suggestions = Utils.sortedByLevenshteinDistance(\n                    filter,\n                    Array.from(ExpandFilter.predefinedFilters.keys()),\n                    (t) => t,\n                )\n                context\n                    .enter(filter)\n                    .err(\n                        \"While searching for predefined filter \" +\n                        filter +\n                        \": this filter is not found. Perhaps you meant one of: \" +\n                        suggestions,\n                    )\n            }\n            newFilters.push(found)\n        }\n        return { ...json, filter: newFilters }\n    }\n}\n\nclass ExpandTagRendering extends Conversion<\n    | string\n    | TagRenderingConfigJson\n    | {\n    builtin: string | string[]\n    override: any\n},\n    TagRenderingConfigJson[]\n> {\n    private readonly _state: DesugaringContext\n    private readonly _tagRenderingsByLabel: Map<string, TagRenderingConfigJson[]>\n    // Only used for self-reference\n    private readonly _self: LayerConfigJson\n    private readonly _options: {\n        /* If true, will copy the 'osmSource'-tags into the condition */\n        applyCondition?: true | boolean\n        noHardcodedStrings?: false | boolean\n        addToContext?: false | boolean\n    }\n\n    constructor(\n        state: DesugaringContext,\n        self: LayerConfigJson,\n        options?: {\n            applyCondition?: true | boolean\n            noHardcodedStrings?: false | boolean\n            // If set, a question will be added to the 'sharedTagRenderings'. Should only be used for 'questions.json'\n            addToContext?: false | boolean\n        },\n    ) {\n        super(\n            \"Converts a tagRenderingSpec into the full tagRendering, e.g. by substituting the tagRendering by the shared-question and reusing the builtins\",\n            [],\n            \"ExpandTagRendering\",\n        )\n        this._state = state\n        this._self = self\n        this._options = options\n        this._tagRenderingsByLabel = new Map<string, TagRenderingConfigJson[]>()\n        for (const trconfig of state.tagRenderings?.values() ?? []) {\n            for (const label of trconfig[\"labels\"] ?? []) {\n                let withLabel = this._tagRenderingsByLabel.get(label)\n                if (withLabel === undefined) {\n                    withLabel = []\n                    this._tagRenderingsByLabel.set(label, withLabel)\n                }\n                withLabel.push(trconfig)\n            }\n        }\n    }\n\n    public convert(\n        spec: string | any,\n        ctx: ConversionContext,\n    ): QuestionableTagRenderingConfigJson[] {\n        const trs = this.convertOnce(spec, ctx)\n\n        const result = []\n        for (const tr of trs) {\n            if (typeof tr === \"string\" || tr[\"builtin\"] !== undefined) {\n                const stable = this.convert(tr, ctx.inOperation(\"recursive_resolve\"))\n                result.push(...stable)\n                if (this._options?.addToContext) {\n                    for (const tr of stable) {\n                        this._state.tagRenderings?.set(tr.id, tr)\n                    }\n                }\n            } else {\n                result.push(tr)\n                if (this._options?.addToContext) {\n                    this._state.tagRenderings?.set(tr[\"id\"], <QuestionableTagRenderingConfigJson>tr)\n                }\n            }\n        }\n\n        return result\n    }\n\n    private lookup(name: string, ctx: ConversionContext): TagRenderingConfigJson[] | undefined {\n        const direct = this.directLookup(name)\n\n        if (direct === undefined) {\n            return undefined\n        }\n        const result: TagRenderingConfigJson[] = []\n        for (const tagRenderingConfigJson of direct) {\n            const nm: string | string[] | undefined = tagRenderingConfigJson[\"builtin\"]\n            if (nm !== undefined) {\n                let indirect: TagRenderingConfigJson[]\n                if (typeof nm === \"string\") {\n                    indirect = this.lookup(nm, ctx)\n                } else {\n                    indirect = [].concat(...nm.map((n) => this.lookup(n, ctx)))\n                }\n                for (let foundTr of indirect) {\n                    foundTr = Utils.Clone<any>(foundTr)\n                    ctx.MergeObjectsForOverride(tagRenderingConfigJson[\"override\"] ?? {}, foundTr)\n                    foundTr[\"id\"] = tagRenderingConfigJson[\"id\"] ?? foundTr[\"id\"]\n                    result.push(foundTr)\n                }\n            } else {\n                result.push(tagRenderingConfigJson)\n            }\n        }\n        return result\n    }\n\n    /**\n     * Looks up a tagRendering or group of tagRenderings based on the name.\n     */\n    private directLookup(name: string): TagRenderingConfigJson[] | undefined {\n        const state = this._state\n        if (state.tagRenderings.has(name)) {\n            return [state.tagRenderings.get(name)]\n        }\n        if (this._tagRenderingsByLabel.has(name)) {\n            return this._tagRenderingsByLabel.get(name)\n        }\n\n        if (name.indexOf(\".\") < 0) {\n            return undefined\n        }\n\n        const spl = name.split(\".\")\n        let layer = state.sharedLayers?.get(spl[0])\n        if (spl[0] === this._self?.id) {\n            layer = this._self\n        }\n\n        if (spl.length !== 2 || !layer) {\n            return undefined\n        }\n\n        const id = spl[1]\n\n        const layerTrs = <TagRenderingConfigJson[]>(\n            layer.tagRenderings.filter((tr) => tr[\"id\"] !== undefined)\n        )\n        let matchingTrs: TagRenderingConfigJson[]\n        if (id === \"*\") {\n            matchingTrs = layerTrs\n        } else if (id.startsWith(\"*\")) {\n            const id_ = id.substring(1)\n            matchingTrs = layerTrs.filter((tr) => tr[\"labels\"]?.indexOf(id_) >= 0)\n        } else {\n            matchingTrs = layerTrs.filter((tr) => tr[\"id\"] === id || tr[\"labels\"]?.indexOf(id) >= 0)\n        }\n\n        const contextWriter = new AddContextToTranslations<TagRenderingConfigJson>(\"layers:\")\n        for (let i = 0; i < matchingTrs.length; i++) {\n            let found: TagRenderingConfigJson = Utils.Clone(matchingTrs[i])\n            if (this._options?.applyCondition) {\n                // The matched tagRenderings are 'stolen' from another layer. This means that they must match the layer condition before being shown\n                if (typeof layer.source !== \"string\") {\n                    if (found.condition === undefined) {\n                        found.condition = layer.source[\"osmTags\"]\n                    } else {\n                        found.condition = { and: [found.condition, layer.source[\"osmTags\"]] }\n                    }\n                }\n            }\n\n            found = contextWriter.convertStrict(\n                found,\n                ConversionContext.construct(\n                    [layer.id, \"tagRenderings\", found[\"id\"]],\n                    [\"AddContextToTranslations\"],\n                ),\n            )\n            matchingTrs[i] = found\n        }\n\n        if (matchingTrs.length !== 0) {\n            return matchingTrs\n        }\n        return undefined\n    }\n\n    private convertOnce(tr: string | any, ctx: ConversionContext): TagRenderingConfigJson[] {\n        const state = this._state\n\n        if (typeof tr === \"string\") {\n            let lookup\n            if (this._state.tagRenderings !== null) {\n                lookup = this.lookup(tr, ctx)\n            }\n            if (lookup === undefined) {\n                if (\n                    this._state.sharedLayers?.size > 0 &&\n                    ctx.path.at(-1) !== \"icon\" &&\n                    !ctx.path.find((p) => p === \"pointRendering\")\n                ) {\n                    ctx.warn(\n                        `A literal rendering was detected: ${tr}\n                      Did you perhaps forgot to add a layer name as 'layername.${tr}'? ` +\n                        Array.from(state.sharedLayers.keys()).join(\", \"),\n                    )\n                }\n\n                if (this._options?.noHardcodedStrings && this._state?.sharedLayers?.size > 0) {\n                    ctx.err(\n                        \"Detected an invocation to a builtin tagRendering, but this tagrendering was not found: \" +\n                        tr +\n                        \" \\n    Did you perhaps forget to add the layer as prefix, such as `icons.\" +\n                        tr +\n                        \"`? \",\n                    )\n                }\n\n                return [\n                    <any>{\n                        render: tr,\n                        id: tr.replace(/[^a-zA-Z0-9]/g, \"\"),\n                    },\n                ]\n            }\n            return lookup\n        }\n\n        if (tr[\"builtin\"] !== undefined) {\n            let names: string | string[] = tr[\"builtin\"]\n            if (typeof names === \"string\") {\n                names = [names]\n            }\n\n            if (this._state.tagRenderings === null) {\n                return []\n            }\n\n            for (const key of Object.keys(tr)) {\n                if (\n                    key === \"builtin\" ||\n                    key === \"override\" ||\n                    key === \"id\" ||\n                    key.startsWith(\"#\")\n                ) {\n                    continue\n                }\n                ctx.err(\n                    \"An object calling a builtin can only have keys `builtin` or `override`, but a key with name `\" +\n                    key +\n                    \"` was found. This won't be picked up! The full object is: \" +\n                    JSON.stringify(tr),\n                )\n            }\n\n            const trs: TagRenderingConfigJson[] = []\n            for (const name of names) {\n                const lookup = this.lookup(name, ctx)\n                if (lookup === undefined) {\n                    let candidates = Array.from(state.tagRenderings.keys())\n                    if (name.indexOf(\".\") > 0) {\n                        const [layerName] = name.split(\".\")\n                        let layer = state.sharedLayers.get(layerName)\n                        if (layerName === this._self?.id) {\n                            layer = this._self\n                        }\n                        if (layer === undefined) {\n                            const candidates = Utils.sortedByLevenshteinDistance(\n                                layerName,\n                                Array.from(state.sharedLayers.keys()),\n                                (s) => s,\n                            )\n                            if (state.sharedLayers.size === 0) {\n                                ctx.warn(\n                                    \"BOOTSTRAPPING. Rerun generate layeroverview. While reusing tagrendering: \" +\n                                    name +\n                                    \": layer \" +\n                                    layerName +\n                                    \" not found for now, but ignoring as this is a bootstrapping run. \",\n                                )\n                            } else {\n                                ctx.err(\n                                    \": While reusing tagrendering: \" +\n                                    name +\n                                    \": layer \" +\n                                    layerName +\n                                    \" not found. Maybe you meant one of \" +\n                                    candidates.slice(0, 3).join(\", \"),\n                                )\n                            }\n                            continue\n                        }\n                        candidates = Utils.NoNull(layer.tagRenderings.map((tr) => tr[\"id\"])).map(\n                            (id) => layerName + \".\" + id,\n                        )\n                    }\n                    candidates = Utils.sortedByLevenshteinDistance(name, candidates, (i) => i)\n                    ctx.err(\n                        \"The tagRendering with identifier \" +\n                        name +\n                        \" was not found.\\n\\tDid you mean one of \" +\n                        candidates.join(\", \") +\n                        \"?\\n(Hint: did you add a new label and are you trying to use this label at the same time? Run 'reset:layeroverview' first\",\n                    )\n                    continue\n                }\n                for (let foundTr of lookup) {\n                    foundTr = Utils.Clone<any>(foundTr)\n                    ctx.MergeObjectsForOverride(tr[\"override\"] ?? {}, foundTr)\n                    if (names.length == 1) {\n                        foundTr[\"id\"] = tr[\"id\"] ?? foundTr[\"id\"]\n                    }\n                    trs.push(foundTr)\n                }\n            }\n            return trs\n        }\n\n        return [tr]\n    }\n}\n\nclass DetectInline extends DesugaringStep<QuestionableTagRenderingConfigJson> {\n    constructor() {\n        super(\n            \"If no 'inline' is set on the freeform key, it will be automatically added. If no special renderings are used, it'll be set to true\",\n            [\"freeform.inline\"],\n            \"DetectInline\",\n        )\n    }\n\n    convert(\n        json: QuestionableTagRenderingConfigJson,\n        context: ConversionContext,\n    ): QuestionableTagRenderingConfigJson {\n        if (json.freeform === undefined) {\n            return json\n        }\n        let spec: Record<string, string>\n        if (typeof json.render === \"string\") {\n            spec = { \"*\": json.render }\n        } else {\n            spec = <Record<string, string>>json.render\n        }\n        for (const key in spec) {\n            if (spec[key].indexOf(\"<a \") >= 0) {\n                // We have a link element, it probably contains something that needs to be substituted...\n                // Let's play this safe and not inline it\n                return json\n            }\n            const fullSpecification = SpecialVisualizations.constructSpecification(spec[key])\n            if (fullSpecification.length > 1) {\n                // We found a special rendering!\n                if (json.freeform.inline === true) {\n                    context.err(\n                        \"'inline' is set, but the rendering contains a special visualisation...\\n    \" +\n                        spec[key],\n                    )\n                }\n                json = JSON.parse(JSON.stringify(json))\n                json.freeform.inline = false\n                return json\n            }\n        }\n        json = JSON.parse(JSON.stringify(json))\n        if (typeof json.freeform === \"string\") {\n            context.err(\"'freeform' is a string, but should be an object\")\n            return json\n        }\n\n        if(json.render === undefined){\n            context.err(\"No 'render' defined\")\n            return json\n        }\n\n        if(!Object.values(json?.render)?.some(render => render !== \"{\"+json.freeform.key+\"}\")){\n            // We only render the current value, without anything more. Not worth inlining\n            return json\n        }\n\n\n        json.freeform.inline ??= true\n        return json\n    }\n}\n\nexport class AddQuestionBox extends DesugaringStep<LayerConfigJson> {\n    constructor() {\n        super(\n            \"Adds a 'questions'-object if no question element is added yet\",\n            [\"tagRenderings\"],\n            \"AddQuestionBox\",\n        )\n    }\n\n    /**\n     * const action = new AddQuestionBox()\n     * const tagRenderings = [{id:\"questions\", render: {\"*\": \"{questions()}\" } }]\n     * const conv = action.convert({tagRenderings}, ConversionContext.construct([\"test\"], []))\n     * conv.tagRenderings // => [{id:\"questions\", render: {\"*\": \"{questions()}\" } }]\n     */\n    convert(json: LayerConfigJson, context: ConversionContext): LayerConfigJson {\n        if (\n            json.tagRenderings === undefined ||\n            json.tagRenderings.some((tr) => tr[\"id\"] === \"leftover-questions\")\n        ) {\n            return json\n        }\n        if (json.source === \"special\") {\n            return json\n        }\n        json = { ...json }\n        json.tagRenderings = [...json.tagRenderings]\n        const allSpecials: Exclude<RenderingSpecification, string>[] = <any>(\n            ValidationUtils.getAllSpecialVisualisations(\n                <QuestionableTagRenderingConfigJson[]>json.tagRenderings,\n            ).filter((spec) => typeof spec !== \"string\")\n        )\n\n        const questionSpecials = allSpecials.filter((sp) => sp.func.funcName === \"questions\")\n        const noLabels = questionSpecials.filter(\n            (sp) => sp.args.length === 0 || sp.args[0].trim() === \"\",\n        )\n\n        if (noLabels.length > 1) {\n            context.err(\n                \"Multiple 'questions'-visualisations found which would show _all_ questions. Don't do this\",\n            )\n        }\n\n        // ALl labels that are used in this layer\n        const allLabels = new Set(\n            [].concat(\n                ...json.tagRenderings.map(\n                    (tr) => (<QuestionableTagRenderingConfigJson>tr).labels ?? [],\n                ),\n            ),\n        )\n        const seen: Set<string> = new Set()\n        for (const questionSpecial of questionSpecials) {\n            if (typeof questionSpecial === \"string\") {\n                continue\n            }\n            const used = questionSpecial.args[0]\n                ?.split(\";\")\n                ?.map((a) => a.trim())\n                ?.filter((s) => s != \"\")\n            const blacklisted = questionSpecial.args[1]\n                ?.split(\";\")\n                ?.map((a) => a.trim())\n                ?.filter((s) => s != \"\")\n            if (blacklisted?.length > 0 && used?.length > 0) {\n                context.err(\n                    \"The {questions()}-special rendering only supports either a blacklist OR a whitelist, but not both.\" +\n                    \"\\n    Whitelisted: \" +\n                    used.join(\", \") +\n                    \"\\n    Blacklisted: \" +\n                    blacklisted.join(\", \"),\n                )\n            }\n            for (const usedLabel of used) {\n                if (!allLabels.has(usedLabel)) {\n                    context.err(\n                        \"This layers specifies a special question element for label `\" +\n                        usedLabel +\n                        \"`, but this label doesn't exist.\\n\" +\n                        \"    Available labels are \" +\n                        Array.from(allLabels).join(\", \"),\n                    )\n                }\n                seen.add(usedLabel)\n            }\n        }\n\n        if (noLabels.length == 0) {\n            /* At this point, we know which question labels are not yet handled and which already are handled, and we\n             * know there is no previous catch-all questions\n             */\n            const question: QuestionableTagRenderingConfigJson = {\n                id: \"leftover-questions\",\n                render: {\n                    \"*\": `{questions( ,${Array.from(seen).join(\";\")})}`,\n                },\n            }\n            json.tagRenderings.push(question)\n        }\n        return json\n    }\n}\n\nexport class AddEditingElements extends DesugaringStep<LayerConfigJson> {\n    private readonly _desugaring: DesugaringContext\n    private readonly _addedByDefaultAtTop: QuestionableTagRenderingConfigJson[]\n    private readonly _addedByDefault: QuestionableTagRenderingConfigJson[]\n    private readonly builtinQuestions: QuestionableTagRenderingConfigJson[]\n\n    constructor(desugaring: DesugaringContext) {\n        super(\n            \"Add some editing elements, such as the delete button or the move button if they are configured. These used to be handled by the feature info box, but this has been replaced by special visualisation elements\",\n            [],\n            \"AddEditingElements\",\n        )\n        this._desugaring = desugaring\n        this.builtinQuestions = Array.from(this._desugaring.tagRenderings?.values() ?? [])\n\n        this._addedByDefaultAtTop = this.getAddedByDefaultIds(\"added_by_default_top\")\n        this._addedByDefault = this.getAddedByDefaultIds(\"added_by_default\")\n    }\n\n    public getAddedByDefaultIds(key: string): QuestionableTagRenderingConfigJson[] {\n        const addByDefault = this.builtinQuestions.filter((tr) => tr.labels?.indexOf(key) >= 0)\n        const ids = new Set(addByDefault.map((tr) => tr.id))\n        const idsInOrder = this._desugaring.tagRenderingOrder?.filter((id) => ids.has(id)) ?? []\n        return Utils.NoNull(idsInOrder.map((id) => this._desugaring.tagRenderings.get(id)))\n    }\n\n    convert(json: LayerConfigJson, _: ConversionContext): LayerConfigJson {\n        if (this._desugaring.tagRenderings === null) {\n            return json\n        }\n        if (json.source === \"special\") {\n            return json\n        }\n        if (!json.title && !json.tagRenderings) {\n            return json\n        }\n        json = { ...json }\n        json.tagRenderings = [...(json.tagRenderings ?? [])]\n        const allIds = new Set<string>(json.tagRenderings.map((tr) => tr[\"id\"]))\n        const specialVisualisations = ValidationUtils.getAllSpecialVisualisations(\n            <any>json.tagRenderings,\n        )\n\n        const usedSpecialFunctions = new Set(\n            specialVisualisations.map((sv) =>\n                typeof sv === \"string\" ? undefined : sv.func.funcName,\n            ),\n        )\n\n        /***** ADD TO TOP ****/\n\n        json.tagRenderings.unshift(...this._addedByDefaultAtTop.filter((tr) => !allIds.has(tr.id)))\n\n        /***** ADD TO BOTTOM ****/\n\n        if (!usedSpecialFunctions.has(\"minimap\")) {\n            json.tagRenderings.push(this._desugaring.tagRenderings.get(\"minimap\"))\n        }\n\n        if (\n            usedSpecialFunctions.has(\"image_upload\") &&\n            !usedSpecialFunctions.has(\"nearby_images\")\n        ) {\n            json.tagRenderings.push(this._desugaring.tagRenderings.get(\"nearby_images\"))\n        }\n\n        if (json.allowSplit && !usedSpecialFunctions.has(\"split_button\")) {\n            json.tagRenderings.push(this._desugaring.tagRenderings.get(\"split_button\"))\n            delete json.allowSplit\n        }\n\n        if (json.allowMove && !usedSpecialFunctions.has(\"move_button\")) {\n            json.tagRenderings.push({\n                id: \"move-button\",\n                render: { \"*\": \"{move_button()}\" },\n            })\n        }\n        if (json.deletion && !usedSpecialFunctions.has(\"delete_button\")) {\n            json.tagRenderings.push({\n                id: \"delete-button\",\n                render: { \"*\": \"{delete_button()}\" },\n            })\n        }\n\n        json.tagRenderings.push(...this._addedByDefault.filter((tr) => !allIds.has(tr.id)))\n\n        if (!usedSpecialFunctions.has(\"all_tags\")) {\n            const trc: QuestionableTagRenderingConfigJson = {\n                id: \"all-tags\",\n                render: { \"*\": \"{all_tags()}\" },\n                labels: [\"ignore_docs\"],\n                metacondition: {\n                    or: [\n                        \"__featureSwitchIsDebugging=true\",\n                        \"mapcomplete-show_tags=full\",\n                        \"mapcomplete-show_debug=yes\",\n                    ],\n                },\n            }\n            json.tagRenderings?.push(trc)\n        }\n\n        return json\n    }\n}\n\n/**\n * Converts a 'special' translation into a regular translation which uses parameters\n */\nexport class RewriteSpecial extends DesugaringStep<TagRenderingConfigJson> {\n    constructor() {\n        super(\n            \"Converts a 'special' translation into a regular translation which uses parameters\",\n            [\"special\"],\n            \"RewriteSpecial\",\n        )\n    }\n\n    private static escapeStr(v: string, context: ConversionContext): string {\n        if (typeof v !== \"string\") {\n            context.err(\"Detected a non-string value where one expected a string: \" + v)\n            return RewriteSpecial.escapeStr(\"\" + v, context)\n        }\n        return v\n            .replace(/,/g, \"&COMMA\")\n            .replace(/\\{/g, \"&LBRACE\")\n            .replace(/}/g, \"&RBRACE\")\n            .replace(/\\(/g, \"&LPARENS\")\n            .replace(/\\)/g, \"&RPARENS\")\n    }\n\n    /**\n     * Does the heavy lifting and conversion\n     *\n     * // should not do anything if no 'special'-key is present\n     * RewriteSpecial.convertIfNeeded({\"en\": \"xyz\", \"nl\": \"abc\"}, ConversionContext.test()) // => {\"en\": \"xyz\", \"nl\": \"abc\"}\n     *\n     * // should handle a simple special case\n     * RewriteSpecial.convertIfNeeded({\"special\": {\"type\":\"image_carousel\"}}, ConversionContext.test()) // => {'*': \"{image_carousel()}\"}\n     *\n     * // should add a class to the special element\n     * RewriteSpecial.convertIfNeeded({\"special\": {\"type\":\"qr_code\"}, class:\"inline\"}, ConversionContext.test()) // => {'*': \"{qr_code():inline}\"}\n     *\n     * // should handle special case with a parameter\n     * RewriteSpecial.convertIfNeeded({\"special\": {\"type\":\"image_carousel\", \"image_key\": \"some_image_key\"}}, ConversionContext.test()) // =>  {'*': \"{image_carousel(some_image_key)}\"}\n     *\n     * // should handle special case with a translated parameter\n     * const spec = {\"special\": {\"type\":\"image_upload\", \"label\": {\"en\": \"Add a picture to this object\", \"nl\": \"Voeg een afbeelding toe\"}}}\n     * const r = RewriteSpecial.convertIfNeeded(spec, ConversionContext.test())\n     * r // => {\"en\": \"{image_upload(,Add a picture to this object)}\", \"nl\": \"{image_upload(,Voeg een afbeelding toe)}\" }\n     *\n     * // should handle special case with a prefix and postfix\n     * const spec = {\"special\": {\"type\":\"image_upload\" }, before: {\"en\": \"PREFIX \"}, after: {\"en\": \" POSTFIX\", nl: \" Achtervoegsel\"} }\n     * const r = RewriteSpecial.convertIfNeeded(spec, ConversionContext.test())\n     * r // => {\"en\": \"PREFIX {image_upload(,)} POSTFIX\", \"nl\": \"PREFIX {image_upload(,)} Achtervoegsel\" }\n     *\n     * // should warn for unexpected keys\n     * const context = ConversionContext.test()\n     * RewriteSpecial.convertIfNeeded({\"special\": {type: \"image_carousel\"}, \"en\": \"xyz\"}, context) // =>  {'*': \"{image_carousel()}\"}\n     * context.getAll(\"error\")[0].message // => \"The only keys allowed next to a 'special'-block are 'before', 'after' and 'class'. Perhaps you meant to put 'en' into the special block?\"\n     *\n     * // should give an error on unknown visualisations\n     * const context = ConversionContext.test()\n     * RewriteSpecial.convertIfNeeded({\"special\": {type: \"qsdf\"}}, context) // => undefined\n     * context.getAll(\"error\")[0].message.indexOf(\"Special visualisation 'qsdf' not found\") >= 0 // => true\n     *\n     * // should give an error is 'type' is missing\n     * const context = ConversionContext.test()\n     * RewriteSpecial.convertIfNeeded({\"special\": {}}, context) // => undefined\n     * context.getAll(\"error\")[0].message // => \"A 'special'-block should define 'type' to indicate which visualisation should be used\"\n     *\n     *\n     * // an actual test\n     * const special = {\n     *     \"before\": {\n     *             \"en\": \"<h3>Entrances</h3>This building has {_entrances_count} entrances:\"\n     *           },\n     *     \"after\": {\n     *             \"en\": \"{_entrances_count_without_width_count} entrances don't have width information yet\"\n     *           },\n     *     \"special\": {\n     *           \"type\": \"multi\",\n     *           \"key\": \"_entrance_properties_with_width\",\n     *           \"tagrendering\": {\n     *             \"en\": \"An <a href='#{id}'>entrance</a> of {canonical(width)}\"\n     *           }\n     *         }}\n     * const context = ConversionContext.test()\n     * RewriteSpecial.convertIfNeeded(special, context) // => {\"en\": \"<h3>Entrances</h3>This building has {_entrances_count} entrances:{multi(_entrance_properties_with_width,An <a href='#&LBRACEid&RBRACE'>entrance</a> of &LBRACEcanonical&LPARENSwidth&RPARENS&RBRACE,)}{_entrances_count_without_width_count} entrances don't have width information yet\"}\n     * context.getAll(\"error\") // => []\n     *\n     * // another actual test\n     * const special = {\n     *     \"special\":{\n     *          \"type\": \"multi\",\n     *          \"key\": \"_nearby_bicycle_parkings:props\",\n     *          \"tagrendering\": \"<b>{id}</b> ({distance}m) {tagApply(a,b,c)}\"\n     *         }}\n     * const context = ConversionContext.test()\n     * RewriteSpecial.convertIfNeeded(special, context) // => {\"*\": \"{multi(_nearby_bicycle_parkings:props,<b>&LBRACEid&RBRACE</b> &LPARENS&LBRACEdistance&RBRACEm&RPARENS &LBRACEtagApply&LPARENSa&COMMAb&COMMAc&RPARENS&RBRACE,)}\"}\n     * context.getAll(\"error\") // => []\n     */\n    private static convertIfNeeded(\n        input:\n            | (object & {\n            special: {\n                type: string\n            }\n        })\n            | any,\n        context: ConversionContext,\n    ): any {\n        const special = input[\"special\"]\n        if (special === undefined) {\n            return input\n        }\n\n        const type = special[\"type\"]\n        if (type === undefined) {\n            context.err(\n                \"A 'special'-block should define 'type' to indicate which visualisation should be used\",\n            )\n            return undefined\n        }\n\n        const vis = SpecialVisualizations.specialVisualizations.find((sp) => sp.funcName === type)\n        if (vis === undefined) {\n            const options = Utils.sortedByLevenshteinDistance(\n                type,\n                SpecialVisualizations.specialVisualizations,\n                (sp) => sp.funcName,\n            )\n            context.err(\n                `Special visualisation '${type}' not found. Did you perhaps mean ${options[0].funcName}, ${options[1].funcName} or ${options[2].funcName}?\\n\\tFor all known special visualisations, please see https://github.com/pietervdvn/MapComplete/blob/develop/Docs/SpecialRenderings.md`,\n            )\n            return undefined\n        }\n        Array.from(Object.keys(input))\n            .filter((k) => k !== \"special\" && k !== \"before\" && k !== \"after\" && k !== \"class\")\n            .map((k) => {\n                return `The only keys allowed next to a 'special'-block are 'before', 'after' and 'class'. Perhaps you meant to put '${k}' into the special block?`\n            })\n            .forEach((e) => context.err(e))\n\n        const argNamesList = vis.args.map((a) => a.name)\n        const argNames = new Set<string>(argNamesList)\n        // Check for obsolete and misspelled arguments\n        Object.keys(special)\n            .filter((k) => !argNames.has(k))\n            .filter((k) => k !== \"type\" && k !== \"before\" && k !== \"after\")\n            .map((wrongArg) => {\n                const byDistance = Utils.sortedByLevenshteinDistance(\n                    wrongArg,\n                    argNamesList,\n                    (x) => x,\n                )\n                return `Unexpected argument in special block at ${context} with name '${wrongArg}'. Did you mean ${\n                    byDistance[0]\n                }?\\n\\tAll known arguments are ${argNamesList.join(\", \")}`\n            })\n            .forEach((e) => context.err(e))\n\n        // Check that all obligated arguments are present. They are obligated if they don't have a preset value\n        for (const arg of vis.args) {\n            if (arg.required !== true) {\n                continue\n            }\n            const param = special[arg.name]\n            if (param === undefined) {\n                context.err(\n                    `Obligated parameter '${arg.name}' in special rendering of type ${\n                        vis.funcName\n                    } not found.\\n    The full special rendering specification is: '${JSON.stringify(\n                        input,\n                    )}'\\n    ${arg.name}: ${arg.doc}`,\n                )\n            }\n        }\n\n        const foundLanguages = new Set<string>()\n        const translatedArgs = argNamesList\n            .map((nm) => special[nm])\n            .filter((v) => v !== undefined)\n            .filter((v) => Translations.isProbablyATranslation(v) || v[\"*\"] !== undefined)\n        for (const translatedArg of translatedArgs) {\n            for (const ln of Object.keys(translatedArg)) {\n                foundLanguages.add(ln)\n            }\n        }\n\n        const before = Translations.T(input.before)\n        const after = Translations.T(input.after)\n        const clss: string = input.class !== undefined ? \":\" + input.class : \"\"\n\n        for (const ln of Object.keys(before?.translations ?? {})) {\n            foundLanguages.add(ln)\n        }\n        for (const ln of Object.keys(after?.translations ?? {})) {\n            foundLanguages.add(ln)\n        }\n\n        if (foundLanguages.size === 0) {\n            const args = argNamesList\n                .map((nm) => RewriteSpecial.escapeStr(special[nm] ?? \"\", context))\n                .join(\",\")\n            return {\n                \"*\": `{${type}(${args})${clss}}`,\n            }\n        }\n\n        const result = {}\n        const languages = Array.from(foundLanguages)\n        languages.sort()\n        for (const ln of languages) {\n            const args = []\n            for (const argName of argNamesList) {\n                let v = special[argName] ?? \"\"\n                if (Translations.isProbablyATranslation(v)) {\n                    v = new Translation(v).textFor(ln)\n                }\n\n                if (typeof v === \"string\") {\n                    args.push(RewriteSpecial.escapeStr(v, context))\n                } else if (typeof v === \"object\") {\n                    args.push(JSON.stringify(v))\n                } else {\n                    args.push(v)\n                }\n            }\n            const beforeText = before?.textFor(ln) ?? \"\"\n            const afterText = after?.textFor(ln) ?? \"\"\n            result[ln] = `${beforeText}{${type}(${args\n                .map((a) => a)\n                .join(\",\")})${clss}}${afterText}`\n        }\n        return result\n    }\n\n    /**\n     * const tr = {\n     *     render: {special: {type: \"image_carousel\", image_key: \"image\" }},\n     *     mappings: [\n     *         {\n     *             if: \"other_image_key\",\n     *             then: {special: {type: \"image_carousel\", image_key: \"other_image_key\"}}\n     *         }\n     *     ]\n     * }\n     * const result = new RewriteSpecial().convertStrict(tr,ConversionContext.test())\n     * const expected = {render:  {'*': \"{image_carousel(image)}\"}, mappings: [{if: \"other_image_key\", then:  {'*': \"{image_carousel(other_image_key)}\"}} ]}\n     * result // => expected\n     *\n     * // Should put text before if specified\n     * const tr = {\n     *     render: {special: {type: \"image_carousel\", image_key: \"image\"}, before: {en: \"Some introduction\"} },\n     * }\n     * const result = new RewriteSpecial().convertStrict(tr,ConversionContext.test())\n     * const expected = {render:  {'en': \"Some introduction{image_carousel(image)}\"}}\n     * result // => expected\n     *\n     * // Should put text after if specified\n     * const tr = {\n     *     render: {special: {type: \"image_carousel\", image_key: \"image\"}, after: {en: \"Some footer\"} },\n     * }\n     * const result = new RewriteSpecial().convertStrict(tr,ConversionContext.test())\n     * const expected = {render:  {'en': \"{image_carousel(image)}Some footer\"}}\n     * result // => expected\n     */\n    convert(json: TagRenderingConfigJson, context: ConversionContext): TagRenderingConfigJson {\n        json = Utils.Clone(json)\n        const paths: ConfigMeta[] = tagrenderingconfigmeta\n        for (const path of paths) {\n            if (path.hints.typehint !== \"rendered\") {\n                continue\n            }\n            Utils.WalkPath(path.path, json, (leaf, travelled) =>\n                RewriteSpecial.convertIfNeeded(leaf, context.enter(travelled)),\n            )\n        }\n\n        return json\n    }\n}\n\nclass ExpandIconBadges extends DesugaringStep<PointRenderingConfigJson> {\n    private _expand: ExpandTagRendering\n\n    constructor(state: DesugaringContext, layer: LayerConfigJson) {\n        super(\"Expands shorthand properties on iconBadges\", [\"iconBadges\"], \"ExpandIconBadges\")\n        this._expand = new ExpandTagRendering(state, layer)\n    }\n\n    convert(json: PointRenderingConfigJson, context: ConversionContext): PointRenderingConfigJson {\n        if (!json[\"iconBadges\"]) {\n            return json\n        }\n        const badgesJson = json.iconBadges\n\n        const iconBadges: {\n            if: TagConfigJson\n            then: string | MinimalTagRenderingConfigJson\n        }[] = []\n\n        for (let i = 0; i < badgesJson.length; i++) {\n            const iconBadge: {\n                if: TagConfigJson\n                then: string | MinimalTagRenderingConfigJson\n            } = badgesJson[i]\n            const expanded = this._expand.convert(\n                <QuestionableTagRenderingConfigJson>iconBadge.then,\n                context.enters(\"iconBadges\", i),\n            )\n            if (expanded === undefined) {\n                iconBadges.push(iconBadge)\n                continue\n            }\n\n            iconBadges.push(\n                ...expanded.map((resolved) => ({\n                    if: iconBadge.if,\n                    then: <MinimalTagRenderingConfigJson>resolved,\n                })),\n            )\n        }\n\n        return { ...json, iconBadges }\n    }\n}\n\nclass PreparePointRendering extends Fuse<PointRenderingConfigJson> {\n    constructor(state: DesugaringContext, layer: LayerConfigJson) {\n        super(\n            \"Prepares point renderings by expanding 'icon' and 'iconBadges'\",\n            new On(\n                \"marker\",\n                new Each(\n                    new On(\n                        \"icon\",\n                        new FirstOf(new ExpandTagRendering(state, layer, { applyCondition: false })),\n                    ),\n                ),\n            ),\n            new ExpandIconBadges(state, layer),\n        )\n    }\n}\n\nclass SetFullNodeDatabase extends DesugaringStep<LayerConfigJson> {\n    constructor() {\n        super(\n            \"sets the fullNodeDatabase-bit if needed\",\n            [\"fullNodeDatabase\"],\n            \"SetFullNodeDatabase\",\n        )\n    }\n\n    convert(json: LayerConfigJson, context: ConversionContext): LayerConfigJson {\n        const needsSpecial =\n            json.tagRenderings?.some((tr) => {\n                if (typeof tr === \"string\") {\n                    return false\n                }\n                const specs = ValidationUtils.getSpecialVisualisations(<TagRenderingConfigJson>tr)\n                return specs?.some((sp) => sp.needsNodeDatabase)\n            }) ?? false\n        if (!needsSpecial) {\n            return json\n        }\n        context.debug(\"Layer \" + json.id + \" needs the fullNodeDatabase\")\n        return { ...json, fullNodeDatabase: true }\n    }\n}\n\nclass ExpandMarkerRenderings extends DesugaringStep<IconConfigJson> {\n    private readonly _layer: LayerConfigJson\n    private readonly _state: DesugaringContext\n\n    constructor(state: DesugaringContext, layer: LayerConfigJson) {\n        super(\n            \"Expands tagRenderings in the icons, if needed\",\n            [\"icon\", \"color\"],\n            \"ExpandMarkerRenderings\",\n        )\n        this._layer = layer\n        this._state = state\n    }\n\n    convert(json: IconConfigJson, context: ConversionContext): IconConfigJson {\n        const expander = new ExpandTagRendering(this._state, this._layer)\n        const result: IconConfigJson = { icon: undefined, color: undefined }\n        if (json.icon && json.icon[\"builtin\"]) {\n            result.icon = <MinimalTagRenderingConfigJson>(\n                expander.convert(<any>json.icon, context.enter(\"icon\"))[0]\n            )\n        } else {\n            result.icon = json.icon\n        }\n        if (json.color && json.color[\"builtin\"]) {\n            result.color = <MinimalTagRenderingConfigJson>(\n                expander.convert(<any>json.color, context.enter(\"color\"))[0]\n            )\n        } else {\n            result.color = json.color\n        }\n        return result\n    }\n}\n\nclass AddFavouriteBadges extends DesugaringStep<LayerConfigJson> {\n    constructor() {\n        super(\n            \"Adds the favourite heart to the title and the rendering badges\",\n            [],\n            \"AddFavouriteBadges\",\n        )\n    }\n\n    convert(json: LayerConfigJson, _: ConversionContext): LayerConfigJson {\n        if (json.source === \"special\" || json.source === \"special:library\") {\n            return json\n        }\n        const pr = json.pointRendering?.[0]\n        if (pr) {\n            pr.iconBadges ??= []\n            if (!pr.iconBadges.some((ti) => ti.if === \"_favourite=yes\")) {\n                pr.iconBadges.push({ if: \"_favourite=yes\", then: \"circle:white;heart:red\" })\n            }\n        }\n\n        return json\n    }\n}\n\nexport class AddRatingBadge extends DesugaringStep<LayerConfigJson> {\n    constructor() {\n        super(\n            \"Adds the 'rating'-element if a reviews-element is used in the tagRenderings\",\n            [\"titleIcons\"],\n            \"AddRatingBadge\",\n        )\n    }\n\n    convert(json: LayerConfigJson, _: ConversionContext): LayerConfigJson {\n        if (!json.tagRenderings) {\n            return json\n        }\n        if (json.titleIcons.some((ti) => ti === \"icons.rating\" || ti[\"id\"] === \"rating\")) {\n            // already added\n            return json\n        }\n        if (json.id === \"favourite\") {\n            // handled separately\n            return json\n        }\n\n        const specialVis: Exclude<RenderingSpecification, string>[] = <\n            Exclude<RenderingSpecification, string>[]\n            >ValidationUtils.getAllSpecialVisualisations(<any>json.tagRenderings).filter(\n            (rs) => typeof rs !== \"string\",\n        )\n        const funcs = new Set<string>(specialVis.map((rs) => rs.func.funcName))\n\n        if (funcs.has(\"list_reviews\")) {\n            ;(<(string | TagRenderingConfigJson)[]>json.titleIcons).push(\"icons.rating\")\n        }\n        return json\n    }\n}\n\nexport class AutoTitleIcon extends DesugaringStep<LayerConfigJson> {\n    constructor() {\n        super(\n            \"The auto-icon creates a (non-clickable) title icon based on a tagRendering which has icons\",\n            [\"titleIcons\"],\n            \"AutoTitleIcon\",\n        )\n    }\n\n    private createTitleIconsBasedOn(\n        tr: QuestionableTagRenderingConfigJson,\n    ): TagRenderingConfigJson | undefined {\n        const mappings: { if: TagConfigJson; then: string }[] = tr.mappings\n            ?.filter((m) => m.icon !== undefined)\n            .map((m) => {\n                const path: string = typeof m.icon === \"string\" ? m.icon : m.icon.path\n                const img = `<img class=\"m-1 h-6 w-6 low-interaction rounded\" src='${path}'/>`\n                return { if: m.if, then: img }\n            })\n        if (!mappings || mappings.length === 0) {\n            return undefined\n        }\n        return <TagRenderingConfigJson>{\n            id: \"title_icon_auto_\" + tr.id,\n            mappings,\n        }\n    }\n\n    convert(json: LayerConfigJson, context: ConversionContext): LayerConfigJson {\n        json = { ...json }\n        json.titleIcons = [...json.titleIcons]\n\n        const allAutoIndex = json.titleIcons.indexOf(<any>\"auto:*\")\n        if (allAutoIndex >= 0) {\n            const generated = Utils.NoNull(\n                json.tagRenderings.map((tr) => {\n                    if (typeof tr === \"string\") {\n                        return undefined\n                    }\n                    return this.createTitleIconsBasedOn(<any>tr)\n                }),\n            )\n            json.titleIcons.splice(allAutoIndex, 1, ...generated)\n            return json\n        }\n\n        for (let i = 0; i < json.titleIcons.length; i++) {\n            const titleIcon = json.titleIcons[i]\n            if (typeof titleIcon !== \"string\") {\n                continue\n            }\n            if (!titleIcon.startsWith(\"auto:\")) {\n                continue\n            }\n            const trId = titleIcon.substring(\"auto:\".length)\n            const tr = <QuestionableTagRenderingConfigJson>(\n                json.tagRenderings.find((tr) => tr[\"id\"] === trId)\n            )\n            if (tr === undefined) {\n                context.enters(\"titleIcons\", i).err(\"TagRendering with id \" + trId + \" not found\")\n                continue\n            }\n            const generated = this.createTitleIconsBasedOn(tr)\n\n            if (!generated) {\n                context\n                    .enters(\"titleIcons\", i)\n                    .warn(\n                        \"TagRendering with id \" +\n                        trId +\n                        \" does not have any icons, not generating an icon for this\",\n                    )\n                continue\n            }\n            json.titleIcons[i] = generated\n        }\n        return json\n    }\n}\n\nclass DeriveSource extends DesugaringStep<LayerConfigJson> {\n    constructor() {\n        super(\n            \"If no source is given, automatically derives the osmTags by 'or'-ing all the preset tags\",\n            [\"source\"],\n            \"DeriveSource\",\n        )\n    }\n\n    public convert(json: LayerConfigJson, context: ConversionContext): LayerConfigJson {\n        if (json.source) {\n            return json\n        }\n        if (!json.presets) {\n            context.err(\n                \"No source tags given. Trying to derive the source-tags based on the presets, but no presets are given\",\n            )\n            return json\n        }\n\n        json = { ...json }\n\n        const raw = { or: json.presets.map((pr) => ({ and: pr.tags })) }\n        const osmTags = TagUtils.optimzeJson(raw)\n        if (osmTags === false) {\n            context.err(\"The preset-tags optimize to 'false' \" + JSON.stringify(raw))\n            return json\n        }\n        if (osmTags === true) {\n            context.err(\"The preset-tags optimize to 'true' \" + JSON.stringify(raw))\n            return json\n        }\n\n        json.source = { osmTags }\n        return json\n    }\n}\n\nexport class PrepareLayer extends Fuse<LayerConfigJson> {\n    constructor(\n        state: DesugaringContext,\n        options?: { addTagRenderingsToContext?: false | boolean },\n    ) {\n        super(\n            \"Fully prepares and expands a layer for the LayerConfig.\",\n            new DeriveSource(),\n            new On(\"tagRenderings\", new Each(new RewriteSpecial())),\n            new On(\"tagRenderings\", new Concat(new ExpandRewrite()).andThenF(Utils.Flatten)),\n            new On(\n                \"tagRenderings\",\n                (layer) =>\n                    new Concat(\n                        new ExpandTagRendering(state, layer, {\n                            addToContext: options?.addTagRenderingsToContext ?? false,\n                        }),\n                    ),\n            ),\n            new On(\"tagRenderings\", new Each(new DetectInline())),\n            new AddQuestionBox(),\n            new AddEditingElements(state),\n            new SetFullNodeDatabase(),\n            new On<\n                (LineRenderingConfigJson | RewritableConfigJson<LineRenderingConfigJson>)[],\n                LayerConfigJson\n            >(\"lineRendering\", new Each(new ExpandRewrite()).andThenF(Utils.Flatten)),\n            new On<PointRenderingConfigJson[], LayerConfigJson>(\n                \"pointRendering\",\n                (layer) =>\n                    new Each(new On(\"marker\", new Each(new ExpandMarkerRenderings(state, layer)))),\n            ),\n            new On<PointRenderingConfigJson[], LayerConfigJson>(\n                \"pointRendering\",\n                (layer) => new Each(new PreparePointRendering(state, layer)),\n            ),\n            new SetDefault(\"titleIcons\", [\"icons.defaults\"]),\n            new AddRatingBadge(),\n            new AddFavouriteBadges(),\n            new AutoTitleIcon(),\n            new On(\n                \"titleIcons\",\n                (layer) =>\n                    new Concat(new ExpandTagRendering(state, layer, { noHardcodedStrings: true })),\n            ),\n            new AddFiltersFromTagRenderings(),\n            new ExpandFilter(state),\n        )\n    }\n}\n","/*! https://mths.be/he v1.2.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t// All astral symbols.\n\tvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\t// All ASCII symbols (not just printable ASCII) except those listed in the\n\t// first column of the overrides table.\n\t// https://html.spec.whatwg.org/multipage/syntax.html#table-charref-overrides\n\tvar regexAsciiWhitelist = /[\\x01-\\x7F]/g;\n\t// All BMP symbols that are not ASCII newlines, printable ASCII symbols, or\n\t// code points listed in the first column of the overrides table on\n\t// https://html.spec.whatwg.org/multipage/syntax.html#table-charref-overrides.\n\tvar regexBmpWhitelist = /[\\x01-\\t\\x0B\\f\\x0E-\\x1F\\x7F\\x81\\x8D\\x8F\\x90\\x9D\\xA0-\\uFFFF]/g;\n\n\tvar regexEncodeNonAscii = /<\\u20D2|=\\u20E5|>\\u20D2|\\u205F\\u200A|\\u219D\\u0338|\\u2202\\u0338|\\u2220\\u20D2|\\u2229\\uFE00|\\u222A\\uFE00|\\u223C\\u20D2|\\u223D\\u0331|\\u223E\\u0333|\\u2242\\u0338|\\u224B\\u0338|\\u224D\\u20D2|\\u224E\\u0338|\\u224F\\u0338|\\u2250\\u0338|\\u2261\\u20E5|\\u2264\\u20D2|\\u2265\\u20D2|\\u2266\\u0338|\\u2267\\u0338|\\u2268\\uFE00|\\u2269\\uFE00|\\u226A\\u0338|\\u226A\\u20D2|\\u226B\\u0338|\\u226B\\u20D2|\\u227F\\u0338|\\u2282\\u20D2|\\u2283\\u20D2|\\u228A\\uFE00|\\u228B\\uFE00|\\u228F\\u0338|\\u2290\\u0338|\\u2293\\uFE00|\\u2294\\uFE00|\\u22B4\\u20D2|\\u22B5\\u20D2|\\u22D8\\u0338|\\u22D9\\u0338|\\u22DA\\uFE00|\\u22DB\\uFE00|\\u22F5\\u0338|\\u22F9\\u0338|\\u2933\\u0338|\\u29CF\\u0338|\\u29D0\\u0338|\\u2A6D\\u0338|\\u2A70\\u0338|\\u2A7D\\u0338|\\u2A7E\\u0338|\\u2AA1\\u0338|\\u2AA2\\u0338|\\u2AAC\\uFE00|\\u2AAD\\uFE00|\\u2AAF\\u0338|\\u2AB0\\u0338|\\u2AC5\\u0338|\\u2AC6\\u0338|\\u2ACB\\uFE00|\\u2ACC\\uFE00|\\u2AFD\\u20E5|[\\xA0-\\u0113\\u0116-\\u0122\\u0124-\\u012B\\u012E-\\u014D\\u0150-\\u017E\\u0192\\u01B5\\u01F5\\u0237\\u02C6\\u02C7\\u02D8-\\u02DD\\u0311\\u0391-\\u03A1\\u03A3-\\u03A9\\u03B1-\\u03C9\\u03D1\\u03D2\\u03D5\\u03D6\\u03DC\\u03DD\\u03F0\\u03F1\\u03F5\\u03F6\\u0401-\\u040C\\u040E-\\u044F\\u0451-\\u045C\\u045E\\u045F\\u2002-\\u2005\\u2007-\\u2010\\u2013-\\u2016\\u2018-\\u201A\\u201C-\\u201E\\u2020-\\u2022\\u2025\\u2026\\u2030-\\u2035\\u2039\\u203A\\u203E\\u2041\\u2043\\u2044\\u204F\\u2057\\u205F-\\u2063\\u20AC\\u20DB\\u20DC\\u2102\\u2105\\u210A-\\u2113\\u2115-\\u211E\\u2122\\u2124\\u2127-\\u2129\\u212C\\u212D\\u212F-\\u2131\\u2133-\\u2138\\u2145-\\u2148\\u2153-\\u215E\\u2190-\\u219B\\u219D-\\u21A7\\u21A9-\\u21AE\\u21B0-\\u21B3\\u21B5-\\u21B7\\u21BA-\\u21DB\\u21DD\\u21E4\\u21E5\\u21F5\\u21FD-\\u2205\\u2207-\\u2209\\u220B\\u220C\\u220F-\\u2214\\u2216-\\u2218\\u221A\\u221D-\\u2238\\u223A-\\u2257\\u2259\\u225A\\u225C\\u225F-\\u2262\\u2264-\\u228B\\u228D-\\u229B\\u229D-\\u22A5\\u22A7-\\u22B0\\u22B2-\\u22BB\\u22BD-\\u22DB\\u22DE-\\u22E3\\u22E6-\\u22F7\\u22F9-\\u22FE\\u2305\\u2306\\u2308-\\u2310\\u2312\\u2313\\u2315\\u2316\\u231C-\\u231F\\u2322\\u2323\\u232D\\u232E\\u2336\\u233D\\u233F\\u237C\\u23B0\\u23B1\\u23B4-\\u23B6\\u23DC-\\u23DF\\u23E2\\u23E7\\u2423\\u24C8\\u2500\\u2502\\u250C\\u2510\\u2514\\u2518\\u251C\\u2524\\u252C\\u2534\\u253C\\u2550-\\u256C\\u2580\\u2584\\u2588\\u2591-\\u2593\\u25A1\\u25AA\\u25AB\\u25AD\\u25AE\\u25B1\\u25B3-\\u25B5\\u25B8\\u25B9\\u25BD-\\u25BF\\u25C2\\u25C3\\u25CA\\u25CB\\u25EC\\u25EF\\u25F8-\\u25FC\\u2605\\u2606\\u260E\\u2640\\u2642\\u2660\\u2663\\u2665\\u2666\\u266A\\u266D-\\u266F\\u2713\\u2717\\u2720\\u2736\\u2758\\u2772\\u2773\\u27C8\\u27C9\\u27E6-\\u27ED\\u27F5-\\u27FA\\u27FC\\u27FF\\u2902-\\u2905\\u290C-\\u2913\\u2916\\u2919-\\u2920\\u2923-\\u292A\\u2933\\u2935-\\u2939\\u293C\\u293D\\u2945\\u2948-\\u294B\\u294E-\\u2976\\u2978\\u2979\\u297B-\\u297F\\u2985\\u2986\\u298B-\\u2996\\u299A\\u299C\\u299D\\u29A4-\\u29B7\\u29B9\\u29BB\\u29BC\\u29BE-\\u29C5\\u29C9\\u29CD-\\u29D0\\u29DC-\\u29DE\\u29E3-\\u29E5\\u29EB\\u29F4\\u29F6\\u2A00-\\u2A02\\u2A04\\u2A06\\u2A0C\\u2A0D\\u2A10-\\u2A17\\u2A22-\\u2A27\\u2A29\\u2A2A\\u2A2D-\\u2A31\\u2A33-\\u2A3C\\u2A3F\\u2A40\\u2A42-\\u2A4D\\u2A50\\u2A53-\\u2A58\\u2A5A-\\u2A5D\\u2A5F\\u2A66\\u2A6A\\u2A6D-\\u2A75\\u2A77-\\u2A9A\\u2A9D-\\u2AA2\\u2AA4-\\u2AB0\\u2AB3-\\u2AC8\\u2ACB\\u2ACC\\u2ACF-\\u2ADB\\u2AE4\\u2AE6-\\u2AE9\\u2AEB-\\u2AF3\\u2AFD\\uFB00-\\uFB04]|\\uD835[\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDCCF\\uDD04\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDD6B]/g;\n\tvar encodeMap = {'\\xAD':'shy','\\u200C':'zwnj','\\u200D':'zwj','\\u200E':'lrm','\\u2063':'ic','\\u2062':'it','\\u2061':'af','\\u200F':'rlm','\\u200B':'ZeroWidthSpace','\\u2060':'NoBreak','\\u0311':'DownBreve','\\u20DB':'tdot','\\u20DC':'DotDot','\\t':'Tab','\\n':'NewLine','\\u2008':'puncsp','\\u205F':'MediumSpace','\\u2009':'thinsp','\\u200A':'hairsp','\\u2004':'emsp13','\\u2002':'ensp','\\u2005':'emsp14','\\u2003':'emsp','\\u2007':'numsp','\\xA0':'nbsp','\\u205F\\u200A':'ThickSpace','\\u203E':'oline','_':'lowbar','\\u2010':'dash','\\u2013':'ndash','\\u2014':'mdash','\\u2015':'horbar',',':'comma',';':'semi','\\u204F':'bsemi',':':'colon','\\u2A74':'Colone','!':'excl','\\xA1':'iexcl','?':'quest','\\xBF':'iquest','.':'period','\\u2025':'nldr','\\u2026':'mldr','\\xB7':'middot','\\'':'apos','\\u2018':'lsquo','\\u2019':'rsquo','\\u201A':'sbquo','\\u2039':'lsaquo','\\u203A':'rsaquo','\"':'quot','\\u201C':'ldquo','\\u201D':'rdquo','\\u201E':'bdquo','\\xAB':'laquo','\\xBB':'raquo','(':'lpar',')':'rpar','[':'lsqb',']':'rsqb','{':'lcub','}':'rcub','\\u2308':'lceil','\\u2309':'rceil','\\u230A':'lfloor','\\u230B':'rfloor','\\u2985':'lopar','\\u2986':'ropar','\\u298B':'lbrke','\\u298C':'rbrke','\\u298D':'lbrkslu','\\u298E':'rbrksld','\\u298F':'lbrksld','\\u2990':'rbrkslu','\\u2991':'langd','\\u2992':'rangd','\\u2993':'lparlt','\\u2994':'rpargt','\\u2995':'gtlPar','\\u2996':'ltrPar','\\u27E6':'lobrk','\\u27E7':'robrk','\\u27E8':'lang','\\u27E9':'rang','\\u27EA':'Lang','\\u27EB':'Rang','\\u27EC':'loang','\\u27ED':'roang','\\u2772':'lbbrk','\\u2773':'rbbrk','\\u2016':'Vert','\\xA7':'sect','\\xB6':'para','@':'commat','*':'ast','/':'sol','undefined':null,'&':'amp','#':'num','%':'percnt','\\u2030':'permil','\\u2031':'pertenk','\\u2020':'dagger','\\u2021':'Dagger','\\u2022':'bull','\\u2043':'hybull','\\u2032':'prime','\\u2033':'Prime','\\u2034':'tprime','\\u2057':'qprime','\\u2035':'bprime','\\u2041':'caret','`':'grave','\\xB4':'acute','\\u02DC':'tilde','^':'Hat','\\xAF':'macr','\\u02D8':'breve','\\u02D9':'dot','\\xA8':'die','\\u02DA':'ring','\\u02DD':'dblac','\\xB8':'cedil','\\u02DB':'ogon','\\u02C6':'circ','\\u02C7':'caron','\\xB0':'deg','\\xA9':'copy','\\xAE':'reg','\\u2117':'copysr','\\u2118':'wp','\\u211E':'rx','\\u2127':'mho','\\u2129':'iiota','\\u2190':'larr','\\u219A':'nlarr','\\u2192':'rarr','\\u219B':'nrarr','\\u2191':'uarr','\\u2193':'darr','\\u2194':'harr','\\u21AE':'nharr','\\u2195':'varr','\\u2196':'nwarr','\\u2197':'nearr','\\u2198':'searr','\\u2199':'swarr','\\u219D':'rarrw','\\u219D\\u0338':'nrarrw','\\u219E':'Larr','\\u219F':'Uarr','\\u21A0':'Rarr','\\u21A1':'Darr','\\u21A2':'larrtl','\\u21A3':'rarrtl','\\u21A4':'mapstoleft','\\u21A5':'mapstoup','\\u21A6':'map','\\u21A7':'mapstodown','\\u21A9':'larrhk','\\u21AA':'rarrhk','\\u21AB':'larrlp','\\u21AC':'rarrlp','\\u21AD':'harrw','\\u21B0':'lsh','\\u21B1':'rsh','\\u21B2':'ldsh','\\u21B3':'rdsh','\\u21B5':'crarr','\\u21B6':'cularr','\\u21B7':'curarr','\\u21BA':'olarr','\\u21BB':'orarr','\\u21BC':'lharu','\\u21BD':'lhard','\\u21BE':'uharr','\\u21BF':'uharl','\\u21C0':'rharu','\\u21C1':'rhard','\\u21C2':'dharr','\\u21C3':'dharl','\\u21C4':'rlarr','\\u21C5':'udarr','\\u21C6':'lrarr','\\u21C7':'llarr','\\u21C8':'uuarr','\\u21C9':'rrarr','\\u21CA':'ddarr','\\u21CB':'lrhar','\\u21CC':'rlhar','\\u21D0':'lArr','\\u21CD':'nlArr','\\u21D1':'uArr','\\u21D2':'rArr','\\u21CF':'nrArr','\\u21D3':'dArr','\\u21D4':'iff','\\u21CE':'nhArr','\\u21D5':'vArr','\\u21D6':'nwArr','\\u21D7':'neArr','\\u21D8':'seArr','\\u21D9':'swArr','\\u21DA':'lAarr','\\u21DB':'rAarr','\\u21DD':'zigrarr','\\u21E4':'larrb','\\u21E5':'rarrb','\\u21F5':'duarr','\\u21FD':'loarr','\\u21FE':'roarr','\\u21FF':'hoarr','\\u2200':'forall','\\u2201':'comp','\\u2202':'part','\\u2202\\u0338':'npart','\\u2203':'exist','\\u2204':'nexist','\\u2205':'empty','\\u2207':'Del','\\u2208':'in','\\u2209':'notin','\\u220B':'ni','\\u220C':'notni','\\u03F6':'bepsi','\\u220F':'prod','\\u2210':'coprod','\\u2211':'sum','+':'plus','\\xB1':'pm','\\xF7':'div','\\xD7':'times','<':'lt','\\u226E':'nlt','<\\u20D2':'nvlt','=':'equals','\\u2260':'ne','=\\u20E5':'bne','\\u2A75':'Equal','>':'gt','\\u226F':'ngt','>\\u20D2':'nvgt','\\xAC':'not','|':'vert','\\xA6':'brvbar','\\u2212':'minus','\\u2213':'mp','\\u2214':'plusdo','\\u2044':'frasl','\\u2216':'setmn','\\u2217':'lowast','\\u2218':'compfn','\\u221A':'Sqrt','\\u221D':'prop','\\u221E':'infin','\\u221F':'angrt','\\u2220':'ang','\\u2220\\u20D2':'nang','\\u2221':'angmsd','\\u2222':'angsph','\\u2223':'mid','\\u2224':'nmid','\\u2225':'par','\\u2226':'npar','\\u2227':'and','\\u2228':'or','\\u2229':'cap','\\u2229\\uFE00':'caps','\\u222A':'cup','\\u222A\\uFE00':'cups','\\u222B':'int','\\u222C':'Int','\\u222D':'tint','\\u2A0C':'qint','\\u222E':'oint','\\u222F':'Conint','\\u2230':'Cconint','\\u2231':'cwint','\\u2232':'cwconint','\\u2233':'awconint','\\u2234':'there4','\\u2235':'becaus','\\u2236':'ratio','\\u2237':'Colon','\\u2238':'minusd','\\u223A':'mDDot','\\u223B':'homtht','\\u223C':'sim','\\u2241':'nsim','\\u223C\\u20D2':'nvsim','\\u223D':'bsim','\\u223D\\u0331':'race','\\u223E':'ac','\\u223E\\u0333':'acE','\\u223F':'acd','\\u2240':'wr','\\u2242':'esim','\\u2242\\u0338':'nesim','\\u2243':'sime','\\u2244':'nsime','\\u2245':'cong','\\u2247':'ncong','\\u2246':'simne','\\u2248':'ap','\\u2249':'nap','\\u224A':'ape','\\u224B':'apid','\\u224B\\u0338':'napid','\\u224C':'bcong','\\u224D':'CupCap','\\u226D':'NotCupCap','\\u224D\\u20D2':'nvap','\\u224E':'bump','\\u224E\\u0338':'nbump','\\u224F':'bumpe','\\u224F\\u0338':'nbumpe','\\u2250':'doteq','\\u2250\\u0338':'nedot','\\u2251':'eDot','\\u2252':'efDot','\\u2253':'erDot','\\u2254':'colone','\\u2255':'ecolon','\\u2256':'ecir','\\u2257':'cire','\\u2259':'wedgeq','\\u225A':'veeeq','\\u225C':'trie','\\u225F':'equest','\\u2261':'equiv','\\u2262':'nequiv','\\u2261\\u20E5':'bnequiv','\\u2264':'le','\\u2270':'nle','\\u2264\\u20D2':'nvle','\\u2265':'ge','\\u2271':'nge','\\u2265\\u20D2':'nvge','\\u2266':'lE','\\u2266\\u0338':'nlE','\\u2267':'gE','\\u2267\\u0338':'ngE','\\u2268\\uFE00':'lvnE','\\u2268':'lnE','\\u2269':'gnE','\\u2269\\uFE00':'gvnE','\\u226A':'ll','\\u226A\\u0338':'nLtv','\\u226A\\u20D2':'nLt','\\u226B':'gg','\\u226B\\u0338':'nGtv','\\u226B\\u20D2':'nGt','\\u226C':'twixt','\\u2272':'lsim','\\u2274':'nlsim','\\u2273':'gsim','\\u2275':'ngsim','\\u2276':'lg','\\u2278':'ntlg','\\u2277':'gl','\\u2279':'ntgl','\\u227A':'pr','\\u2280':'npr','\\u227B':'sc','\\u2281':'nsc','\\u227C':'prcue','\\u22E0':'nprcue','\\u227D':'sccue','\\u22E1':'nsccue','\\u227E':'prsim','\\u227F':'scsim','\\u227F\\u0338':'NotSucceedsTilde','\\u2282':'sub','\\u2284':'nsub','\\u2282\\u20D2':'vnsub','\\u2283':'sup','\\u2285':'nsup','\\u2283\\u20D2':'vnsup','\\u2286':'sube','\\u2288':'nsube','\\u2287':'supe','\\u2289':'nsupe','\\u228A\\uFE00':'vsubne','\\u228A':'subne','\\u228B\\uFE00':'vsupne','\\u228B':'supne','\\u228D':'cupdot','\\u228E':'uplus','\\u228F':'sqsub','\\u228F\\u0338':'NotSquareSubset','\\u2290':'sqsup','\\u2290\\u0338':'NotSquareSuperset','\\u2291':'sqsube','\\u22E2':'nsqsube','\\u2292':'sqsupe','\\u22E3':'nsqsupe','\\u2293':'sqcap','\\u2293\\uFE00':'sqcaps','\\u2294':'sqcup','\\u2294\\uFE00':'sqcups','\\u2295':'oplus','\\u2296':'ominus','\\u2297':'otimes','\\u2298':'osol','\\u2299':'odot','\\u229A':'ocir','\\u229B':'oast','\\u229D':'odash','\\u229E':'plusb','\\u229F':'minusb','\\u22A0':'timesb','\\u22A1':'sdotb','\\u22A2':'vdash','\\u22AC':'nvdash','\\u22A3':'dashv','\\u22A4':'top','\\u22A5':'bot','\\u22A7':'models','\\u22A8':'vDash','\\u22AD':'nvDash','\\u22A9':'Vdash','\\u22AE':'nVdash','\\u22AA':'Vvdash','\\u22AB':'VDash','\\u22AF':'nVDash','\\u22B0':'prurel','\\u22B2':'vltri','\\u22EA':'nltri','\\u22B3':'vrtri','\\u22EB':'nrtri','\\u22B4':'ltrie','\\u22EC':'nltrie','\\u22B4\\u20D2':'nvltrie','\\u22B5':'rtrie','\\u22ED':'nrtrie','\\u22B5\\u20D2':'nvrtrie','\\u22B6':'origof','\\u22B7':'imof','\\u22B8':'mumap','\\u22B9':'hercon','\\u22BA':'intcal','\\u22BB':'veebar','\\u22BD':'barvee','\\u22BE':'angrtvb','\\u22BF':'lrtri','\\u22C0':'Wedge','\\u22C1':'Vee','\\u22C2':'xcap','\\u22C3':'xcup','\\u22C4':'diam','\\u22C5':'sdot','\\u22C6':'Star','\\u22C7':'divonx','\\u22C8':'bowtie','\\u22C9':'ltimes','\\u22CA':'rtimes','\\u22CB':'lthree','\\u22CC':'rthree','\\u22CD':'bsime','\\u22CE':'cuvee','\\u22CF':'cuwed','\\u22D0':'Sub','\\u22D1':'Sup','\\u22D2':'Cap','\\u22D3':'Cup','\\u22D4':'fork','\\u22D5':'epar','\\u22D6':'ltdot','\\u22D7':'gtdot','\\u22D8':'Ll','\\u22D8\\u0338':'nLl','\\u22D9':'Gg','\\u22D9\\u0338':'nGg','\\u22DA\\uFE00':'lesg','\\u22DA':'leg','\\u22DB':'gel','\\u22DB\\uFE00':'gesl','\\u22DE':'cuepr','\\u22DF':'cuesc','\\u22E6':'lnsim','\\u22E7':'gnsim','\\u22E8':'prnsim','\\u22E9':'scnsim','\\u22EE':'vellip','\\u22EF':'ctdot','\\u22F0':'utdot','\\u22F1':'dtdot','\\u22F2':'disin','\\u22F3':'isinsv','\\u22F4':'isins','\\u22F5':'isindot','\\u22F5\\u0338':'notindot','\\u22F6':'notinvc','\\u22F7':'notinvb','\\u22F9':'isinE','\\u22F9\\u0338':'notinE','\\u22FA':'nisd','\\u22FB':'xnis','\\u22FC':'nis','\\u22FD':'notnivc','\\u22FE':'notnivb','\\u2305':'barwed','\\u2306':'Barwed','\\u230C':'drcrop','\\u230D':'dlcrop','\\u230E':'urcrop','\\u230F':'ulcrop','\\u2310':'bnot','\\u2312':'profline','\\u2313':'profsurf','\\u2315':'telrec','\\u2316':'target','\\u231C':'ulcorn','\\u231D':'urcorn','\\u231E':'dlcorn','\\u231F':'drcorn','\\u2322':'frown','\\u2323':'smile','\\u232D':'cylcty','\\u232E':'profalar','\\u2336':'topbot','\\u233D':'ovbar','\\u233F':'solbar','\\u237C':'angzarr','\\u23B0':'lmoust','\\u23B1':'rmoust','\\u23B4':'tbrk','\\u23B5':'bbrk','\\u23B6':'bbrktbrk','\\u23DC':'OverParenthesis','\\u23DD':'UnderParenthesis','\\u23DE':'OverBrace','\\u23DF':'UnderBrace','\\u23E2':'trpezium','\\u23E7':'elinters','\\u2423':'blank','\\u2500':'boxh','\\u2502':'boxv','\\u250C':'boxdr','\\u2510':'boxdl','\\u2514':'boxur','\\u2518':'boxul','\\u251C':'boxvr','\\u2524':'boxvl','\\u252C':'boxhd','\\u2534':'boxhu','\\u253C':'boxvh','\\u2550':'boxH','\\u2551':'boxV','\\u2552':'boxdR','\\u2553':'boxDr','\\u2554':'boxDR','\\u2555':'boxdL','\\u2556':'boxDl','\\u2557':'boxDL','\\u2558':'boxuR','\\u2559':'boxUr','\\u255A':'boxUR','\\u255B':'boxuL','\\u255C':'boxUl','\\u255D':'boxUL','\\u255E':'boxvR','\\u255F':'boxVr','\\u2560':'boxVR','\\u2561':'boxvL','\\u2562':'boxVl','\\u2563':'boxVL','\\u2564':'boxHd','\\u2565':'boxhD','\\u2566':'boxHD','\\u2567':'boxHu','\\u2568':'boxhU','\\u2569':'boxHU','\\u256A':'boxvH','\\u256B':'boxVh','\\u256C':'boxVH','\\u2580':'uhblk','\\u2584':'lhblk','\\u2588':'block','\\u2591':'blk14','\\u2592':'blk12','\\u2593':'blk34','\\u25A1':'squ','\\u25AA':'squf','\\u25AB':'EmptyVerySmallSquare','\\u25AD':'rect','\\u25AE':'marker','\\u25B1':'fltns','\\u25B3':'xutri','\\u25B4':'utrif','\\u25B5':'utri','\\u25B8':'rtrif','\\u25B9':'rtri','\\u25BD':'xdtri','\\u25BE':'dtrif','\\u25BF':'dtri','\\u25C2':'ltrif','\\u25C3':'ltri','\\u25CA':'loz','\\u25CB':'cir','\\u25EC':'tridot','\\u25EF':'xcirc','\\u25F8':'ultri','\\u25F9':'urtri','\\u25FA':'lltri','\\u25FB':'EmptySmallSquare','\\u25FC':'FilledSmallSquare','\\u2605':'starf','\\u2606':'star','\\u260E':'phone','\\u2640':'female','\\u2642':'male','\\u2660':'spades','\\u2663':'clubs','\\u2665':'hearts','\\u2666':'diams','\\u266A':'sung','\\u2713':'check','\\u2717':'cross','\\u2720':'malt','\\u2736':'sext','\\u2758':'VerticalSeparator','\\u27C8':'bsolhsub','\\u27C9':'suphsol','\\u27F5':'xlarr','\\u27F6':'xrarr','\\u27F7':'xharr','\\u27F8':'xlArr','\\u27F9':'xrArr','\\u27FA':'xhArr','\\u27FC':'xmap','\\u27FF':'dzigrarr','\\u2902':'nvlArr','\\u2903':'nvrArr','\\u2904':'nvHarr','\\u2905':'Map','\\u290C':'lbarr','\\u290D':'rbarr','\\u290E':'lBarr','\\u290F':'rBarr','\\u2910':'RBarr','\\u2911':'DDotrahd','\\u2912':'UpArrowBar','\\u2913':'DownArrowBar','\\u2916':'Rarrtl','\\u2919':'latail','\\u291A':'ratail','\\u291B':'lAtail','\\u291C':'rAtail','\\u291D':'larrfs','\\u291E':'rarrfs','\\u291F':'larrbfs','\\u2920':'rarrbfs','\\u2923':'nwarhk','\\u2924':'nearhk','\\u2925':'searhk','\\u2926':'swarhk','\\u2927':'nwnear','\\u2928':'toea','\\u2929':'tosa','\\u292A':'swnwar','\\u2933':'rarrc','\\u2933\\u0338':'nrarrc','\\u2935':'cudarrr','\\u2936':'ldca','\\u2937':'rdca','\\u2938':'cudarrl','\\u2939':'larrpl','\\u293C':'curarrm','\\u293D':'cularrp','\\u2945':'rarrpl','\\u2948':'harrcir','\\u2949':'Uarrocir','\\u294A':'lurdshar','\\u294B':'ldrushar','\\u294E':'LeftRightVector','\\u294F':'RightUpDownVector','\\u2950':'DownLeftRightVector','\\u2951':'LeftUpDownVector','\\u2952':'LeftVectorBar','\\u2953':'RightVectorBar','\\u2954':'RightUpVectorBar','\\u2955':'RightDownVectorBar','\\u2956':'DownLeftVectorBar','\\u2957':'DownRightVectorBar','\\u2958':'LeftUpVectorBar','\\u2959':'LeftDownVectorBar','\\u295A':'LeftTeeVector','\\u295B':'RightTeeVector','\\u295C':'RightUpTeeVector','\\u295D':'RightDownTeeVector','\\u295E':'DownLeftTeeVector','\\u295F':'DownRightTeeVector','\\u2960':'LeftUpTeeVector','\\u2961':'LeftDownTeeVector','\\u2962':'lHar','\\u2963':'uHar','\\u2964':'rHar','\\u2965':'dHar','\\u2966':'luruhar','\\u2967':'ldrdhar','\\u2968':'ruluhar','\\u2969':'rdldhar','\\u296A':'lharul','\\u296B':'llhard','\\u296C':'rharul','\\u296D':'lrhard','\\u296E':'udhar','\\u296F':'duhar','\\u2970':'RoundImplies','\\u2971':'erarr','\\u2972':'simrarr','\\u2973':'larrsim','\\u2974':'rarrsim','\\u2975':'rarrap','\\u2976':'ltlarr','\\u2978':'gtrarr','\\u2979':'subrarr','\\u297B':'suplarr','\\u297C':'lfisht','\\u297D':'rfisht','\\u297E':'ufisht','\\u297F':'dfisht','\\u299A':'vzigzag','\\u299C':'vangrt','\\u299D':'angrtvbd','\\u29A4':'ange','\\u29A5':'range','\\u29A6':'dwangle','\\u29A7':'uwangle','\\u29A8':'angmsdaa','\\u29A9':'angmsdab','\\u29AA':'angmsdac','\\u29AB':'angmsdad','\\u29AC':'angmsdae','\\u29AD':'angmsdaf','\\u29AE':'angmsdag','\\u29AF':'angmsdah','\\u29B0':'bemptyv','\\u29B1':'demptyv','\\u29B2':'cemptyv','\\u29B3':'raemptyv','\\u29B4':'laemptyv','\\u29B5':'ohbar','\\u29B6':'omid','\\u29B7':'opar','\\u29B9':'operp','\\u29BB':'olcross','\\u29BC':'odsold','\\u29BE':'olcir','\\u29BF':'ofcir','\\u29C0':'olt','\\u29C1':'ogt','\\u29C2':'cirscir','\\u29C3':'cirE','\\u29C4':'solb','\\u29C5':'bsolb','\\u29C9':'boxbox','\\u29CD':'trisb','\\u29CE':'rtriltri','\\u29CF':'LeftTriangleBar','\\u29CF\\u0338':'NotLeftTriangleBar','\\u29D0':'RightTriangleBar','\\u29D0\\u0338':'NotRightTriangleBar','\\u29DC':'iinfin','\\u29DD':'infintie','\\u29DE':'nvinfin','\\u29E3':'eparsl','\\u29E4':'smeparsl','\\u29E5':'eqvparsl','\\u29EB':'lozf','\\u29F4':'RuleDelayed','\\u29F6':'dsol','\\u2A00':'xodot','\\u2A01':'xoplus','\\u2A02':'xotime','\\u2A04':'xuplus','\\u2A06':'xsqcup','\\u2A0D':'fpartint','\\u2A10':'cirfnint','\\u2A11':'awint','\\u2A12':'rppolint','\\u2A13':'scpolint','\\u2A14':'npolint','\\u2A15':'pointint','\\u2A16':'quatint','\\u2A17':'intlarhk','\\u2A22':'pluscir','\\u2A23':'plusacir','\\u2A24':'simplus','\\u2A25':'plusdu','\\u2A26':'plussim','\\u2A27':'plustwo','\\u2A29':'mcomma','\\u2A2A':'minusdu','\\u2A2D':'loplus','\\u2A2E':'roplus','\\u2A2F':'Cross','\\u2A30':'timesd','\\u2A31':'timesbar','\\u2A33':'smashp','\\u2A34':'lotimes','\\u2A35':'rotimes','\\u2A36':'otimesas','\\u2A37':'Otimes','\\u2A38':'odiv','\\u2A39':'triplus','\\u2A3A':'triminus','\\u2A3B':'tritime','\\u2A3C':'iprod','\\u2A3F':'amalg','\\u2A40':'capdot','\\u2A42':'ncup','\\u2A43':'ncap','\\u2A44':'capand','\\u2A45':'cupor','\\u2A46':'cupcap','\\u2A47':'capcup','\\u2A48':'cupbrcap','\\u2A49':'capbrcup','\\u2A4A':'cupcup','\\u2A4B':'capcap','\\u2A4C':'ccups','\\u2A4D':'ccaps','\\u2A50':'ccupssm','\\u2A53':'And','\\u2A54':'Or','\\u2A55':'andand','\\u2A56':'oror','\\u2A57':'orslope','\\u2A58':'andslope','\\u2A5A':'andv','\\u2A5B':'orv','\\u2A5C':'andd','\\u2A5D':'ord','\\u2A5F':'wedbar','\\u2A66':'sdote','\\u2A6A':'simdot','\\u2A6D':'congdot','\\u2A6D\\u0338':'ncongdot','\\u2A6E':'easter','\\u2A6F':'apacir','\\u2A70':'apE','\\u2A70\\u0338':'napE','\\u2A71':'eplus','\\u2A72':'pluse','\\u2A73':'Esim','\\u2A77':'eDDot','\\u2A78':'equivDD','\\u2A79':'ltcir','\\u2A7A':'gtcir','\\u2A7B':'ltquest','\\u2A7C':'gtquest','\\u2A7D':'les','\\u2A7D\\u0338':'nles','\\u2A7E':'ges','\\u2A7E\\u0338':'nges','\\u2A7F':'lesdot','\\u2A80':'gesdot','\\u2A81':'lesdoto','\\u2A82':'gesdoto','\\u2A83':'lesdotor','\\u2A84':'gesdotol','\\u2A85':'lap','\\u2A86':'gap','\\u2A87':'lne','\\u2A88':'gne','\\u2A89':'lnap','\\u2A8A':'gnap','\\u2A8B':'lEg','\\u2A8C':'gEl','\\u2A8D':'lsime','\\u2A8E':'gsime','\\u2A8F':'lsimg','\\u2A90':'gsiml','\\u2A91':'lgE','\\u2A92':'glE','\\u2A93':'lesges','\\u2A94':'gesles','\\u2A95':'els','\\u2A96':'egs','\\u2A97':'elsdot','\\u2A98':'egsdot','\\u2A99':'el','\\u2A9A':'eg','\\u2A9D':'siml','\\u2A9E':'simg','\\u2A9F':'simlE','\\u2AA0':'simgE','\\u2AA1':'LessLess','\\u2AA1\\u0338':'NotNestedLessLess','\\u2AA2':'GreaterGreater','\\u2AA2\\u0338':'NotNestedGreaterGreater','\\u2AA4':'glj','\\u2AA5':'gla','\\u2AA6':'ltcc','\\u2AA7':'gtcc','\\u2AA8':'lescc','\\u2AA9':'gescc','\\u2AAA':'smt','\\u2AAB':'lat','\\u2AAC':'smte','\\u2AAC\\uFE00':'smtes','\\u2AAD':'late','\\u2AAD\\uFE00':'lates','\\u2AAE':'bumpE','\\u2AAF':'pre','\\u2AAF\\u0338':'npre','\\u2AB0':'sce','\\u2AB0\\u0338':'nsce','\\u2AB3':'prE','\\u2AB4':'scE','\\u2AB5':'prnE','\\u2AB6':'scnE','\\u2AB7':'prap','\\u2AB8':'scap','\\u2AB9':'prnap','\\u2ABA':'scnap','\\u2ABB':'Pr','\\u2ABC':'Sc','\\u2ABD':'subdot','\\u2ABE':'supdot','\\u2ABF':'subplus','\\u2AC0':'supplus','\\u2AC1':'submult','\\u2AC2':'supmult','\\u2AC3':'subedot','\\u2AC4':'supedot','\\u2AC5':'subE','\\u2AC5\\u0338':'nsubE','\\u2AC6':'supE','\\u2AC6\\u0338':'nsupE','\\u2AC7':'subsim','\\u2AC8':'supsim','\\u2ACB\\uFE00':'vsubnE','\\u2ACB':'subnE','\\u2ACC\\uFE00':'vsupnE','\\u2ACC':'supnE','\\u2ACF':'csub','\\u2AD0':'csup','\\u2AD1':'csube','\\u2AD2':'csupe','\\u2AD3':'subsup','\\u2AD4':'supsub','\\u2AD5':'subsub','\\u2AD6':'supsup','\\u2AD7':'suphsub','\\u2AD8':'supdsub','\\u2AD9':'forkv','\\u2ADA':'topfork','\\u2ADB':'mlcp','\\u2AE4':'Dashv','\\u2AE6':'Vdashl','\\u2AE7':'Barv','\\u2AE8':'vBar','\\u2AE9':'vBarv','\\u2AEB':'Vbar','\\u2AEC':'Not','\\u2AED':'bNot','\\u2AEE':'rnmid','\\u2AEF':'cirmid','\\u2AF0':'midcir','\\u2AF1':'topcir','\\u2AF2':'nhpar','\\u2AF3':'parsim','\\u2AFD':'parsl','\\u2AFD\\u20E5':'nparsl','\\u266D':'flat','\\u266E':'natur','\\u266F':'sharp','\\xA4':'curren','\\xA2':'cent','$':'dollar','\\xA3':'pound','\\xA5':'yen','\\u20AC':'euro','\\xB9':'sup1','\\xBD':'half','\\u2153':'frac13','\\xBC':'frac14','\\u2155':'frac15','\\u2159':'frac16','\\u215B':'frac18','\\xB2':'sup2','\\u2154':'frac23','\\u2156':'frac25','\\xB3':'sup3','\\xBE':'frac34','\\u2157':'frac35','\\u215C':'frac38','\\u2158':'frac45','\\u215A':'frac56','\\u215D':'frac58','\\u215E':'frac78','\\uD835\\uDCB6':'ascr','\\uD835\\uDD52':'aopf','\\uD835\\uDD1E':'afr','\\uD835\\uDD38':'Aopf','\\uD835\\uDD04':'Afr','\\uD835\\uDC9C':'Ascr','\\xAA':'ordf','\\xE1':'aacute','\\xC1':'Aacute','\\xE0':'agrave','\\xC0':'Agrave','\\u0103':'abreve','\\u0102':'Abreve','\\xE2':'acirc','\\xC2':'Acirc','\\xE5':'aring','\\xC5':'angst','\\xE4':'auml','\\xC4':'Auml','\\xE3':'atilde','\\xC3':'Atilde','\\u0105':'aogon','\\u0104':'Aogon','\\u0101':'amacr','\\u0100':'Amacr','\\xE6':'aelig','\\xC6':'AElig','\\uD835\\uDCB7':'bscr','\\uD835\\uDD53':'bopf','\\uD835\\uDD1F':'bfr','\\uD835\\uDD39':'Bopf','\\u212C':'Bscr','\\uD835\\uDD05':'Bfr','\\uD835\\uDD20':'cfr','\\uD835\\uDCB8':'cscr','\\uD835\\uDD54':'copf','\\u212D':'Cfr','\\uD835\\uDC9E':'Cscr','\\u2102':'Copf','\\u0107':'cacute','\\u0106':'Cacute','\\u0109':'ccirc','\\u0108':'Ccirc','\\u010D':'ccaron','\\u010C':'Ccaron','\\u010B':'cdot','\\u010A':'Cdot','\\xE7':'ccedil','\\xC7':'Ccedil','\\u2105':'incare','\\uD835\\uDD21':'dfr','\\u2146':'dd','\\uD835\\uDD55':'dopf','\\uD835\\uDCB9':'dscr','\\uD835\\uDC9F':'Dscr','\\uD835\\uDD07':'Dfr','\\u2145':'DD','\\uD835\\uDD3B':'Dopf','\\u010F':'dcaron','\\u010E':'Dcaron','\\u0111':'dstrok','\\u0110':'Dstrok','\\xF0':'eth','\\xD0':'ETH','\\u2147':'ee','\\u212F':'escr','\\uD835\\uDD22':'efr','\\uD835\\uDD56':'eopf','\\u2130':'Escr','\\uD835\\uDD08':'Efr','\\uD835\\uDD3C':'Eopf','\\xE9':'eacute','\\xC9':'Eacute','\\xE8':'egrave','\\xC8':'Egrave','\\xEA':'ecirc','\\xCA':'Ecirc','\\u011B':'ecaron','\\u011A':'Ecaron','\\xEB':'euml','\\xCB':'Euml','\\u0117':'edot','\\u0116':'Edot','\\u0119':'eogon','\\u0118':'Eogon','\\u0113':'emacr','\\u0112':'Emacr','\\uD835\\uDD23':'ffr','\\uD835\\uDD57':'fopf','\\uD835\\uDCBB':'fscr','\\uD835\\uDD09':'Ffr','\\uD835\\uDD3D':'Fopf','\\u2131':'Fscr','\\uFB00':'fflig','\\uFB03':'ffilig','\\uFB04':'ffllig','\\uFB01':'filig','fj':'fjlig','\\uFB02':'fllig','\\u0192':'fnof','\\u210A':'gscr','\\uD835\\uDD58':'gopf','\\uD835\\uDD24':'gfr','\\uD835\\uDCA2':'Gscr','\\uD835\\uDD3E':'Gopf','\\uD835\\uDD0A':'Gfr','\\u01F5':'gacute','\\u011F':'gbreve','\\u011E':'Gbreve','\\u011D':'gcirc','\\u011C':'Gcirc','\\u0121':'gdot','\\u0120':'Gdot','\\u0122':'Gcedil','\\uD835\\uDD25':'hfr','\\u210E':'planckh','\\uD835\\uDCBD':'hscr','\\uD835\\uDD59':'hopf','\\u210B':'Hscr','\\u210C':'Hfr','\\u210D':'Hopf','\\u0125':'hcirc','\\u0124':'Hcirc','\\u210F':'hbar','\\u0127':'hstrok','\\u0126':'Hstrok','\\uD835\\uDD5A':'iopf','\\uD835\\uDD26':'ifr','\\uD835\\uDCBE':'iscr','\\u2148':'ii','\\uD835\\uDD40':'Iopf','\\u2110':'Iscr','\\u2111':'Im','\\xED':'iacute','\\xCD':'Iacute','\\xEC':'igrave','\\xCC':'Igrave','\\xEE':'icirc','\\xCE':'Icirc','\\xEF':'iuml','\\xCF':'Iuml','\\u0129':'itilde','\\u0128':'Itilde','\\u0130':'Idot','\\u012F':'iogon','\\u012E':'Iogon','\\u012B':'imacr','\\u012A':'Imacr','\\u0133':'ijlig','\\u0132':'IJlig','\\u0131':'imath','\\uD835\\uDCBF':'jscr','\\uD835\\uDD5B':'jopf','\\uD835\\uDD27':'jfr','\\uD835\\uDCA5':'Jscr','\\uD835\\uDD0D':'Jfr','\\uD835\\uDD41':'Jopf','\\u0135':'jcirc','\\u0134':'Jcirc','\\u0237':'jmath','\\uD835\\uDD5C':'kopf','\\uD835\\uDCC0':'kscr','\\uD835\\uDD28':'kfr','\\uD835\\uDCA6':'Kscr','\\uD835\\uDD42':'Kopf','\\uD835\\uDD0E':'Kfr','\\u0137':'kcedil','\\u0136':'Kcedil','\\uD835\\uDD29':'lfr','\\uD835\\uDCC1':'lscr','\\u2113':'ell','\\uD835\\uDD5D':'lopf','\\u2112':'Lscr','\\uD835\\uDD0F':'Lfr','\\uD835\\uDD43':'Lopf','\\u013A':'lacute','\\u0139':'Lacute','\\u013E':'lcaron','\\u013D':'Lcaron','\\u013C':'lcedil','\\u013B':'Lcedil','\\u0142':'lstrok','\\u0141':'Lstrok','\\u0140':'lmidot','\\u013F':'Lmidot','\\uD835\\uDD2A':'mfr','\\uD835\\uDD5E':'mopf','\\uD835\\uDCC2':'mscr','\\uD835\\uDD10':'Mfr','\\uD835\\uDD44':'Mopf','\\u2133':'Mscr','\\uD835\\uDD2B':'nfr','\\uD835\\uDD5F':'nopf','\\uD835\\uDCC3':'nscr','\\u2115':'Nopf','\\uD835\\uDCA9':'Nscr','\\uD835\\uDD11':'Nfr','\\u0144':'nacute','\\u0143':'Nacute','\\u0148':'ncaron','\\u0147':'Ncaron','\\xF1':'ntilde','\\xD1':'Ntilde','\\u0146':'ncedil','\\u0145':'Ncedil','\\u2116':'numero','\\u014B':'eng','\\u014A':'ENG','\\uD835\\uDD60':'oopf','\\uD835\\uDD2C':'ofr','\\u2134':'oscr','\\uD835\\uDCAA':'Oscr','\\uD835\\uDD12':'Ofr','\\uD835\\uDD46':'Oopf','\\xBA':'ordm','\\xF3':'oacute','\\xD3':'Oacute','\\xF2':'ograve','\\xD2':'Ograve','\\xF4':'ocirc','\\xD4':'Ocirc','\\xF6':'ouml','\\xD6':'Ouml','\\u0151':'odblac','\\u0150':'Odblac','\\xF5':'otilde','\\xD5':'Otilde','\\xF8':'oslash','\\xD8':'Oslash','\\u014D':'omacr','\\u014C':'Omacr','\\u0153':'oelig','\\u0152':'OElig','\\uD835\\uDD2D':'pfr','\\uD835\\uDCC5':'pscr','\\uD835\\uDD61':'popf','\\u2119':'Popf','\\uD835\\uDD13':'Pfr','\\uD835\\uDCAB':'Pscr','\\uD835\\uDD62':'qopf','\\uD835\\uDD2E':'qfr','\\uD835\\uDCC6':'qscr','\\uD835\\uDCAC':'Qscr','\\uD835\\uDD14':'Qfr','\\u211A':'Qopf','\\u0138':'kgreen','\\uD835\\uDD2F':'rfr','\\uD835\\uDD63':'ropf','\\uD835\\uDCC7':'rscr','\\u211B':'Rscr','\\u211C':'Re','\\u211D':'Ropf','\\u0155':'racute','\\u0154':'Racute','\\u0159':'rcaron','\\u0158':'Rcaron','\\u0157':'rcedil','\\u0156':'Rcedil','\\uD835\\uDD64':'sopf','\\uD835\\uDCC8':'sscr','\\uD835\\uDD30':'sfr','\\uD835\\uDD4A':'Sopf','\\uD835\\uDD16':'Sfr','\\uD835\\uDCAE':'Sscr','\\u24C8':'oS','\\u015B':'sacute','\\u015A':'Sacute','\\u015D':'scirc','\\u015C':'Scirc','\\u0161':'scaron','\\u0160':'Scaron','\\u015F':'scedil','\\u015E':'Scedil','\\xDF':'szlig','\\uD835\\uDD31':'tfr','\\uD835\\uDCC9':'tscr','\\uD835\\uDD65':'topf','\\uD835\\uDCAF':'Tscr','\\uD835\\uDD17':'Tfr','\\uD835\\uDD4B':'Topf','\\u0165':'tcaron','\\u0164':'Tcaron','\\u0163':'tcedil','\\u0162':'Tcedil','\\u2122':'trade','\\u0167':'tstrok','\\u0166':'Tstrok','\\uD835\\uDCCA':'uscr','\\uD835\\uDD66':'uopf','\\uD835\\uDD32':'ufr','\\uD835\\uDD4C':'Uopf','\\uD835\\uDD18':'Ufr','\\uD835\\uDCB0':'Uscr','\\xFA':'uacute','\\xDA':'Uacute','\\xF9':'ugrave','\\xD9':'Ugrave','\\u016D':'ubreve','\\u016C':'Ubreve','\\xFB':'ucirc','\\xDB':'Ucirc','\\u016F':'uring','\\u016E':'Uring','\\xFC':'uuml','\\xDC':'Uuml','\\u0171':'udblac','\\u0170':'Udblac','\\u0169':'utilde','\\u0168':'Utilde','\\u0173':'uogon','\\u0172':'Uogon','\\u016B':'umacr','\\u016A':'Umacr','\\uD835\\uDD33':'vfr','\\uD835\\uDD67':'vopf','\\uD835\\uDCCB':'vscr','\\uD835\\uDD19':'Vfr','\\uD835\\uDD4D':'Vopf','\\uD835\\uDCB1':'Vscr','\\uD835\\uDD68':'wopf','\\uD835\\uDCCC':'wscr','\\uD835\\uDD34':'wfr','\\uD835\\uDCB2':'Wscr','\\uD835\\uDD4E':'Wopf','\\uD835\\uDD1A':'Wfr','\\u0175':'wcirc','\\u0174':'Wcirc','\\uD835\\uDD35':'xfr','\\uD835\\uDCCD':'xscr','\\uD835\\uDD69':'xopf','\\uD835\\uDD4F':'Xopf','\\uD835\\uDD1B':'Xfr','\\uD835\\uDCB3':'Xscr','\\uD835\\uDD36':'yfr','\\uD835\\uDCCE':'yscr','\\uD835\\uDD6A':'yopf','\\uD835\\uDCB4':'Yscr','\\uD835\\uDD1C':'Yfr','\\uD835\\uDD50':'Yopf','\\xFD':'yacute','\\xDD':'Yacute','\\u0177':'ycirc','\\u0176':'Ycirc','\\xFF':'yuml','\\u0178':'Yuml','\\uD835\\uDCCF':'zscr','\\uD835\\uDD37':'zfr','\\uD835\\uDD6B':'zopf','\\u2128':'Zfr','\\u2124':'Zopf','\\uD835\\uDCB5':'Zscr','\\u017A':'zacute','\\u0179':'Zacute','\\u017E':'zcaron','\\u017D':'Zcaron','\\u017C':'zdot','\\u017B':'Zdot','\\u01B5':'imped','\\xFE':'thorn','\\xDE':'THORN','\\u0149':'napos','\\u03B1':'alpha','\\u0391':'Alpha','\\u03B2':'beta','\\u0392':'Beta','\\u03B3':'gamma','\\u0393':'Gamma','\\u03B4':'delta','\\u0394':'Delta','\\u03B5':'epsi','\\u03F5':'epsiv','\\u0395':'Epsilon','\\u03DD':'gammad','\\u03DC':'Gammad','\\u03B6':'zeta','\\u0396':'Zeta','\\u03B7':'eta','\\u0397':'Eta','\\u03B8':'theta','\\u03D1':'thetav','\\u0398':'Theta','\\u03B9':'iota','\\u0399':'Iota','\\u03BA':'kappa','\\u03F0':'kappav','\\u039A':'Kappa','\\u03BB':'lambda','\\u039B':'Lambda','\\u03BC':'mu','\\xB5':'micro','\\u039C':'Mu','\\u03BD':'nu','\\u039D':'Nu','\\u03BE':'xi','\\u039E':'Xi','\\u03BF':'omicron','\\u039F':'Omicron','\\u03C0':'pi','\\u03D6':'piv','\\u03A0':'Pi','\\u03C1':'rho','\\u03F1':'rhov','\\u03A1':'Rho','\\u03C3':'sigma','\\u03A3':'Sigma','\\u03C2':'sigmaf','\\u03C4':'tau','\\u03A4':'Tau','\\u03C5':'upsi','\\u03A5':'Upsilon','\\u03D2':'Upsi','\\u03C6':'phi','\\u03D5':'phiv','\\u03A6':'Phi','\\u03C7':'chi','\\u03A7':'Chi','\\u03C8':'psi','\\u03A8':'Psi','\\u03C9':'omega','\\u03A9':'ohm','\\u0430':'acy','\\u0410':'Acy','\\u0431':'bcy','\\u0411':'Bcy','\\u0432':'vcy','\\u0412':'Vcy','\\u0433':'gcy','\\u0413':'Gcy','\\u0453':'gjcy','\\u0403':'GJcy','\\u0434':'dcy','\\u0414':'Dcy','\\u0452':'djcy','\\u0402':'DJcy','\\u0435':'iecy','\\u0415':'IEcy','\\u0451':'iocy','\\u0401':'IOcy','\\u0454':'jukcy','\\u0404':'Jukcy','\\u0436':'zhcy','\\u0416':'ZHcy','\\u0437':'zcy','\\u0417':'Zcy','\\u0455':'dscy','\\u0405':'DScy','\\u0438':'icy','\\u0418':'Icy','\\u0456':'iukcy','\\u0406':'Iukcy','\\u0457':'yicy','\\u0407':'YIcy','\\u0439':'jcy','\\u0419':'Jcy','\\u0458':'jsercy','\\u0408':'Jsercy','\\u043A':'kcy','\\u041A':'Kcy','\\u045C':'kjcy','\\u040C':'KJcy','\\u043B':'lcy','\\u041B':'Lcy','\\u0459':'ljcy','\\u0409':'LJcy','\\u043C':'mcy','\\u041C':'Mcy','\\u043D':'ncy','\\u041D':'Ncy','\\u045A':'njcy','\\u040A':'NJcy','\\u043E':'ocy','\\u041E':'Ocy','\\u043F':'pcy','\\u041F':'Pcy','\\u0440':'rcy','\\u0420':'Rcy','\\u0441':'scy','\\u0421':'Scy','\\u0442':'tcy','\\u0422':'Tcy','\\u045B':'tshcy','\\u040B':'TSHcy','\\u0443':'ucy','\\u0423':'Ucy','\\u045E':'ubrcy','\\u040E':'Ubrcy','\\u0444':'fcy','\\u0424':'Fcy','\\u0445':'khcy','\\u0425':'KHcy','\\u0446':'tscy','\\u0426':'TScy','\\u0447':'chcy','\\u0427':'CHcy','\\u045F':'dzcy','\\u040F':'DZcy','\\u0448':'shcy','\\u0428':'SHcy','\\u0449':'shchcy','\\u0429':'SHCHcy','\\u044A':'hardcy','\\u042A':'HARDcy','\\u044B':'ycy','\\u042B':'Ycy','\\u044C':'softcy','\\u042C':'SOFTcy','\\u044D':'ecy','\\u042D':'Ecy','\\u044E':'yucy','\\u042E':'YUcy','\\u044F':'yacy','\\u042F':'YAcy','\\u2135':'aleph','\\u2136':'beth','\\u2137':'gimel','\\u2138':'daleth'};\n\n\tvar regexEscape = /[\"&'<>`]/g;\n\tvar escapeMap = {\n\t\t'\"': '&quot;',\n\t\t'&': '&amp;',\n\t\t'\\'': '&#x27;',\n\t\t'<': '&lt;',\n\t\t// See https://mathiasbynens.be/notes/ambiguous-ampersands: in HTML, the\n\t\t// following is not strictly necessary unless it’s part of a tag or an\n\t\t// unquoted attribute value. We’re only escaping it to support those\n\t\t// situations, and for XML support.\n\t\t'>': '&gt;',\n\t\t// In Internet Explorer ≤ 8, the backtick character can be used\n\t\t// to break out of (un)quoted attribute values or HTML comments.\n\t\t// See http://html5sec.org/#102, http://html5sec.org/#108, and\n\t\t// http://html5sec.org/#133.\n\t\t'`': '&#x60;'\n\t};\n\n\tvar regexInvalidEntity = /&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/;\n\tvar regexInvalidRawCodePoint = /[\\0-\\x08\\x0B\\x0E-\\x1F\\x7F-\\x9F\\uFDD0-\\uFDEF\\uFFFE\\uFFFF]|[\\uD83F\\uD87F\\uD8BF\\uD8FF\\uD93F\\uD97F\\uD9BF\\uD9FF\\uDA3F\\uDA7F\\uDABF\\uDAFF\\uDB3F\\uDB7F\\uDBBF\\uDBFF][\\uDFFE\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n\tvar regexDecode = /&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g;\n\tvar decodeMap = {'aacute':'\\xE1','Aacute':'\\xC1','abreve':'\\u0103','Abreve':'\\u0102','ac':'\\u223E','acd':'\\u223F','acE':'\\u223E\\u0333','acirc':'\\xE2','Acirc':'\\xC2','acute':'\\xB4','acy':'\\u0430','Acy':'\\u0410','aelig':'\\xE6','AElig':'\\xC6','af':'\\u2061','afr':'\\uD835\\uDD1E','Afr':'\\uD835\\uDD04','agrave':'\\xE0','Agrave':'\\xC0','alefsym':'\\u2135','aleph':'\\u2135','alpha':'\\u03B1','Alpha':'\\u0391','amacr':'\\u0101','Amacr':'\\u0100','amalg':'\\u2A3F','amp':'&','AMP':'&','and':'\\u2227','And':'\\u2A53','andand':'\\u2A55','andd':'\\u2A5C','andslope':'\\u2A58','andv':'\\u2A5A','ang':'\\u2220','ange':'\\u29A4','angle':'\\u2220','angmsd':'\\u2221','angmsdaa':'\\u29A8','angmsdab':'\\u29A9','angmsdac':'\\u29AA','angmsdad':'\\u29AB','angmsdae':'\\u29AC','angmsdaf':'\\u29AD','angmsdag':'\\u29AE','angmsdah':'\\u29AF','angrt':'\\u221F','angrtvb':'\\u22BE','angrtvbd':'\\u299D','angsph':'\\u2222','angst':'\\xC5','angzarr':'\\u237C','aogon':'\\u0105','Aogon':'\\u0104','aopf':'\\uD835\\uDD52','Aopf':'\\uD835\\uDD38','ap':'\\u2248','apacir':'\\u2A6F','ape':'\\u224A','apE':'\\u2A70','apid':'\\u224B','apos':'\\'','ApplyFunction':'\\u2061','approx':'\\u2248','approxeq':'\\u224A','aring':'\\xE5','Aring':'\\xC5','ascr':'\\uD835\\uDCB6','Ascr':'\\uD835\\uDC9C','Assign':'\\u2254','ast':'*','asymp':'\\u2248','asympeq':'\\u224D','atilde':'\\xE3','Atilde':'\\xC3','auml':'\\xE4','Auml':'\\xC4','awconint':'\\u2233','awint':'\\u2A11','backcong':'\\u224C','backepsilon':'\\u03F6','backprime':'\\u2035','backsim':'\\u223D','backsimeq':'\\u22CD','Backslash':'\\u2216','Barv':'\\u2AE7','barvee':'\\u22BD','barwed':'\\u2305','Barwed':'\\u2306','barwedge':'\\u2305','bbrk':'\\u23B5','bbrktbrk':'\\u23B6','bcong':'\\u224C','bcy':'\\u0431','Bcy':'\\u0411','bdquo':'\\u201E','becaus':'\\u2235','because':'\\u2235','Because':'\\u2235','bemptyv':'\\u29B0','bepsi':'\\u03F6','bernou':'\\u212C','Bernoullis':'\\u212C','beta':'\\u03B2','Beta':'\\u0392','beth':'\\u2136','between':'\\u226C','bfr':'\\uD835\\uDD1F','Bfr':'\\uD835\\uDD05','bigcap':'\\u22C2','bigcirc':'\\u25EF','bigcup':'\\u22C3','bigodot':'\\u2A00','bigoplus':'\\u2A01','bigotimes':'\\u2A02','bigsqcup':'\\u2A06','bigstar':'\\u2605','bigtriangledown':'\\u25BD','bigtriangleup':'\\u25B3','biguplus':'\\u2A04','bigvee':'\\u22C1','bigwedge':'\\u22C0','bkarow':'\\u290D','blacklozenge':'\\u29EB','blacksquare':'\\u25AA','blacktriangle':'\\u25B4','blacktriangledown':'\\u25BE','blacktriangleleft':'\\u25C2','blacktriangleright':'\\u25B8','blank':'\\u2423','blk12':'\\u2592','blk14':'\\u2591','blk34':'\\u2593','block':'\\u2588','bne':'=\\u20E5','bnequiv':'\\u2261\\u20E5','bnot':'\\u2310','bNot':'\\u2AED','bopf':'\\uD835\\uDD53','Bopf':'\\uD835\\uDD39','bot':'\\u22A5','bottom':'\\u22A5','bowtie':'\\u22C8','boxbox':'\\u29C9','boxdl':'\\u2510','boxdL':'\\u2555','boxDl':'\\u2556','boxDL':'\\u2557','boxdr':'\\u250C','boxdR':'\\u2552','boxDr':'\\u2553','boxDR':'\\u2554','boxh':'\\u2500','boxH':'\\u2550','boxhd':'\\u252C','boxhD':'\\u2565','boxHd':'\\u2564','boxHD':'\\u2566','boxhu':'\\u2534','boxhU':'\\u2568','boxHu':'\\u2567','boxHU':'\\u2569','boxminus':'\\u229F','boxplus':'\\u229E','boxtimes':'\\u22A0','boxul':'\\u2518','boxuL':'\\u255B','boxUl':'\\u255C','boxUL':'\\u255D','boxur':'\\u2514','boxuR':'\\u2558','boxUr':'\\u2559','boxUR':'\\u255A','boxv':'\\u2502','boxV':'\\u2551','boxvh':'\\u253C','boxvH':'\\u256A','boxVh':'\\u256B','boxVH':'\\u256C','boxvl':'\\u2524','boxvL':'\\u2561','boxVl':'\\u2562','boxVL':'\\u2563','boxvr':'\\u251C','boxvR':'\\u255E','boxVr':'\\u255F','boxVR':'\\u2560','bprime':'\\u2035','breve':'\\u02D8','Breve':'\\u02D8','brvbar':'\\xA6','bscr':'\\uD835\\uDCB7','Bscr':'\\u212C','bsemi':'\\u204F','bsim':'\\u223D','bsime':'\\u22CD','bsol':'\\\\','bsolb':'\\u29C5','bsolhsub':'\\u27C8','bull':'\\u2022','bullet':'\\u2022','bump':'\\u224E','bumpe':'\\u224F','bumpE':'\\u2AAE','bumpeq':'\\u224F','Bumpeq':'\\u224E','cacute':'\\u0107','Cacute':'\\u0106','cap':'\\u2229','Cap':'\\u22D2','capand':'\\u2A44','capbrcup':'\\u2A49','capcap':'\\u2A4B','capcup':'\\u2A47','capdot':'\\u2A40','CapitalDifferentialD':'\\u2145','caps':'\\u2229\\uFE00','caret':'\\u2041','caron':'\\u02C7','Cayleys':'\\u212D','ccaps':'\\u2A4D','ccaron':'\\u010D','Ccaron':'\\u010C','ccedil':'\\xE7','Ccedil':'\\xC7','ccirc':'\\u0109','Ccirc':'\\u0108','Cconint':'\\u2230','ccups':'\\u2A4C','ccupssm':'\\u2A50','cdot':'\\u010B','Cdot':'\\u010A','cedil':'\\xB8','Cedilla':'\\xB8','cemptyv':'\\u29B2','cent':'\\xA2','centerdot':'\\xB7','CenterDot':'\\xB7','cfr':'\\uD835\\uDD20','Cfr':'\\u212D','chcy':'\\u0447','CHcy':'\\u0427','check':'\\u2713','checkmark':'\\u2713','chi':'\\u03C7','Chi':'\\u03A7','cir':'\\u25CB','circ':'\\u02C6','circeq':'\\u2257','circlearrowleft':'\\u21BA','circlearrowright':'\\u21BB','circledast':'\\u229B','circledcirc':'\\u229A','circleddash':'\\u229D','CircleDot':'\\u2299','circledR':'\\xAE','circledS':'\\u24C8','CircleMinus':'\\u2296','CirclePlus':'\\u2295','CircleTimes':'\\u2297','cire':'\\u2257','cirE':'\\u29C3','cirfnint':'\\u2A10','cirmid':'\\u2AEF','cirscir':'\\u29C2','ClockwiseContourIntegral':'\\u2232','CloseCurlyDoubleQuote':'\\u201D','CloseCurlyQuote':'\\u2019','clubs':'\\u2663','clubsuit':'\\u2663','colon':':','Colon':'\\u2237','colone':'\\u2254','Colone':'\\u2A74','coloneq':'\\u2254','comma':',','commat':'@','comp':'\\u2201','compfn':'\\u2218','complement':'\\u2201','complexes':'\\u2102','cong':'\\u2245','congdot':'\\u2A6D','Congruent':'\\u2261','conint':'\\u222E','Conint':'\\u222F','ContourIntegral':'\\u222E','copf':'\\uD835\\uDD54','Copf':'\\u2102','coprod':'\\u2210','Coproduct':'\\u2210','copy':'\\xA9','COPY':'\\xA9','copysr':'\\u2117','CounterClockwiseContourIntegral':'\\u2233','crarr':'\\u21B5','cross':'\\u2717','Cross':'\\u2A2F','cscr':'\\uD835\\uDCB8','Cscr':'\\uD835\\uDC9E','csub':'\\u2ACF','csube':'\\u2AD1','csup':'\\u2AD0','csupe':'\\u2AD2','ctdot':'\\u22EF','cudarrl':'\\u2938','cudarrr':'\\u2935','cuepr':'\\u22DE','cuesc':'\\u22DF','cularr':'\\u21B6','cularrp':'\\u293D','cup':'\\u222A','Cup':'\\u22D3','cupbrcap':'\\u2A48','cupcap':'\\u2A46','CupCap':'\\u224D','cupcup':'\\u2A4A','cupdot':'\\u228D','cupor':'\\u2A45','cups':'\\u222A\\uFE00','curarr':'\\u21B7','curarrm':'\\u293C','curlyeqprec':'\\u22DE','curlyeqsucc':'\\u22DF','curlyvee':'\\u22CE','curlywedge':'\\u22CF','curren':'\\xA4','curvearrowleft':'\\u21B6','curvearrowright':'\\u21B7','cuvee':'\\u22CE','cuwed':'\\u22CF','cwconint':'\\u2232','cwint':'\\u2231','cylcty':'\\u232D','dagger':'\\u2020','Dagger':'\\u2021','daleth':'\\u2138','darr':'\\u2193','dArr':'\\u21D3','Darr':'\\u21A1','dash':'\\u2010','dashv':'\\u22A3','Dashv':'\\u2AE4','dbkarow':'\\u290F','dblac':'\\u02DD','dcaron':'\\u010F','Dcaron':'\\u010E','dcy':'\\u0434','Dcy':'\\u0414','dd':'\\u2146','DD':'\\u2145','ddagger':'\\u2021','ddarr':'\\u21CA','DDotrahd':'\\u2911','ddotseq':'\\u2A77','deg':'\\xB0','Del':'\\u2207','delta':'\\u03B4','Delta':'\\u0394','demptyv':'\\u29B1','dfisht':'\\u297F','dfr':'\\uD835\\uDD21','Dfr':'\\uD835\\uDD07','dHar':'\\u2965','dharl':'\\u21C3','dharr':'\\u21C2','DiacriticalAcute':'\\xB4','DiacriticalDot':'\\u02D9','DiacriticalDoubleAcute':'\\u02DD','DiacriticalGrave':'`','DiacriticalTilde':'\\u02DC','diam':'\\u22C4','diamond':'\\u22C4','Diamond':'\\u22C4','diamondsuit':'\\u2666','diams':'\\u2666','die':'\\xA8','DifferentialD':'\\u2146','digamma':'\\u03DD','disin':'\\u22F2','div':'\\xF7','divide':'\\xF7','divideontimes':'\\u22C7','divonx':'\\u22C7','djcy':'\\u0452','DJcy':'\\u0402','dlcorn':'\\u231E','dlcrop':'\\u230D','dollar':'$','dopf':'\\uD835\\uDD55','Dopf':'\\uD835\\uDD3B','dot':'\\u02D9','Dot':'\\xA8','DotDot':'\\u20DC','doteq':'\\u2250','doteqdot':'\\u2251','DotEqual':'\\u2250','dotminus':'\\u2238','dotplus':'\\u2214','dotsquare':'\\u22A1','doublebarwedge':'\\u2306','DoubleContourIntegral':'\\u222F','DoubleDot':'\\xA8','DoubleDownArrow':'\\u21D3','DoubleLeftArrow':'\\u21D0','DoubleLeftRightArrow':'\\u21D4','DoubleLeftTee':'\\u2AE4','DoubleLongLeftArrow':'\\u27F8','DoubleLongLeftRightArrow':'\\u27FA','DoubleLongRightArrow':'\\u27F9','DoubleRightArrow':'\\u21D2','DoubleRightTee':'\\u22A8','DoubleUpArrow':'\\u21D1','DoubleUpDownArrow':'\\u21D5','DoubleVerticalBar':'\\u2225','downarrow':'\\u2193','Downarrow':'\\u21D3','DownArrow':'\\u2193','DownArrowBar':'\\u2913','DownArrowUpArrow':'\\u21F5','DownBreve':'\\u0311','downdownarrows':'\\u21CA','downharpoonleft':'\\u21C3','downharpoonright':'\\u21C2','DownLeftRightVector':'\\u2950','DownLeftTeeVector':'\\u295E','DownLeftVector':'\\u21BD','DownLeftVectorBar':'\\u2956','DownRightTeeVector':'\\u295F','DownRightVector':'\\u21C1','DownRightVectorBar':'\\u2957','DownTee':'\\u22A4','DownTeeArrow':'\\u21A7','drbkarow':'\\u2910','drcorn':'\\u231F','drcrop':'\\u230C','dscr':'\\uD835\\uDCB9','Dscr':'\\uD835\\uDC9F','dscy':'\\u0455','DScy':'\\u0405','dsol':'\\u29F6','dstrok':'\\u0111','Dstrok':'\\u0110','dtdot':'\\u22F1','dtri':'\\u25BF','dtrif':'\\u25BE','duarr':'\\u21F5','duhar':'\\u296F','dwangle':'\\u29A6','dzcy':'\\u045F','DZcy':'\\u040F','dzigrarr':'\\u27FF','eacute':'\\xE9','Eacute':'\\xC9','easter':'\\u2A6E','ecaron':'\\u011B','Ecaron':'\\u011A','ecir':'\\u2256','ecirc':'\\xEA','Ecirc':'\\xCA','ecolon':'\\u2255','ecy':'\\u044D','Ecy':'\\u042D','eDDot':'\\u2A77','edot':'\\u0117','eDot':'\\u2251','Edot':'\\u0116','ee':'\\u2147','efDot':'\\u2252','efr':'\\uD835\\uDD22','Efr':'\\uD835\\uDD08','eg':'\\u2A9A','egrave':'\\xE8','Egrave':'\\xC8','egs':'\\u2A96','egsdot':'\\u2A98','el':'\\u2A99','Element':'\\u2208','elinters':'\\u23E7','ell':'\\u2113','els':'\\u2A95','elsdot':'\\u2A97','emacr':'\\u0113','Emacr':'\\u0112','empty':'\\u2205','emptyset':'\\u2205','EmptySmallSquare':'\\u25FB','emptyv':'\\u2205','EmptyVerySmallSquare':'\\u25AB','emsp':'\\u2003','emsp13':'\\u2004','emsp14':'\\u2005','eng':'\\u014B','ENG':'\\u014A','ensp':'\\u2002','eogon':'\\u0119','Eogon':'\\u0118','eopf':'\\uD835\\uDD56','Eopf':'\\uD835\\uDD3C','epar':'\\u22D5','eparsl':'\\u29E3','eplus':'\\u2A71','epsi':'\\u03B5','epsilon':'\\u03B5','Epsilon':'\\u0395','epsiv':'\\u03F5','eqcirc':'\\u2256','eqcolon':'\\u2255','eqsim':'\\u2242','eqslantgtr':'\\u2A96','eqslantless':'\\u2A95','Equal':'\\u2A75','equals':'=','EqualTilde':'\\u2242','equest':'\\u225F','Equilibrium':'\\u21CC','equiv':'\\u2261','equivDD':'\\u2A78','eqvparsl':'\\u29E5','erarr':'\\u2971','erDot':'\\u2253','escr':'\\u212F','Escr':'\\u2130','esdot':'\\u2250','esim':'\\u2242','Esim':'\\u2A73','eta':'\\u03B7','Eta':'\\u0397','eth':'\\xF0','ETH':'\\xD0','euml':'\\xEB','Euml':'\\xCB','euro':'\\u20AC','excl':'!','exist':'\\u2203','Exists':'\\u2203','expectation':'\\u2130','exponentiale':'\\u2147','ExponentialE':'\\u2147','fallingdotseq':'\\u2252','fcy':'\\u0444','Fcy':'\\u0424','female':'\\u2640','ffilig':'\\uFB03','fflig':'\\uFB00','ffllig':'\\uFB04','ffr':'\\uD835\\uDD23','Ffr':'\\uD835\\uDD09','filig':'\\uFB01','FilledSmallSquare':'\\u25FC','FilledVerySmallSquare':'\\u25AA','fjlig':'fj','flat':'\\u266D','fllig':'\\uFB02','fltns':'\\u25B1','fnof':'\\u0192','fopf':'\\uD835\\uDD57','Fopf':'\\uD835\\uDD3D','forall':'\\u2200','ForAll':'\\u2200','fork':'\\u22D4','forkv':'\\u2AD9','Fouriertrf':'\\u2131','fpartint':'\\u2A0D','frac12':'\\xBD','frac13':'\\u2153','frac14':'\\xBC','frac15':'\\u2155','frac16':'\\u2159','frac18':'\\u215B','frac23':'\\u2154','frac25':'\\u2156','frac34':'\\xBE','frac35':'\\u2157','frac38':'\\u215C','frac45':'\\u2158','frac56':'\\u215A','frac58':'\\u215D','frac78':'\\u215E','frasl':'\\u2044','frown':'\\u2322','fscr':'\\uD835\\uDCBB','Fscr':'\\u2131','gacute':'\\u01F5','gamma':'\\u03B3','Gamma':'\\u0393','gammad':'\\u03DD','Gammad':'\\u03DC','gap':'\\u2A86','gbreve':'\\u011F','Gbreve':'\\u011E','Gcedil':'\\u0122','gcirc':'\\u011D','Gcirc':'\\u011C','gcy':'\\u0433','Gcy':'\\u0413','gdot':'\\u0121','Gdot':'\\u0120','ge':'\\u2265','gE':'\\u2267','gel':'\\u22DB','gEl':'\\u2A8C','geq':'\\u2265','geqq':'\\u2267','geqslant':'\\u2A7E','ges':'\\u2A7E','gescc':'\\u2AA9','gesdot':'\\u2A80','gesdoto':'\\u2A82','gesdotol':'\\u2A84','gesl':'\\u22DB\\uFE00','gesles':'\\u2A94','gfr':'\\uD835\\uDD24','Gfr':'\\uD835\\uDD0A','gg':'\\u226B','Gg':'\\u22D9','ggg':'\\u22D9','gimel':'\\u2137','gjcy':'\\u0453','GJcy':'\\u0403','gl':'\\u2277','gla':'\\u2AA5','glE':'\\u2A92','glj':'\\u2AA4','gnap':'\\u2A8A','gnapprox':'\\u2A8A','gne':'\\u2A88','gnE':'\\u2269','gneq':'\\u2A88','gneqq':'\\u2269','gnsim':'\\u22E7','gopf':'\\uD835\\uDD58','Gopf':'\\uD835\\uDD3E','grave':'`','GreaterEqual':'\\u2265','GreaterEqualLess':'\\u22DB','GreaterFullEqual':'\\u2267','GreaterGreater':'\\u2AA2','GreaterLess':'\\u2277','GreaterSlantEqual':'\\u2A7E','GreaterTilde':'\\u2273','gscr':'\\u210A','Gscr':'\\uD835\\uDCA2','gsim':'\\u2273','gsime':'\\u2A8E','gsiml':'\\u2A90','gt':'>','Gt':'\\u226B','GT':'>','gtcc':'\\u2AA7','gtcir':'\\u2A7A','gtdot':'\\u22D7','gtlPar':'\\u2995','gtquest':'\\u2A7C','gtrapprox':'\\u2A86','gtrarr':'\\u2978','gtrdot':'\\u22D7','gtreqless':'\\u22DB','gtreqqless':'\\u2A8C','gtrless':'\\u2277','gtrsim':'\\u2273','gvertneqq':'\\u2269\\uFE00','gvnE':'\\u2269\\uFE00','Hacek':'\\u02C7','hairsp':'\\u200A','half':'\\xBD','hamilt':'\\u210B','hardcy':'\\u044A','HARDcy':'\\u042A','harr':'\\u2194','hArr':'\\u21D4','harrcir':'\\u2948','harrw':'\\u21AD','Hat':'^','hbar':'\\u210F','hcirc':'\\u0125','Hcirc':'\\u0124','hearts':'\\u2665','heartsuit':'\\u2665','hellip':'\\u2026','hercon':'\\u22B9','hfr':'\\uD835\\uDD25','Hfr':'\\u210C','HilbertSpace':'\\u210B','hksearow':'\\u2925','hkswarow':'\\u2926','hoarr':'\\u21FF','homtht':'\\u223B','hookleftarrow':'\\u21A9','hookrightarrow':'\\u21AA','hopf':'\\uD835\\uDD59','Hopf':'\\u210D','horbar':'\\u2015','HorizontalLine':'\\u2500','hscr':'\\uD835\\uDCBD','Hscr':'\\u210B','hslash':'\\u210F','hstrok':'\\u0127','Hstrok':'\\u0126','HumpDownHump':'\\u224E','HumpEqual':'\\u224F','hybull':'\\u2043','hyphen':'\\u2010','iacute':'\\xED','Iacute':'\\xCD','ic':'\\u2063','icirc':'\\xEE','Icirc':'\\xCE','icy':'\\u0438','Icy':'\\u0418','Idot':'\\u0130','iecy':'\\u0435','IEcy':'\\u0415','iexcl':'\\xA1','iff':'\\u21D4','ifr':'\\uD835\\uDD26','Ifr':'\\u2111','igrave':'\\xEC','Igrave':'\\xCC','ii':'\\u2148','iiiint':'\\u2A0C','iiint':'\\u222D','iinfin':'\\u29DC','iiota':'\\u2129','ijlig':'\\u0133','IJlig':'\\u0132','Im':'\\u2111','imacr':'\\u012B','Imacr':'\\u012A','image':'\\u2111','ImaginaryI':'\\u2148','imagline':'\\u2110','imagpart':'\\u2111','imath':'\\u0131','imof':'\\u22B7','imped':'\\u01B5','Implies':'\\u21D2','in':'\\u2208','incare':'\\u2105','infin':'\\u221E','infintie':'\\u29DD','inodot':'\\u0131','int':'\\u222B','Int':'\\u222C','intcal':'\\u22BA','integers':'\\u2124','Integral':'\\u222B','intercal':'\\u22BA','Intersection':'\\u22C2','intlarhk':'\\u2A17','intprod':'\\u2A3C','InvisibleComma':'\\u2063','InvisibleTimes':'\\u2062','iocy':'\\u0451','IOcy':'\\u0401','iogon':'\\u012F','Iogon':'\\u012E','iopf':'\\uD835\\uDD5A','Iopf':'\\uD835\\uDD40','iota':'\\u03B9','Iota':'\\u0399','iprod':'\\u2A3C','iquest':'\\xBF','iscr':'\\uD835\\uDCBE','Iscr':'\\u2110','isin':'\\u2208','isindot':'\\u22F5','isinE':'\\u22F9','isins':'\\u22F4','isinsv':'\\u22F3','isinv':'\\u2208','it':'\\u2062','itilde':'\\u0129','Itilde':'\\u0128','iukcy':'\\u0456','Iukcy':'\\u0406','iuml':'\\xEF','Iuml':'\\xCF','jcirc':'\\u0135','Jcirc':'\\u0134','jcy':'\\u0439','Jcy':'\\u0419','jfr':'\\uD835\\uDD27','Jfr':'\\uD835\\uDD0D','jmath':'\\u0237','jopf':'\\uD835\\uDD5B','Jopf':'\\uD835\\uDD41','jscr':'\\uD835\\uDCBF','Jscr':'\\uD835\\uDCA5','jsercy':'\\u0458','Jsercy':'\\u0408','jukcy':'\\u0454','Jukcy':'\\u0404','kappa':'\\u03BA','Kappa':'\\u039A','kappav':'\\u03F0','kcedil':'\\u0137','Kcedil':'\\u0136','kcy':'\\u043A','Kcy':'\\u041A','kfr':'\\uD835\\uDD28','Kfr':'\\uD835\\uDD0E','kgreen':'\\u0138','khcy':'\\u0445','KHcy':'\\u0425','kjcy':'\\u045C','KJcy':'\\u040C','kopf':'\\uD835\\uDD5C','Kopf':'\\uD835\\uDD42','kscr':'\\uD835\\uDCC0','Kscr':'\\uD835\\uDCA6','lAarr':'\\u21DA','lacute':'\\u013A','Lacute':'\\u0139','laemptyv':'\\u29B4','lagran':'\\u2112','lambda':'\\u03BB','Lambda':'\\u039B','lang':'\\u27E8','Lang':'\\u27EA','langd':'\\u2991','langle':'\\u27E8','lap':'\\u2A85','Laplacetrf':'\\u2112','laquo':'\\xAB','larr':'\\u2190','lArr':'\\u21D0','Larr':'\\u219E','larrb':'\\u21E4','larrbfs':'\\u291F','larrfs':'\\u291D','larrhk':'\\u21A9','larrlp':'\\u21AB','larrpl':'\\u2939','larrsim':'\\u2973','larrtl':'\\u21A2','lat':'\\u2AAB','latail':'\\u2919','lAtail':'\\u291B','late':'\\u2AAD','lates':'\\u2AAD\\uFE00','lbarr':'\\u290C','lBarr':'\\u290E','lbbrk':'\\u2772','lbrace':'{','lbrack':'[','lbrke':'\\u298B','lbrksld':'\\u298F','lbrkslu':'\\u298D','lcaron':'\\u013E','Lcaron':'\\u013D','lcedil':'\\u013C','Lcedil':'\\u013B','lceil':'\\u2308','lcub':'{','lcy':'\\u043B','Lcy':'\\u041B','ldca':'\\u2936','ldquo':'\\u201C','ldquor':'\\u201E','ldrdhar':'\\u2967','ldrushar':'\\u294B','ldsh':'\\u21B2','le':'\\u2264','lE':'\\u2266','LeftAngleBracket':'\\u27E8','leftarrow':'\\u2190','Leftarrow':'\\u21D0','LeftArrow':'\\u2190','LeftArrowBar':'\\u21E4','LeftArrowRightArrow':'\\u21C6','leftarrowtail':'\\u21A2','LeftCeiling':'\\u2308','LeftDoubleBracket':'\\u27E6','LeftDownTeeVector':'\\u2961','LeftDownVector':'\\u21C3','LeftDownVectorBar':'\\u2959','LeftFloor':'\\u230A','leftharpoondown':'\\u21BD','leftharpoonup':'\\u21BC','leftleftarrows':'\\u21C7','leftrightarrow':'\\u2194','Leftrightarrow':'\\u21D4','LeftRightArrow':'\\u2194','leftrightarrows':'\\u21C6','leftrightharpoons':'\\u21CB','leftrightsquigarrow':'\\u21AD','LeftRightVector':'\\u294E','LeftTee':'\\u22A3','LeftTeeArrow':'\\u21A4','LeftTeeVector':'\\u295A','leftthreetimes':'\\u22CB','LeftTriangle':'\\u22B2','LeftTriangleBar':'\\u29CF','LeftTriangleEqual':'\\u22B4','LeftUpDownVector':'\\u2951','LeftUpTeeVector':'\\u2960','LeftUpVector':'\\u21BF','LeftUpVectorBar':'\\u2958','LeftVector':'\\u21BC','LeftVectorBar':'\\u2952','leg':'\\u22DA','lEg':'\\u2A8B','leq':'\\u2264','leqq':'\\u2266','leqslant':'\\u2A7D','les':'\\u2A7D','lescc':'\\u2AA8','lesdot':'\\u2A7F','lesdoto':'\\u2A81','lesdotor':'\\u2A83','lesg':'\\u22DA\\uFE00','lesges':'\\u2A93','lessapprox':'\\u2A85','lessdot':'\\u22D6','lesseqgtr':'\\u22DA','lesseqqgtr':'\\u2A8B','LessEqualGreater':'\\u22DA','LessFullEqual':'\\u2266','LessGreater':'\\u2276','lessgtr':'\\u2276','LessLess':'\\u2AA1','lesssim':'\\u2272','LessSlantEqual':'\\u2A7D','LessTilde':'\\u2272','lfisht':'\\u297C','lfloor':'\\u230A','lfr':'\\uD835\\uDD29','Lfr':'\\uD835\\uDD0F','lg':'\\u2276','lgE':'\\u2A91','lHar':'\\u2962','lhard':'\\u21BD','lharu':'\\u21BC','lharul':'\\u296A','lhblk':'\\u2584','ljcy':'\\u0459','LJcy':'\\u0409','ll':'\\u226A','Ll':'\\u22D8','llarr':'\\u21C7','llcorner':'\\u231E','Lleftarrow':'\\u21DA','llhard':'\\u296B','lltri':'\\u25FA','lmidot':'\\u0140','Lmidot':'\\u013F','lmoust':'\\u23B0','lmoustache':'\\u23B0','lnap':'\\u2A89','lnapprox':'\\u2A89','lne':'\\u2A87','lnE':'\\u2268','lneq':'\\u2A87','lneqq':'\\u2268','lnsim':'\\u22E6','loang':'\\u27EC','loarr':'\\u21FD','lobrk':'\\u27E6','longleftarrow':'\\u27F5','Longleftarrow':'\\u27F8','LongLeftArrow':'\\u27F5','longleftrightarrow':'\\u27F7','Longleftrightarrow':'\\u27FA','LongLeftRightArrow':'\\u27F7','longmapsto':'\\u27FC','longrightarrow':'\\u27F6','Longrightarrow':'\\u27F9','LongRightArrow':'\\u27F6','looparrowleft':'\\u21AB','looparrowright':'\\u21AC','lopar':'\\u2985','lopf':'\\uD835\\uDD5D','Lopf':'\\uD835\\uDD43','loplus':'\\u2A2D','lotimes':'\\u2A34','lowast':'\\u2217','lowbar':'_','LowerLeftArrow':'\\u2199','LowerRightArrow':'\\u2198','loz':'\\u25CA','lozenge':'\\u25CA','lozf':'\\u29EB','lpar':'(','lparlt':'\\u2993','lrarr':'\\u21C6','lrcorner':'\\u231F','lrhar':'\\u21CB','lrhard':'\\u296D','lrm':'\\u200E','lrtri':'\\u22BF','lsaquo':'\\u2039','lscr':'\\uD835\\uDCC1','Lscr':'\\u2112','lsh':'\\u21B0','Lsh':'\\u21B0','lsim':'\\u2272','lsime':'\\u2A8D','lsimg':'\\u2A8F','lsqb':'[','lsquo':'\\u2018','lsquor':'\\u201A','lstrok':'\\u0142','Lstrok':'\\u0141','lt':'<','Lt':'\\u226A','LT':'<','ltcc':'\\u2AA6','ltcir':'\\u2A79','ltdot':'\\u22D6','lthree':'\\u22CB','ltimes':'\\u22C9','ltlarr':'\\u2976','ltquest':'\\u2A7B','ltri':'\\u25C3','ltrie':'\\u22B4','ltrif':'\\u25C2','ltrPar':'\\u2996','lurdshar':'\\u294A','luruhar':'\\u2966','lvertneqq':'\\u2268\\uFE00','lvnE':'\\u2268\\uFE00','macr':'\\xAF','male':'\\u2642','malt':'\\u2720','maltese':'\\u2720','map':'\\u21A6','Map':'\\u2905','mapsto':'\\u21A6','mapstodown':'\\u21A7','mapstoleft':'\\u21A4','mapstoup':'\\u21A5','marker':'\\u25AE','mcomma':'\\u2A29','mcy':'\\u043C','Mcy':'\\u041C','mdash':'\\u2014','mDDot':'\\u223A','measuredangle':'\\u2221','MediumSpace':'\\u205F','Mellintrf':'\\u2133','mfr':'\\uD835\\uDD2A','Mfr':'\\uD835\\uDD10','mho':'\\u2127','micro':'\\xB5','mid':'\\u2223','midast':'*','midcir':'\\u2AF0','middot':'\\xB7','minus':'\\u2212','minusb':'\\u229F','minusd':'\\u2238','minusdu':'\\u2A2A','MinusPlus':'\\u2213','mlcp':'\\u2ADB','mldr':'\\u2026','mnplus':'\\u2213','models':'\\u22A7','mopf':'\\uD835\\uDD5E','Mopf':'\\uD835\\uDD44','mp':'\\u2213','mscr':'\\uD835\\uDCC2','Mscr':'\\u2133','mstpos':'\\u223E','mu':'\\u03BC','Mu':'\\u039C','multimap':'\\u22B8','mumap':'\\u22B8','nabla':'\\u2207','nacute':'\\u0144','Nacute':'\\u0143','nang':'\\u2220\\u20D2','nap':'\\u2249','napE':'\\u2A70\\u0338','napid':'\\u224B\\u0338','napos':'\\u0149','napprox':'\\u2249','natur':'\\u266E','natural':'\\u266E','naturals':'\\u2115','nbsp':'\\xA0','nbump':'\\u224E\\u0338','nbumpe':'\\u224F\\u0338','ncap':'\\u2A43','ncaron':'\\u0148','Ncaron':'\\u0147','ncedil':'\\u0146','Ncedil':'\\u0145','ncong':'\\u2247','ncongdot':'\\u2A6D\\u0338','ncup':'\\u2A42','ncy':'\\u043D','Ncy':'\\u041D','ndash':'\\u2013','ne':'\\u2260','nearhk':'\\u2924','nearr':'\\u2197','neArr':'\\u21D7','nearrow':'\\u2197','nedot':'\\u2250\\u0338','NegativeMediumSpace':'\\u200B','NegativeThickSpace':'\\u200B','NegativeThinSpace':'\\u200B','NegativeVeryThinSpace':'\\u200B','nequiv':'\\u2262','nesear':'\\u2928','nesim':'\\u2242\\u0338','NestedGreaterGreater':'\\u226B','NestedLessLess':'\\u226A','NewLine':'\\n','nexist':'\\u2204','nexists':'\\u2204','nfr':'\\uD835\\uDD2B','Nfr':'\\uD835\\uDD11','nge':'\\u2271','ngE':'\\u2267\\u0338','ngeq':'\\u2271','ngeqq':'\\u2267\\u0338','ngeqslant':'\\u2A7E\\u0338','nges':'\\u2A7E\\u0338','nGg':'\\u22D9\\u0338','ngsim':'\\u2275','ngt':'\\u226F','nGt':'\\u226B\\u20D2','ngtr':'\\u226F','nGtv':'\\u226B\\u0338','nharr':'\\u21AE','nhArr':'\\u21CE','nhpar':'\\u2AF2','ni':'\\u220B','nis':'\\u22FC','nisd':'\\u22FA','niv':'\\u220B','njcy':'\\u045A','NJcy':'\\u040A','nlarr':'\\u219A','nlArr':'\\u21CD','nldr':'\\u2025','nle':'\\u2270','nlE':'\\u2266\\u0338','nleftarrow':'\\u219A','nLeftarrow':'\\u21CD','nleftrightarrow':'\\u21AE','nLeftrightarrow':'\\u21CE','nleq':'\\u2270','nleqq':'\\u2266\\u0338','nleqslant':'\\u2A7D\\u0338','nles':'\\u2A7D\\u0338','nless':'\\u226E','nLl':'\\u22D8\\u0338','nlsim':'\\u2274','nlt':'\\u226E','nLt':'\\u226A\\u20D2','nltri':'\\u22EA','nltrie':'\\u22EC','nLtv':'\\u226A\\u0338','nmid':'\\u2224','NoBreak':'\\u2060','NonBreakingSpace':'\\xA0','nopf':'\\uD835\\uDD5F','Nopf':'\\u2115','not':'\\xAC','Not':'\\u2AEC','NotCongruent':'\\u2262','NotCupCap':'\\u226D','NotDoubleVerticalBar':'\\u2226','NotElement':'\\u2209','NotEqual':'\\u2260','NotEqualTilde':'\\u2242\\u0338','NotExists':'\\u2204','NotGreater':'\\u226F','NotGreaterEqual':'\\u2271','NotGreaterFullEqual':'\\u2267\\u0338','NotGreaterGreater':'\\u226B\\u0338','NotGreaterLess':'\\u2279','NotGreaterSlantEqual':'\\u2A7E\\u0338','NotGreaterTilde':'\\u2275','NotHumpDownHump':'\\u224E\\u0338','NotHumpEqual':'\\u224F\\u0338','notin':'\\u2209','notindot':'\\u22F5\\u0338','notinE':'\\u22F9\\u0338','notinva':'\\u2209','notinvb':'\\u22F7','notinvc':'\\u22F6','NotLeftTriangle':'\\u22EA','NotLeftTriangleBar':'\\u29CF\\u0338','NotLeftTriangleEqual':'\\u22EC','NotLess':'\\u226E','NotLessEqual':'\\u2270','NotLessGreater':'\\u2278','NotLessLess':'\\u226A\\u0338','NotLessSlantEqual':'\\u2A7D\\u0338','NotLessTilde':'\\u2274','NotNestedGreaterGreater':'\\u2AA2\\u0338','NotNestedLessLess':'\\u2AA1\\u0338','notni':'\\u220C','notniva':'\\u220C','notnivb':'\\u22FE','notnivc':'\\u22FD','NotPrecedes':'\\u2280','NotPrecedesEqual':'\\u2AAF\\u0338','NotPrecedesSlantEqual':'\\u22E0','NotReverseElement':'\\u220C','NotRightTriangle':'\\u22EB','NotRightTriangleBar':'\\u29D0\\u0338','NotRightTriangleEqual':'\\u22ED','NotSquareSubset':'\\u228F\\u0338','NotSquareSubsetEqual':'\\u22E2','NotSquareSuperset':'\\u2290\\u0338','NotSquareSupersetEqual':'\\u22E3','NotSubset':'\\u2282\\u20D2','NotSubsetEqual':'\\u2288','NotSucceeds':'\\u2281','NotSucceedsEqual':'\\u2AB0\\u0338','NotSucceedsSlantEqual':'\\u22E1','NotSucceedsTilde':'\\u227F\\u0338','NotSuperset':'\\u2283\\u20D2','NotSupersetEqual':'\\u2289','NotTilde':'\\u2241','NotTildeEqual':'\\u2244','NotTildeFullEqual':'\\u2247','NotTildeTilde':'\\u2249','NotVerticalBar':'\\u2224','npar':'\\u2226','nparallel':'\\u2226','nparsl':'\\u2AFD\\u20E5','npart':'\\u2202\\u0338','npolint':'\\u2A14','npr':'\\u2280','nprcue':'\\u22E0','npre':'\\u2AAF\\u0338','nprec':'\\u2280','npreceq':'\\u2AAF\\u0338','nrarr':'\\u219B','nrArr':'\\u21CF','nrarrc':'\\u2933\\u0338','nrarrw':'\\u219D\\u0338','nrightarrow':'\\u219B','nRightarrow':'\\u21CF','nrtri':'\\u22EB','nrtrie':'\\u22ED','nsc':'\\u2281','nsccue':'\\u22E1','nsce':'\\u2AB0\\u0338','nscr':'\\uD835\\uDCC3','Nscr':'\\uD835\\uDCA9','nshortmid':'\\u2224','nshortparallel':'\\u2226','nsim':'\\u2241','nsime':'\\u2244','nsimeq':'\\u2244','nsmid':'\\u2224','nspar':'\\u2226','nsqsube':'\\u22E2','nsqsupe':'\\u22E3','nsub':'\\u2284','nsube':'\\u2288','nsubE':'\\u2AC5\\u0338','nsubset':'\\u2282\\u20D2','nsubseteq':'\\u2288','nsubseteqq':'\\u2AC5\\u0338','nsucc':'\\u2281','nsucceq':'\\u2AB0\\u0338','nsup':'\\u2285','nsupe':'\\u2289','nsupE':'\\u2AC6\\u0338','nsupset':'\\u2283\\u20D2','nsupseteq':'\\u2289','nsupseteqq':'\\u2AC6\\u0338','ntgl':'\\u2279','ntilde':'\\xF1','Ntilde':'\\xD1','ntlg':'\\u2278','ntriangleleft':'\\u22EA','ntrianglelefteq':'\\u22EC','ntriangleright':'\\u22EB','ntrianglerighteq':'\\u22ED','nu':'\\u03BD','Nu':'\\u039D','num':'#','numero':'\\u2116','numsp':'\\u2007','nvap':'\\u224D\\u20D2','nvdash':'\\u22AC','nvDash':'\\u22AD','nVdash':'\\u22AE','nVDash':'\\u22AF','nvge':'\\u2265\\u20D2','nvgt':'>\\u20D2','nvHarr':'\\u2904','nvinfin':'\\u29DE','nvlArr':'\\u2902','nvle':'\\u2264\\u20D2','nvlt':'<\\u20D2','nvltrie':'\\u22B4\\u20D2','nvrArr':'\\u2903','nvrtrie':'\\u22B5\\u20D2','nvsim':'\\u223C\\u20D2','nwarhk':'\\u2923','nwarr':'\\u2196','nwArr':'\\u21D6','nwarrow':'\\u2196','nwnear':'\\u2927','oacute':'\\xF3','Oacute':'\\xD3','oast':'\\u229B','ocir':'\\u229A','ocirc':'\\xF4','Ocirc':'\\xD4','ocy':'\\u043E','Ocy':'\\u041E','odash':'\\u229D','odblac':'\\u0151','Odblac':'\\u0150','odiv':'\\u2A38','odot':'\\u2299','odsold':'\\u29BC','oelig':'\\u0153','OElig':'\\u0152','ofcir':'\\u29BF','ofr':'\\uD835\\uDD2C','Ofr':'\\uD835\\uDD12','ogon':'\\u02DB','ograve':'\\xF2','Ograve':'\\xD2','ogt':'\\u29C1','ohbar':'\\u29B5','ohm':'\\u03A9','oint':'\\u222E','olarr':'\\u21BA','olcir':'\\u29BE','olcross':'\\u29BB','oline':'\\u203E','olt':'\\u29C0','omacr':'\\u014D','Omacr':'\\u014C','omega':'\\u03C9','Omega':'\\u03A9','omicron':'\\u03BF','Omicron':'\\u039F','omid':'\\u29B6','ominus':'\\u2296','oopf':'\\uD835\\uDD60','Oopf':'\\uD835\\uDD46','opar':'\\u29B7','OpenCurlyDoubleQuote':'\\u201C','OpenCurlyQuote':'\\u2018','operp':'\\u29B9','oplus':'\\u2295','or':'\\u2228','Or':'\\u2A54','orarr':'\\u21BB','ord':'\\u2A5D','order':'\\u2134','orderof':'\\u2134','ordf':'\\xAA','ordm':'\\xBA','origof':'\\u22B6','oror':'\\u2A56','orslope':'\\u2A57','orv':'\\u2A5B','oS':'\\u24C8','oscr':'\\u2134','Oscr':'\\uD835\\uDCAA','oslash':'\\xF8','Oslash':'\\xD8','osol':'\\u2298','otilde':'\\xF5','Otilde':'\\xD5','otimes':'\\u2297','Otimes':'\\u2A37','otimesas':'\\u2A36','ouml':'\\xF6','Ouml':'\\xD6','ovbar':'\\u233D','OverBar':'\\u203E','OverBrace':'\\u23DE','OverBracket':'\\u23B4','OverParenthesis':'\\u23DC','par':'\\u2225','para':'\\xB6','parallel':'\\u2225','parsim':'\\u2AF3','parsl':'\\u2AFD','part':'\\u2202','PartialD':'\\u2202','pcy':'\\u043F','Pcy':'\\u041F','percnt':'%','period':'.','permil':'\\u2030','perp':'\\u22A5','pertenk':'\\u2031','pfr':'\\uD835\\uDD2D','Pfr':'\\uD835\\uDD13','phi':'\\u03C6','Phi':'\\u03A6','phiv':'\\u03D5','phmmat':'\\u2133','phone':'\\u260E','pi':'\\u03C0','Pi':'\\u03A0','pitchfork':'\\u22D4','piv':'\\u03D6','planck':'\\u210F','planckh':'\\u210E','plankv':'\\u210F','plus':'+','plusacir':'\\u2A23','plusb':'\\u229E','pluscir':'\\u2A22','plusdo':'\\u2214','plusdu':'\\u2A25','pluse':'\\u2A72','PlusMinus':'\\xB1','plusmn':'\\xB1','plussim':'\\u2A26','plustwo':'\\u2A27','pm':'\\xB1','Poincareplane':'\\u210C','pointint':'\\u2A15','popf':'\\uD835\\uDD61','Popf':'\\u2119','pound':'\\xA3','pr':'\\u227A','Pr':'\\u2ABB','prap':'\\u2AB7','prcue':'\\u227C','pre':'\\u2AAF','prE':'\\u2AB3','prec':'\\u227A','precapprox':'\\u2AB7','preccurlyeq':'\\u227C','Precedes':'\\u227A','PrecedesEqual':'\\u2AAF','PrecedesSlantEqual':'\\u227C','PrecedesTilde':'\\u227E','preceq':'\\u2AAF','precnapprox':'\\u2AB9','precneqq':'\\u2AB5','precnsim':'\\u22E8','precsim':'\\u227E','prime':'\\u2032','Prime':'\\u2033','primes':'\\u2119','prnap':'\\u2AB9','prnE':'\\u2AB5','prnsim':'\\u22E8','prod':'\\u220F','Product':'\\u220F','profalar':'\\u232E','profline':'\\u2312','profsurf':'\\u2313','prop':'\\u221D','Proportion':'\\u2237','Proportional':'\\u221D','propto':'\\u221D','prsim':'\\u227E','prurel':'\\u22B0','pscr':'\\uD835\\uDCC5','Pscr':'\\uD835\\uDCAB','psi':'\\u03C8','Psi':'\\u03A8','puncsp':'\\u2008','qfr':'\\uD835\\uDD2E','Qfr':'\\uD835\\uDD14','qint':'\\u2A0C','qopf':'\\uD835\\uDD62','Qopf':'\\u211A','qprime':'\\u2057','qscr':'\\uD835\\uDCC6','Qscr':'\\uD835\\uDCAC','quaternions':'\\u210D','quatint':'\\u2A16','quest':'?','questeq':'\\u225F','quot':'\"','QUOT':'\"','rAarr':'\\u21DB','race':'\\u223D\\u0331','racute':'\\u0155','Racute':'\\u0154','radic':'\\u221A','raemptyv':'\\u29B3','rang':'\\u27E9','Rang':'\\u27EB','rangd':'\\u2992','range':'\\u29A5','rangle':'\\u27E9','raquo':'\\xBB','rarr':'\\u2192','rArr':'\\u21D2','Rarr':'\\u21A0','rarrap':'\\u2975','rarrb':'\\u21E5','rarrbfs':'\\u2920','rarrc':'\\u2933','rarrfs':'\\u291E','rarrhk':'\\u21AA','rarrlp':'\\u21AC','rarrpl':'\\u2945','rarrsim':'\\u2974','rarrtl':'\\u21A3','Rarrtl':'\\u2916','rarrw':'\\u219D','ratail':'\\u291A','rAtail':'\\u291C','ratio':'\\u2236','rationals':'\\u211A','rbarr':'\\u290D','rBarr':'\\u290F','RBarr':'\\u2910','rbbrk':'\\u2773','rbrace':'}','rbrack':']','rbrke':'\\u298C','rbrksld':'\\u298E','rbrkslu':'\\u2990','rcaron':'\\u0159','Rcaron':'\\u0158','rcedil':'\\u0157','Rcedil':'\\u0156','rceil':'\\u2309','rcub':'}','rcy':'\\u0440','Rcy':'\\u0420','rdca':'\\u2937','rdldhar':'\\u2969','rdquo':'\\u201D','rdquor':'\\u201D','rdsh':'\\u21B3','Re':'\\u211C','real':'\\u211C','realine':'\\u211B','realpart':'\\u211C','reals':'\\u211D','rect':'\\u25AD','reg':'\\xAE','REG':'\\xAE','ReverseElement':'\\u220B','ReverseEquilibrium':'\\u21CB','ReverseUpEquilibrium':'\\u296F','rfisht':'\\u297D','rfloor':'\\u230B','rfr':'\\uD835\\uDD2F','Rfr':'\\u211C','rHar':'\\u2964','rhard':'\\u21C1','rharu':'\\u21C0','rharul':'\\u296C','rho':'\\u03C1','Rho':'\\u03A1','rhov':'\\u03F1','RightAngleBracket':'\\u27E9','rightarrow':'\\u2192','Rightarrow':'\\u21D2','RightArrow':'\\u2192','RightArrowBar':'\\u21E5','RightArrowLeftArrow':'\\u21C4','rightarrowtail':'\\u21A3','RightCeiling':'\\u2309','RightDoubleBracket':'\\u27E7','RightDownTeeVector':'\\u295D','RightDownVector':'\\u21C2','RightDownVectorBar':'\\u2955','RightFloor':'\\u230B','rightharpoondown':'\\u21C1','rightharpoonup':'\\u21C0','rightleftarrows':'\\u21C4','rightleftharpoons':'\\u21CC','rightrightarrows':'\\u21C9','rightsquigarrow':'\\u219D','RightTee':'\\u22A2','RightTeeArrow':'\\u21A6','RightTeeVector':'\\u295B','rightthreetimes':'\\u22CC','RightTriangle':'\\u22B3','RightTriangleBar':'\\u29D0','RightTriangleEqual':'\\u22B5','RightUpDownVector':'\\u294F','RightUpTeeVector':'\\u295C','RightUpVector':'\\u21BE','RightUpVectorBar':'\\u2954','RightVector':'\\u21C0','RightVectorBar':'\\u2953','ring':'\\u02DA','risingdotseq':'\\u2253','rlarr':'\\u21C4','rlhar':'\\u21CC','rlm':'\\u200F','rmoust':'\\u23B1','rmoustache':'\\u23B1','rnmid':'\\u2AEE','roang':'\\u27ED','roarr':'\\u21FE','robrk':'\\u27E7','ropar':'\\u2986','ropf':'\\uD835\\uDD63','Ropf':'\\u211D','roplus':'\\u2A2E','rotimes':'\\u2A35','RoundImplies':'\\u2970','rpar':')','rpargt':'\\u2994','rppolint':'\\u2A12','rrarr':'\\u21C9','Rrightarrow':'\\u21DB','rsaquo':'\\u203A','rscr':'\\uD835\\uDCC7','Rscr':'\\u211B','rsh':'\\u21B1','Rsh':'\\u21B1','rsqb':']','rsquo':'\\u2019','rsquor':'\\u2019','rthree':'\\u22CC','rtimes':'\\u22CA','rtri':'\\u25B9','rtrie':'\\u22B5','rtrif':'\\u25B8','rtriltri':'\\u29CE','RuleDelayed':'\\u29F4','ruluhar':'\\u2968','rx':'\\u211E','sacute':'\\u015B','Sacute':'\\u015A','sbquo':'\\u201A','sc':'\\u227B','Sc':'\\u2ABC','scap':'\\u2AB8','scaron':'\\u0161','Scaron':'\\u0160','sccue':'\\u227D','sce':'\\u2AB0','scE':'\\u2AB4','scedil':'\\u015F','Scedil':'\\u015E','scirc':'\\u015D','Scirc':'\\u015C','scnap':'\\u2ABA','scnE':'\\u2AB6','scnsim':'\\u22E9','scpolint':'\\u2A13','scsim':'\\u227F','scy':'\\u0441','Scy':'\\u0421','sdot':'\\u22C5','sdotb':'\\u22A1','sdote':'\\u2A66','searhk':'\\u2925','searr':'\\u2198','seArr':'\\u21D8','searrow':'\\u2198','sect':'\\xA7','semi':';','seswar':'\\u2929','setminus':'\\u2216','setmn':'\\u2216','sext':'\\u2736','sfr':'\\uD835\\uDD30','Sfr':'\\uD835\\uDD16','sfrown':'\\u2322','sharp':'\\u266F','shchcy':'\\u0449','SHCHcy':'\\u0429','shcy':'\\u0448','SHcy':'\\u0428','ShortDownArrow':'\\u2193','ShortLeftArrow':'\\u2190','shortmid':'\\u2223','shortparallel':'\\u2225','ShortRightArrow':'\\u2192','ShortUpArrow':'\\u2191','shy':'\\xAD','sigma':'\\u03C3','Sigma':'\\u03A3','sigmaf':'\\u03C2','sigmav':'\\u03C2','sim':'\\u223C','simdot':'\\u2A6A','sime':'\\u2243','simeq':'\\u2243','simg':'\\u2A9E','simgE':'\\u2AA0','siml':'\\u2A9D','simlE':'\\u2A9F','simne':'\\u2246','simplus':'\\u2A24','simrarr':'\\u2972','slarr':'\\u2190','SmallCircle':'\\u2218','smallsetminus':'\\u2216','smashp':'\\u2A33','smeparsl':'\\u29E4','smid':'\\u2223','smile':'\\u2323','smt':'\\u2AAA','smte':'\\u2AAC','smtes':'\\u2AAC\\uFE00','softcy':'\\u044C','SOFTcy':'\\u042C','sol':'/','solb':'\\u29C4','solbar':'\\u233F','sopf':'\\uD835\\uDD64','Sopf':'\\uD835\\uDD4A','spades':'\\u2660','spadesuit':'\\u2660','spar':'\\u2225','sqcap':'\\u2293','sqcaps':'\\u2293\\uFE00','sqcup':'\\u2294','sqcups':'\\u2294\\uFE00','Sqrt':'\\u221A','sqsub':'\\u228F','sqsube':'\\u2291','sqsubset':'\\u228F','sqsubseteq':'\\u2291','sqsup':'\\u2290','sqsupe':'\\u2292','sqsupset':'\\u2290','sqsupseteq':'\\u2292','squ':'\\u25A1','square':'\\u25A1','Square':'\\u25A1','SquareIntersection':'\\u2293','SquareSubset':'\\u228F','SquareSubsetEqual':'\\u2291','SquareSuperset':'\\u2290','SquareSupersetEqual':'\\u2292','SquareUnion':'\\u2294','squarf':'\\u25AA','squf':'\\u25AA','srarr':'\\u2192','sscr':'\\uD835\\uDCC8','Sscr':'\\uD835\\uDCAE','ssetmn':'\\u2216','ssmile':'\\u2323','sstarf':'\\u22C6','star':'\\u2606','Star':'\\u22C6','starf':'\\u2605','straightepsilon':'\\u03F5','straightphi':'\\u03D5','strns':'\\xAF','sub':'\\u2282','Sub':'\\u22D0','subdot':'\\u2ABD','sube':'\\u2286','subE':'\\u2AC5','subedot':'\\u2AC3','submult':'\\u2AC1','subne':'\\u228A','subnE':'\\u2ACB','subplus':'\\u2ABF','subrarr':'\\u2979','subset':'\\u2282','Subset':'\\u22D0','subseteq':'\\u2286','subseteqq':'\\u2AC5','SubsetEqual':'\\u2286','subsetneq':'\\u228A','subsetneqq':'\\u2ACB','subsim':'\\u2AC7','subsub':'\\u2AD5','subsup':'\\u2AD3','succ':'\\u227B','succapprox':'\\u2AB8','succcurlyeq':'\\u227D','Succeeds':'\\u227B','SucceedsEqual':'\\u2AB0','SucceedsSlantEqual':'\\u227D','SucceedsTilde':'\\u227F','succeq':'\\u2AB0','succnapprox':'\\u2ABA','succneqq':'\\u2AB6','succnsim':'\\u22E9','succsim':'\\u227F','SuchThat':'\\u220B','sum':'\\u2211','Sum':'\\u2211','sung':'\\u266A','sup':'\\u2283','Sup':'\\u22D1','sup1':'\\xB9','sup2':'\\xB2','sup3':'\\xB3','supdot':'\\u2ABE','supdsub':'\\u2AD8','supe':'\\u2287','supE':'\\u2AC6','supedot':'\\u2AC4','Superset':'\\u2283','SupersetEqual':'\\u2287','suphsol':'\\u27C9','suphsub':'\\u2AD7','suplarr':'\\u297B','supmult':'\\u2AC2','supne':'\\u228B','supnE':'\\u2ACC','supplus':'\\u2AC0','supset':'\\u2283','Supset':'\\u22D1','supseteq':'\\u2287','supseteqq':'\\u2AC6','supsetneq':'\\u228B','supsetneqq':'\\u2ACC','supsim':'\\u2AC8','supsub':'\\u2AD4','supsup':'\\u2AD6','swarhk':'\\u2926','swarr':'\\u2199','swArr':'\\u21D9','swarrow':'\\u2199','swnwar':'\\u292A','szlig':'\\xDF','Tab':'\\t','target':'\\u2316','tau':'\\u03C4','Tau':'\\u03A4','tbrk':'\\u23B4','tcaron':'\\u0165','Tcaron':'\\u0164','tcedil':'\\u0163','Tcedil':'\\u0162','tcy':'\\u0442','Tcy':'\\u0422','tdot':'\\u20DB','telrec':'\\u2315','tfr':'\\uD835\\uDD31','Tfr':'\\uD835\\uDD17','there4':'\\u2234','therefore':'\\u2234','Therefore':'\\u2234','theta':'\\u03B8','Theta':'\\u0398','thetasym':'\\u03D1','thetav':'\\u03D1','thickapprox':'\\u2248','thicksim':'\\u223C','ThickSpace':'\\u205F\\u200A','thinsp':'\\u2009','ThinSpace':'\\u2009','thkap':'\\u2248','thksim':'\\u223C','thorn':'\\xFE','THORN':'\\xDE','tilde':'\\u02DC','Tilde':'\\u223C','TildeEqual':'\\u2243','TildeFullEqual':'\\u2245','TildeTilde':'\\u2248','times':'\\xD7','timesb':'\\u22A0','timesbar':'\\u2A31','timesd':'\\u2A30','tint':'\\u222D','toea':'\\u2928','top':'\\u22A4','topbot':'\\u2336','topcir':'\\u2AF1','topf':'\\uD835\\uDD65','Topf':'\\uD835\\uDD4B','topfork':'\\u2ADA','tosa':'\\u2929','tprime':'\\u2034','trade':'\\u2122','TRADE':'\\u2122','triangle':'\\u25B5','triangledown':'\\u25BF','triangleleft':'\\u25C3','trianglelefteq':'\\u22B4','triangleq':'\\u225C','triangleright':'\\u25B9','trianglerighteq':'\\u22B5','tridot':'\\u25EC','trie':'\\u225C','triminus':'\\u2A3A','TripleDot':'\\u20DB','triplus':'\\u2A39','trisb':'\\u29CD','tritime':'\\u2A3B','trpezium':'\\u23E2','tscr':'\\uD835\\uDCC9','Tscr':'\\uD835\\uDCAF','tscy':'\\u0446','TScy':'\\u0426','tshcy':'\\u045B','TSHcy':'\\u040B','tstrok':'\\u0167','Tstrok':'\\u0166','twixt':'\\u226C','twoheadleftarrow':'\\u219E','twoheadrightarrow':'\\u21A0','uacute':'\\xFA','Uacute':'\\xDA','uarr':'\\u2191','uArr':'\\u21D1','Uarr':'\\u219F','Uarrocir':'\\u2949','ubrcy':'\\u045E','Ubrcy':'\\u040E','ubreve':'\\u016D','Ubreve':'\\u016C','ucirc':'\\xFB','Ucirc':'\\xDB','ucy':'\\u0443','Ucy':'\\u0423','udarr':'\\u21C5','udblac':'\\u0171','Udblac':'\\u0170','udhar':'\\u296E','ufisht':'\\u297E','ufr':'\\uD835\\uDD32','Ufr':'\\uD835\\uDD18','ugrave':'\\xF9','Ugrave':'\\xD9','uHar':'\\u2963','uharl':'\\u21BF','uharr':'\\u21BE','uhblk':'\\u2580','ulcorn':'\\u231C','ulcorner':'\\u231C','ulcrop':'\\u230F','ultri':'\\u25F8','umacr':'\\u016B','Umacr':'\\u016A','uml':'\\xA8','UnderBar':'_','UnderBrace':'\\u23DF','UnderBracket':'\\u23B5','UnderParenthesis':'\\u23DD','Union':'\\u22C3','UnionPlus':'\\u228E','uogon':'\\u0173','Uogon':'\\u0172','uopf':'\\uD835\\uDD66','Uopf':'\\uD835\\uDD4C','uparrow':'\\u2191','Uparrow':'\\u21D1','UpArrow':'\\u2191','UpArrowBar':'\\u2912','UpArrowDownArrow':'\\u21C5','updownarrow':'\\u2195','Updownarrow':'\\u21D5','UpDownArrow':'\\u2195','UpEquilibrium':'\\u296E','upharpoonleft':'\\u21BF','upharpoonright':'\\u21BE','uplus':'\\u228E','UpperLeftArrow':'\\u2196','UpperRightArrow':'\\u2197','upsi':'\\u03C5','Upsi':'\\u03D2','upsih':'\\u03D2','upsilon':'\\u03C5','Upsilon':'\\u03A5','UpTee':'\\u22A5','UpTeeArrow':'\\u21A5','upuparrows':'\\u21C8','urcorn':'\\u231D','urcorner':'\\u231D','urcrop':'\\u230E','uring':'\\u016F','Uring':'\\u016E','urtri':'\\u25F9','uscr':'\\uD835\\uDCCA','Uscr':'\\uD835\\uDCB0','utdot':'\\u22F0','utilde':'\\u0169','Utilde':'\\u0168','utri':'\\u25B5','utrif':'\\u25B4','uuarr':'\\u21C8','uuml':'\\xFC','Uuml':'\\xDC','uwangle':'\\u29A7','vangrt':'\\u299C','varepsilon':'\\u03F5','varkappa':'\\u03F0','varnothing':'\\u2205','varphi':'\\u03D5','varpi':'\\u03D6','varpropto':'\\u221D','varr':'\\u2195','vArr':'\\u21D5','varrho':'\\u03F1','varsigma':'\\u03C2','varsubsetneq':'\\u228A\\uFE00','varsubsetneqq':'\\u2ACB\\uFE00','varsupsetneq':'\\u228B\\uFE00','varsupsetneqq':'\\u2ACC\\uFE00','vartheta':'\\u03D1','vartriangleleft':'\\u22B2','vartriangleright':'\\u22B3','vBar':'\\u2AE8','Vbar':'\\u2AEB','vBarv':'\\u2AE9','vcy':'\\u0432','Vcy':'\\u0412','vdash':'\\u22A2','vDash':'\\u22A8','Vdash':'\\u22A9','VDash':'\\u22AB','Vdashl':'\\u2AE6','vee':'\\u2228','Vee':'\\u22C1','veebar':'\\u22BB','veeeq':'\\u225A','vellip':'\\u22EE','verbar':'|','Verbar':'\\u2016','vert':'|','Vert':'\\u2016','VerticalBar':'\\u2223','VerticalLine':'|','VerticalSeparator':'\\u2758','VerticalTilde':'\\u2240','VeryThinSpace':'\\u200A','vfr':'\\uD835\\uDD33','Vfr':'\\uD835\\uDD19','vltri':'\\u22B2','vnsub':'\\u2282\\u20D2','vnsup':'\\u2283\\u20D2','vopf':'\\uD835\\uDD67','Vopf':'\\uD835\\uDD4D','vprop':'\\u221D','vrtri':'\\u22B3','vscr':'\\uD835\\uDCCB','Vscr':'\\uD835\\uDCB1','vsubne':'\\u228A\\uFE00','vsubnE':'\\u2ACB\\uFE00','vsupne':'\\u228B\\uFE00','vsupnE':'\\u2ACC\\uFE00','Vvdash':'\\u22AA','vzigzag':'\\u299A','wcirc':'\\u0175','Wcirc':'\\u0174','wedbar':'\\u2A5F','wedge':'\\u2227','Wedge':'\\u22C0','wedgeq':'\\u2259','weierp':'\\u2118','wfr':'\\uD835\\uDD34','Wfr':'\\uD835\\uDD1A','wopf':'\\uD835\\uDD68','Wopf':'\\uD835\\uDD4E','wp':'\\u2118','wr':'\\u2240','wreath':'\\u2240','wscr':'\\uD835\\uDCCC','Wscr':'\\uD835\\uDCB2','xcap':'\\u22C2','xcirc':'\\u25EF','xcup':'\\u22C3','xdtri':'\\u25BD','xfr':'\\uD835\\uDD35','Xfr':'\\uD835\\uDD1B','xharr':'\\u27F7','xhArr':'\\u27FA','xi':'\\u03BE','Xi':'\\u039E','xlarr':'\\u27F5','xlArr':'\\u27F8','xmap':'\\u27FC','xnis':'\\u22FB','xodot':'\\u2A00','xopf':'\\uD835\\uDD69','Xopf':'\\uD835\\uDD4F','xoplus':'\\u2A01','xotime':'\\u2A02','xrarr':'\\u27F6','xrArr':'\\u27F9','xscr':'\\uD835\\uDCCD','Xscr':'\\uD835\\uDCB3','xsqcup':'\\u2A06','xuplus':'\\u2A04','xutri':'\\u25B3','xvee':'\\u22C1','xwedge':'\\u22C0','yacute':'\\xFD','Yacute':'\\xDD','yacy':'\\u044F','YAcy':'\\u042F','ycirc':'\\u0177','Ycirc':'\\u0176','ycy':'\\u044B','Ycy':'\\u042B','yen':'\\xA5','yfr':'\\uD835\\uDD36','Yfr':'\\uD835\\uDD1C','yicy':'\\u0457','YIcy':'\\u0407','yopf':'\\uD835\\uDD6A','Yopf':'\\uD835\\uDD50','yscr':'\\uD835\\uDCCE','Yscr':'\\uD835\\uDCB4','yucy':'\\u044E','YUcy':'\\u042E','yuml':'\\xFF','Yuml':'\\u0178','zacute':'\\u017A','Zacute':'\\u0179','zcaron':'\\u017E','Zcaron':'\\u017D','zcy':'\\u0437','Zcy':'\\u0417','zdot':'\\u017C','Zdot':'\\u017B','zeetrf':'\\u2128','ZeroWidthSpace':'\\u200B','zeta':'\\u03B6','Zeta':'\\u0396','zfr':'\\uD835\\uDD37','Zfr':'\\u2128','zhcy':'\\u0436','ZHcy':'\\u0416','zigrarr':'\\u21DD','zopf':'\\uD835\\uDD6B','Zopf':'\\u2124','zscr':'\\uD835\\uDCCF','Zscr':'\\uD835\\uDCB5','zwj':'\\u200D','zwnj':'\\u200C'};\n\tvar decodeMapLegacy = {'aacute':'\\xE1','Aacute':'\\xC1','acirc':'\\xE2','Acirc':'\\xC2','acute':'\\xB4','aelig':'\\xE6','AElig':'\\xC6','agrave':'\\xE0','Agrave':'\\xC0','amp':'&','AMP':'&','aring':'\\xE5','Aring':'\\xC5','atilde':'\\xE3','Atilde':'\\xC3','auml':'\\xE4','Auml':'\\xC4','brvbar':'\\xA6','ccedil':'\\xE7','Ccedil':'\\xC7','cedil':'\\xB8','cent':'\\xA2','copy':'\\xA9','COPY':'\\xA9','curren':'\\xA4','deg':'\\xB0','divide':'\\xF7','eacute':'\\xE9','Eacute':'\\xC9','ecirc':'\\xEA','Ecirc':'\\xCA','egrave':'\\xE8','Egrave':'\\xC8','eth':'\\xF0','ETH':'\\xD0','euml':'\\xEB','Euml':'\\xCB','frac12':'\\xBD','frac14':'\\xBC','frac34':'\\xBE','gt':'>','GT':'>','iacute':'\\xED','Iacute':'\\xCD','icirc':'\\xEE','Icirc':'\\xCE','iexcl':'\\xA1','igrave':'\\xEC','Igrave':'\\xCC','iquest':'\\xBF','iuml':'\\xEF','Iuml':'\\xCF','laquo':'\\xAB','lt':'<','LT':'<','macr':'\\xAF','micro':'\\xB5','middot':'\\xB7','nbsp':'\\xA0','not':'\\xAC','ntilde':'\\xF1','Ntilde':'\\xD1','oacute':'\\xF3','Oacute':'\\xD3','ocirc':'\\xF4','Ocirc':'\\xD4','ograve':'\\xF2','Ograve':'\\xD2','ordf':'\\xAA','ordm':'\\xBA','oslash':'\\xF8','Oslash':'\\xD8','otilde':'\\xF5','Otilde':'\\xD5','ouml':'\\xF6','Ouml':'\\xD6','para':'\\xB6','plusmn':'\\xB1','pound':'\\xA3','quot':'\"','QUOT':'\"','raquo':'\\xBB','reg':'\\xAE','REG':'\\xAE','sect':'\\xA7','shy':'\\xAD','sup1':'\\xB9','sup2':'\\xB2','sup3':'\\xB3','szlig':'\\xDF','thorn':'\\xFE','THORN':'\\xDE','times':'\\xD7','uacute':'\\xFA','Uacute':'\\xDA','ucirc':'\\xFB','Ucirc':'\\xDB','ugrave':'\\xF9','Ugrave':'\\xD9','uml':'\\xA8','uuml':'\\xFC','Uuml':'\\xDC','yacute':'\\xFD','Yacute':'\\xDD','yen':'\\xA5','yuml':'\\xFF'};\n\tvar decodeMapNumeric = {'0':'\\uFFFD','128':'\\u20AC','130':'\\u201A','131':'\\u0192','132':'\\u201E','133':'\\u2026','134':'\\u2020','135':'\\u2021','136':'\\u02C6','137':'\\u2030','138':'\\u0160','139':'\\u2039','140':'\\u0152','142':'\\u017D','145':'\\u2018','146':'\\u2019','147':'\\u201C','148':'\\u201D','149':'\\u2022','150':'\\u2013','151':'\\u2014','152':'\\u02DC','153':'\\u2122','154':'\\u0161','155':'\\u203A','156':'\\u0153','158':'\\u017E','159':'\\u0178'};\n\tvar invalidReferenceCodePoints = [1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65000,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\tvar object = {};\n\tvar hasOwnProperty = object.hasOwnProperty;\n\tvar has = function(object, propertyName) {\n\t\treturn hasOwnProperty.call(object, propertyName);\n\t};\n\n\tvar contains = function(array, value) {\n\t\tvar index = -1;\n\t\tvar length = array.length;\n\t\twhile (++index < length) {\n\t\t\tif (array[index] == value) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\tvar merge = function(options, defaults) {\n\t\tif (!options) {\n\t\t\treturn defaults;\n\t\t}\n\t\tvar result = {};\n\t\tvar key;\n\t\tfor (key in defaults) {\n\t\t\t// A `hasOwnProperty` check is not needed here, since only recognized\n\t\t\t// option names are used anyway. Any others are ignored.\n\t\t\tresult[key] = has(options, key) ? options[key] : defaults[key];\n\t\t}\n\t\treturn result;\n\t};\n\n\t// Modified version of `ucs2encode`; see https://mths.be/punycode.\n\tvar codePointToSymbol = function(codePoint, strict) {\n\t\tvar output = '';\n\t\tif ((codePoint >= 0xD800 && codePoint <= 0xDFFF) || codePoint > 0x10FFFF) {\n\t\t\t// See issue #4:\n\t\t\t// “Otherwise, if the number is in the range 0xD800 to 0xDFFF or is\n\t\t\t// greater than 0x10FFFF, then this is a parse error. Return a U+FFFD\n\t\t\t// REPLACEMENT CHARACTER.”\n\t\t\tif (strict) {\n\t\t\t\tparseError('character reference outside the permissible Unicode range');\n\t\t\t}\n\t\t\treturn '\\uFFFD';\n\t\t}\n\t\tif (has(decodeMapNumeric, codePoint)) {\n\t\t\tif (strict) {\n\t\t\t\tparseError('disallowed character reference');\n\t\t\t}\n\t\t\treturn decodeMapNumeric[codePoint];\n\t\t}\n\t\tif (strict && contains(invalidReferenceCodePoints, codePoint)) {\n\t\t\tparseError('disallowed character reference');\n\t\t}\n\t\tif (codePoint > 0xFFFF) {\n\t\t\tcodePoint -= 0x10000;\n\t\t\toutput += stringFromCharCode(codePoint >>> 10 & 0x3FF | 0xD800);\n\t\t\tcodePoint = 0xDC00 | codePoint & 0x3FF;\n\t\t}\n\t\toutput += stringFromCharCode(codePoint);\n\t\treturn output;\n\t};\n\n\tvar hexEscape = function(codePoint) {\n\t\treturn '&#x' + codePoint.toString(16).toUpperCase() + ';';\n\t};\n\n\tvar decEscape = function(codePoint) {\n\t\treturn '&#' + codePoint + ';';\n\t};\n\n\tvar parseError = function(message) {\n\t\tthrow Error('Parse error: ' + message);\n\t};\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar encode = function(string, options) {\n\t\toptions = merge(options, encode.options);\n\t\tvar strict = options.strict;\n\t\tif (strict && regexInvalidRawCodePoint.test(string)) {\n\t\t\tparseError('forbidden code point');\n\t\t}\n\t\tvar encodeEverything = options.encodeEverything;\n\t\tvar useNamedReferences = options.useNamedReferences;\n\t\tvar allowUnsafeSymbols = options.allowUnsafeSymbols;\n\t\tvar escapeCodePoint = options.decimal ? decEscape : hexEscape;\n\n\t\tvar escapeBmpSymbol = function(symbol) {\n\t\t\treturn escapeCodePoint(symbol.charCodeAt(0));\n\t\t};\n\n\t\tif (encodeEverything) {\n\t\t\t// Encode ASCII symbols.\n\t\t\tstring = string.replace(regexAsciiWhitelist, function(symbol) {\n\t\t\t\t// Use named references if requested & possible.\n\t\t\t\tif (useNamedReferences && has(encodeMap, symbol)) {\n\t\t\t\t\treturn '&' + encodeMap[symbol] + ';';\n\t\t\t\t}\n\t\t\t\treturn escapeBmpSymbol(symbol);\n\t\t\t});\n\t\t\t// Shorten a few escapes that represent two symbols, of which at least one\n\t\t\t// is within the ASCII range.\n\t\t\tif (useNamedReferences) {\n\t\t\t\tstring = string\n\t\t\t\t\t.replace(/&gt;\\u20D2/g, '&nvgt;')\n\t\t\t\t\t.replace(/&lt;\\u20D2/g, '&nvlt;')\n\t\t\t\t\t.replace(/&#x66;&#x6A;/g, '&fjlig;');\n\t\t\t}\n\t\t\t// Encode non-ASCII symbols.\n\t\t\tif (useNamedReferences) {\n\t\t\t\t// Encode non-ASCII symbols that can be replaced with a named reference.\n\t\t\t\tstring = string.replace(regexEncodeNonAscii, function(string) {\n\t\t\t\t\t// Note: there is no need to check `has(encodeMap, string)` here.\n\t\t\t\t\treturn '&' + encodeMap[string] + ';';\n\t\t\t\t});\n\t\t\t}\n\t\t\t// Note: any remaining non-ASCII symbols are handled outside of the `if`.\n\t\t} else if (useNamedReferences) {\n\t\t\t// Apply named character references.\n\t\t\t// Encode `<>\"'&` using named character references.\n\t\t\tif (!allowUnsafeSymbols) {\n\t\t\t\tstring = string.replace(regexEscape, function(string) {\n\t\t\t\t\treturn '&' + encodeMap[string] + ';'; // no need to check `has()` here\n\t\t\t\t});\n\t\t\t}\n\t\t\t// Shorten escapes that represent two symbols, of which at least one is\n\t\t\t// `<>\"'&`.\n\t\t\tstring = string\n\t\t\t\t.replace(/&gt;\\u20D2/g, '&nvgt;')\n\t\t\t\t.replace(/&lt;\\u20D2/g, '&nvlt;');\n\t\t\t// Encode non-ASCII symbols that can be replaced with a named reference.\n\t\t\tstring = string.replace(regexEncodeNonAscii, function(string) {\n\t\t\t\t// Note: there is no need to check `has(encodeMap, string)` here.\n\t\t\t\treturn '&' + encodeMap[string] + ';';\n\t\t\t});\n\t\t} else if (!allowUnsafeSymbols) {\n\t\t\t// Encode `<>\"'&` using hexadecimal escapes, now that they’re not handled\n\t\t\t// using named character references.\n\t\t\tstring = string.replace(regexEscape, escapeBmpSymbol);\n\t\t}\n\t\treturn string\n\t\t\t// Encode astral symbols.\n\t\t\t.replace(regexAstralSymbols, function($0) {\n\t\t\t\t// https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t\t\t\tvar high = $0.charCodeAt(0);\n\t\t\t\tvar low = $0.charCodeAt(1);\n\t\t\t\tvar codePoint = (high - 0xD800) * 0x400 + low - 0xDC00 + 0x10000;\n\t\t\t\treturn escapeCodePoint(codePoint);\n\t\t\t})\n\t\t\t// Encode any remaining BMP symbols that are not printable ASCII symbols\n\t\t\t// using a hexadecimal escape.\n\t\t\t.replace(regexBmpWhitelist, escapeBmpSymbol);\n\t};\n\t// Expose default options (so they can be overridden globally).\n\tencode.options = {\n\t\t'allowUnsafeSymbols': false,\n\t\t'encodeEverything': false,\n\t\t'strict': false,\n\t\t'useNamedReferences': false,\n\t\t'decimal' : false\n\t};\n\n\tvar decode = function(html, options) {\n\t\toptions = merge(options, decode.options);\n\t\tvar strict = options.strict;\n\t\tif (strict && regexInvalidEntity.test(html)) {\n\t\t\tparseError('malformed character reference');\n\t\t}\n\t\treturn html.replace(regexDecode, function($0, $1, $2, $3, $4, $5, $6, $7, $8) {\n\t\t\tvar codePoint;\n\t\t\tvar semicolon;\n\t\t\tvar decDigits;\n\t\t\tvar hexDigits;\n\t\t\tvar reference;\n\t\t\tvar next;\n\n\t\t\tif ($1) {\n\t\t\t\treference = $1;\n\t\t\t\t// Note: there is no need to check `has(decodeMap, reference)`.\n\t\t\t\treturn decodeMap[reference];\n\t\t\t}\n\n\t\t\tif ($2) {\n\t\t\t\t// Decode named character references without trailing `;`, e.g. `&amp`.\n\t\t\t\t// This is only a parse error if it gets converted to `&`, or if it is\n\t\t\t\t// followed by `=` in an attribute context.\n\t\t\t\treference = $2;\n\t\t\t\tnext = $3;\n\t\t\t\tif (next && options.isAttributeValue) {\n\t\t\t\t\tif (strict && next == '=') {\n\t\t\t\t\t\tparseError('`&` did not start a character reference');\n\t\t\t\t\t}\n\t\t\t\t\treturn $0;\n\t\t\t\t} else {\n\t\t\t\t\tif (strict) {\n\t\t\t\t\t\tparseError(\n\t\t\t\t\t\t\t'named character reference was not terminated by a semicolon'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\t// Note: there is no need to check `has(decodeMapLegacy, reference)`.\n\t\t\t\t\treturn decodeMapLegacy[reference] + (next || '');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ($4) {\n\t\t\t\t// Decode decimal escapes, e.g. `&#119558;`.\n\t\t\t\tdecDigits = $4;\n\t\t\t\tsemicolon = $5;\n\t\t\t\tif (strict && !semicolon) {\n\t\t\t\t\tparseError('character reference was not terminated by a semicolon');\n\t\t\t\t}\n\t\t\t\tcodePoint = parseInt(decDigits, 10);\n\t\t\t\treturn codePointToSymbol(codePoint, strict);\n\t\t\t}\n\n\t\t\tif ($6) {\n\t\t\t\t// Decode hexadecimal escapes, e.g. `&#x1D306;`.\n\t\t\t\thexDigits = $6;\n\t\t\t\tsemicolon = $7;\n\t\t\t\tif (strict && !semicolon) {\n\t\t\t\t\tparseError('character reference was not terminated by a semicolon');\n\t\t\t\t}\n\t\t\t\tcodePoint = parseInt(hexDigits, 16);\n\t\t\t\treturn codePointToSymbol(codePoint, strict);\n\t\t\t}\n\n\t\t\t// If we’re still here, `if ($7)` is implied; it’s an ambiguous\n\t\t\t// ampersand for sure. https://mths.be/notes/ambiguous-ampersands\n\t\t\tif (strict) {\n\t\t\t\tparseError(\n\t\t\t\t\t'named character reference was not terminated by a semicolon'\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn $0;\n\t\t});\n\t};\n\t// Expose default options (so they can be overridden globally).\n\tdecode.options = {\n\t\t'isAttributeValue': false,\n\t\t'strict': false\n\t};\n\n\tvar escape = function(string) {\n\t\treturn string.replace(regexEscape, function($0) {\n\t\t\t// Note: there is no need to check `has(escapeMap, $0)` here.\n\t\t\treturn escapeMap[$0];\n\t\t});\n\t};\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar he = {\n\t\t'version': '1.2.0',\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'escape': escape,\n\t\t'unescape': decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn he;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = he;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in he) {\n\t\t\t\thas(he, key) && (freeExports[key] = he[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.he = he;\n\t}\n\n}(this));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar he_1 = require(\"he\");\n/**\n * Node Class as base class for TextNode and HTMLElement.\n */\nvar Node = /** @class */ (function () {\n    function Node(parentNode, range) {\n        if (parentNode === void 0) { parentNode = null; }\n        this.parentNode = parentNode;\n        this.childNodes = [];\n        Object.defineProperty(this, 'range', {\n            enumerable: false,\n            writable: true,\n            configurable: true,\n            value: range !== null && range !== void 0 ? range : [-1, -1]\n        });\n    }\n    /**\n     * Remove current node\n     */\n    Node.prototype.remove = function () {\n        var _this = this;\n        if (this.parentNode) {\n            var children = this.parentNode.childNodes;\n            this.parentNode.childNodes = children.filter(function (child) {\n                return _this !== child;\n            });\n            this.parentNode = null;\n        }\n        return this;\n    };\n    Object.defineProperty(Node.prototype, \"innerText\", {\n        get: function () {\n            return this.rawText;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"textContent\", {\n        get: function () {\n            return (0, he_1.decode)(this.rawText);\n        },\n        set: function (val) {\n            this.rawText = (0, he_1.encode)(val);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Node;\n}());\nexports.default = Node;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NodeType;\n(function (NodeType) {\n    NodeType[NodeType[\"ELEMENT_NODE\"] = 1] = \"ELEMENT_NODE\";\n    NodeType[NodeType[\"TEXT_NODE\"] = 3] = \"TEXT_NODE\";\n    NodeType[NodeType[\"COMMENT_NODE\"] = 8] = \"COMMENT_NODE\";\n})(NodeType || (NodeType = {}));\nexports.default = NodeType;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar node_1 = __importDefault(require(\"./node\"));\nvar type_1 = __importDefault(require(\"./type\"));\nvar CommentNode = /** @class */ (function (_super) {\n    __extends(CommentNode, _super);\n    function CommentNode(rawText, parentNode, range) {\n        var _this = _super.call(this, parentNode, range) || this;\n        _this.rawText = rawText;\n        /**\n         * Node Type declaration.\n         * @type {Number}\n         */\n        _this.nodeType = type_1.default.COMMENT_NODE;\n        return _this;\n    }\n    CommentNode.prototype.clone = function () {\n        return new CommentNode(this.rawText, null);\n    };\n    Object.defineProperty(CommentNode.prototype, \"text\", {\n        /**\n         * Get unescaped text value of current node and its children.\n         * @return {string} text content\n         */\n        get: function () {\n            return this.rawText;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CommentNode.prototype.toString = function () {\n        return \"<!--\".concat(this.rawText, \"-->\");\n    };\n    return CommentNode;\n}(node_1.default));\nexports.default = CommentNode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Doctype = exports.CDATA = exports.Tag = exports.Style = exports.Script = exports.Comment = exports.Directive = exports.Text = exports.Root = exports.isTag = exports.ElementType = void 0;\n/** Types of elements found in htmlparser2's DOM */\nvar ElementType;\n(function (ElementType) {\n    /** Type for the root element of a document */\n    ElementType[\"Root\"] = \"root\";\n    /** Type for Text */\n    ElementType[\"Text\"] = \"text\";\n    /** Type for <? ... ?> */\n    ElementType[\"Directive\"] = \"directive\";\n    /** Type for <!-- ... --> */\n    ElementType[\"Comment\"] = \"comment\";\n    /** Type for <script> tags */\n    ElementType[\"Script\"] = \"script\";\n    /** Type for <style> tags */\n    ElementType[\"Style\"] = \"style\";\n    /** Type for Any tag */\n    ElementType[\"Tag\"] = \"tag\";\n    /** Type for <![CDATA[ ... ]]> */\n    ElementType[\"CDATA\"] = \"cdata\";\n    /** Type for <!doctype ...> */\n    ElementType[\"Doctype\"] = \"doctype\";\n})(ElementType = exports.ElementType || (exports.ElementType = {}));\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\nfunction isTag(elem) {\n    return (elem.type === ElementType.Tag ||\n        elem.type === ElementType.Script ||\n        elem.type === ElementType.Style);\n}\nexports.isTag = isTag;\n// Exports for backwards compatibility\n/** Type for the root element of a document */\nexports.Root = ElementType.Root;\n/** Type for Text */\nexports.Text = ElementType.Text;\n/** Type for <? ... ?> */\nexports.Directive = ElementType.Directive;\n/** Type for <!-- ... --> */\nexports.Comment = ElementType.Comment;\n/** Type for <script> tags */\nexports.Script = ElementType.Script;\n/** Type for <style> tags */\nexports.Style = ElementType.Style;\n/** Type for Any tag */\nexports.Tag = ElementType.Tag;\n/** Type for <![CDATA[ ... ]]> */\nexports.CDATA = ElementType.CDATA;\n/** Type for <!doctype ...> */\nexports.Doctype = ElementType.Doctype;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneNode = exports.hasChildren = exports.isDocument = exports.isDirective = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = exports.Element = exports.Document = exports.CDATA = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar domelementtype_1 = require(\"domelementtype\");\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nvar Node = /** @class */ (function () {\n    function Node() {\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        /**\n         * Same as {@link parent}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.parent;\n        },\n        set: function (parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        /**\n         * Same as {@link prev}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.prev;\n        },\n        set: function (prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        /**\n         * Same as {@link next}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.next;\n        },\n        set: function (next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    Node.prototype.cloneNode = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}());\nexports.Node = Node;\n/**\n * A node that contains some data.\n */\nvar DataNode = /** @class */ (function (_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param data The content of the data node\n     */\n    function DataNode(data) {\n        var _this = _super.call(this) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        /**\n         * Same as {@link data}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.data;\n        },\n        set: function (data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node));\nexports.DataNode = DataNode;\n/**\n * Text within the document.\n */\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Text;\n        return _this;\n    }\n    Object.defineProperty(Text.prototype, \"nodeType\", {\n        get: function () {\n            return 3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Text;\n}(DataNode));\nexports.Text = Text;\n/**\n * Comments within the document.\n */\nvar Comment = /** @class */ (function (_super) {\n    __extends(Comment, _super);\n    function Comment() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Comment;\n        return _this;\n    }\n    Object.defineProperty(Comment.prototype, \"nodeType\", {\n        get: function () {\n            return 8;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Comment;\n}(DataNode));\nexports.Comment = Comment;\n/**\n * Processing instructions, including doc types.\n */\nvar ProcessingInstruction = /** @class */ (function (_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, data) || this;\n        _this.name = name;\n        _this.type = domelementtype_1.ElementType.Directive;\n        return _this;\n    }\n    Object.defineProperty(ProcessingInstruction.prototype, \"nodeType\", {\n        get: function () {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ProcessingInstruction;\n}(DataNode));\nexports.ProcessingInstruction = ProcessingInstruction;\n/**\n * A `Node` that can have children.\n */\nvar NodeWithChildren = /** @class */ (function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    function NodeWithChildren(children) {\n        var _this = _super.call(this) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        /** First child of the node. */\n        get: function () {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        /** Last child of the node. */\n        get: function () {\n            return this.children.length > 0\n                ? this.children[this.children.length - 1]\n                : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        /**\n         * Same as {@link children}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.children;\n        },\n        set: function (children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node));\nexports.NodeWithChildren = NodeWithChildren;\nvar CDATA = /** @class */ (function (_super) {\n    __extends(CDATA, _super);\n    function CDATA() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.CDATA;\n        return _this;\n    }\n    Object.defineProperty(CDATA.prototype, \"nodeType\", {\n        get: function () {\n            return 4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CDATA;\n}(NodeWithChildren));\nexports.CDATA = CDATA;\n/**\n * The root node of the document.\n */\nvar Document = /** @class */ (function (_super) {\n    __extends(Document, _super);\n    function Document() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Root;\n        return _this;\n    }\n    Object.defineProperty(Document.prototype, \"nodeType\", {\n        get: function () {\n            return 9;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Document;\n}(NodeWithChildren));\nexports.Document = Document;\n/**\n * An element within the DOM.\n */\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    function Element(name, attribs, children, type) {\n        if (children === void 0) { children = []; }\n        if (type === void 0) { type = name === \"script\"\n            ? domelementtype_1.ElementType.Script\n            : name === \"style\"\n                ? domelementtype_1.ElementType.Style\n                : domelementtype_1.ElementType.Tag; }\n        var _this = _super.call(this, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.type = type;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"nodeType\", {\n        get: function () {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        /**\n         * Same as {@link name}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.name;\n        },\n        set: function (name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function () {\n            var _this = this;\n            return Object.keys(this.attribs).map(function (name) {\n                var _a, _b;\n                return ({\n                    name: name,\n                    value: _this.attribs[name],\n                    namespace: (_a = _this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                    prefix: (_b = _this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name],\n                });\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren));\nexports.Element = Element;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */\nfunction isTag(node) {\n    return (0, domelementtype_1.isTag)(node);\n}\nexports.isTag = isTag;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `CDATA`, `false` otherwise.\n */\nfunction isCDATA(node) {\n    return node.type === domelementtype_1.ElementType.CDATA;\n}\nexports.isCDATA = isCDATA;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Text`, `false` otherwise.\n */\nfunction isText(node) {\n    return node.type === domelementtype_1.ElementType.Text;\n}\nexports.isText = isText;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Comment`, `false` otherwise.\n */\nfunction isComment(node) {\n    return node.type === domelementtype_1.ElementType.Comment;\n}\nexports.isComment = isComment;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nfunction isDirective(node) {\n    return node.type === domelementtype_1.ElementType.Directive;\n}\nexports.isDirective = isDirective;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nfunction isDocument(node) {\n    return node.type === domelementtype_1.ElementType.Root;\n}\nexports.isDocument = isDocument;\n/**\n * @param node Node to check.\n * @returns `true` if the node has children, `false` otherwise.\n */\nfunction hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\nexports.hasChildren = hasChildren;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nfunction cloneNode(node, recursive) {\n    if (recursive === void 0) { recursive = false; }\n    var result;\n    if (isText(node)) {\n        result = new Text(node.data);\n    }\n    else if (isComment(node)) {\n        result = new Comment(node.data);\n    }\n    else if (isTag(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_1 = new Element(node.name, __assign({}, node.attribs), children);\n        children.forEach(function (child) { return (child.parent = clone_1); });\n        if (node.namespace != null) {\n            clone_1.namespace = node.namespace;\n        }\n        if (node[\"x-attribsNamespace\"]) {\n            clone_1[\"x-attribsNamespace\"] = __assign({}, node[\"x-attribsNamespace\"]);\n        }\n        if (node[\"x-attribsPrefix\"]) {\n            clone_1[\"x-attribsPrefix\"] = __assign({}, node[\"x-attribsPrefix\"]);\n        }\n        result = clone_1;\n    }\n    else if (isCDATA(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_2 = new CDATA(children);\n        children.forEach(function (child) { return (child.parent = clone_2); });\n        result = clone_2;\n    }\n    else if (isDocument(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_3 = new Document(children);\n        children.forEach(function (child) { return (child.parent = clone_3); });\n        if (node[\"x-mode\"]) {\n            clone_3[\"x-mode\"] = node[\"x-mode\"];\n        }\n        result = clone_3;\n    }\n    else if (isDirective(node)) {\n        var instruction = new ProcessingInstruction(node.name, node.data);\n        if (node[\"x-name\"] != null) {\n            instruction[\"x-name\"] = node[\"x-name\"];\n            instruction[\"x-publicId\"] = node[\"x-publicId\"];\n            instruction[\"x-systemId\"] = node[\"x-systemId\"];\n        }\n        result = instruction;\n    }\n    else {\n        throw new Error(\"Not implemented yet: \".concat(node.type));\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    if (node.sourceCodeLocation != null) {\n        result.sourceCodeLocation = node.sourceCodeLocation;\n    }\n    return result;\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function (child) { return cloneNode(child, true); });\n    for (var i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DomHandler = void 0;\nvar domelementtype_1 = require(\"domelementtype\");\nvar node_js_1 = require(\"./node.js\");\n__exportStar(require(\"./node.js\"), exports);\n// Default options\nvar defaultOpts = {\n    withStartIndices: false,\n    withEndIndices: false,\n    xmlMode: false,\n};\nvar DomHandler = /** @class */ (function () {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    function DomHandler(callback, options, elementCB) {\n        /** The elements of the DOM */\n        this.dom = [];\n        /** The root element for the DOM */\n        this.root = new node_js_1.Document(this.dom);\n        /** Indicated whether parsing has been completed. */\n        this.done = false;\n        /** Stack of open tags. */\n        this.tagStack = [this.root];\n        /** A data node that is still being written to. */\n        this.lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this.parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this.callback = callback !== null && callback !== void 0 ? callback : null;\n        this.options = options !== null && options !== void 0 ? options : defaultOpts;\n        this.elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    DomHandler.prototype.onparserinit = function (parser) {\n        this.parser = parser;\n    };\n    // Resets the handler back to starting state\n    DomHandler.prototype.onreset = function () {\n        this.dom = [];\n        this.root = new node_js_1.Document(this.dom);\n        this.done = false;\n        this.tagStack = [this.root];\n        this.lastNode = null;\n        this.parser = null;\n    };\n    // Signals the handler that parsing is done\n    DomHandler.prototype.onend = function () {\n        if (this.done)\n            return;\n        this.done = true;\n        this.parser = null;\n        this.handleCallback(null);\n    };\n    DomHandler.prototype.onerror = function (error) {\n        this.handleCallback(error);\n    };\n    DomHandler.prototype.onclosetag = function () {\n        this.lastNode = null;\n        var elem = this.tagStack.pop();\n        if (this.options.withEndIndices) {\n            elem.endIndex = this.parser.endIndex;\n        }\n        if (this.elementCB)\n            this.elementCB(elem);\n    };\n    DomHandler.prototype.onopentag = function (name, attribs) {\n        var type = this.options.xmlMode ? domelementtype_1.ElementType.Tag : undefined;\n        var element = new node_js_1.Element(name, attribs, undefined, type);\n        this.addNode(element);\n        this.tagStack.push(element);\n    };\n    DomHandler.prototype.ontext = function (data) {\n        var lastNode = this.lastNode;\n        if (lastNode && lastNode.type === domelementtype_1.ElementType.Text) {\n            lastNode.data += data;\n            if (this.options.withEndIndices) {\n                lastNode.endIndex = this.parser.endIndex;\n            }\n        }\n        else {\n            var node = new node_js_1.Text(data);\n            this.addNode(node);\n            this.lastNode = node;\n        }\n    };\n    DomHandler.prototype.oncomment = function (data) {\n        if (this.lastNode && this.lastNode.type === domelementtype_1.ElementType.Comment) {\n            this.lastNode.data += data;\n            return;\n        }\n        var node = new node_js_1.Comment(data);\n        this.addNode(node);\n        this.lastNode = node;\n    };\n    DomHandler.prototype.oncommentend = function () {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.oncdatastart = function () {\n        var text = new node_js_1.Text(\"\");\n        var node = new node_js_1.CDATA([text]);\n        this.addNode(node);\n        text.parent = node;\n        this.lastNode = text;\n    };\n    DomHandler.prototype.oncdataend = function () {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.onprocessinginstruction = function (name, data) {\n        var node = new node_js_1.ProcessingInstruction(name, data);\n        this.addNode(node);\n    };\n    DomHandler.prototype.handleCallback = function (error) {\n        if (typeof this.callback === \"function\") {\n            this.callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    };\n    DomHandler.prototype.addNode = function (node) {\n        var parent = this.tagStack[this.tagStack.length - 1];\n        var previousSibling = parent.children[parent.children.length - 1];\n        if (this.options.withStartIndices) {\n            node.startIndex = this.parser.startIndex;\n        }\n        if (this.options.withEndIndices) {\n            node.endIndex = this.parser.endIndex;\n        }\n        parent.children.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        node.parent = parent;\n        this.lastNode = null;\n    };\n    return DomHandler;\n}());\nexports.DomHandler = DomHandler;\nexports.default = DomHandler;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.innerText = exports.textContent = exports.getText = exports.getInnerHTML = exports.getOuterHTML = void 0;\nvar domhandler_1 = require(\"domhandler\");\nvar dom_serializer_1 = __importDefault(require(\"dom-serializer\"));\nvar domelementtype_1 = require(\"domelementtype\");\n/**\n * @category Stringify\n * @deprecated Use the `dom-serializer` module directly.\n * @param node Node to get the outer HTML of.\n * @param options Options for serialization.\n * @returns `node`'s outer HTML.\n */\nfunction getOuterHTML(node, options) {\n    return (0, dom_serializer_1.default)(node, options);\n}\nexports.getOuterHTML = getOuterHTML;\n/**\n * @category Stringify\n * @deprecated Use the `dom-serializer` module directly.\n * @param node Node to get the inner HTML of.\n * @param options Options for serialization.\n * @returns `node`'s inner HTML.\n */\nfunction getInnerHTML(node, options) {\n    return (0, domhandler_1.hasChildren)(node)\n        ? node.children.map(function (node) { return getOuterHTML(node, options); }).join(\"\")\n        : \"\";\n}\nexports.getInnerHTML = getInnerHTML;\n/**\n * Get a node's inner text. Same as `textContent`, but inserts newlines for `<br>` tags.\n *\n * @category Stringify\n * @deprecated Use `textContent` instead.\n * @param node Node to get the inner text of.\n * @returns `node`'s inner text.\n */\nfunction getText(node) {\n    if (Array.isArray(node))\n        return node.map(getText).join(\"\");\n    if ((0, domhandler_1.isTag)(node))\n        return node.name === \"br\" ? \"\\n\" : getText(node.children);\n    if ((0, domhandler_1.isCDATA)(node))\n        return getText(node.children);\n    if ((0, domhandler_1.isText)(node))\n        return node.data;\n    return \"\";\n}\nexports.getText = getText;\n/**\n * Get a node's text content.\n *\n * @category Stringify\n * @param node Node to get the text content of.\n * @returns `node`'s text content.\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent}\n */\nfunction textContent(node) {\n    if (Array.isArray(node))\n        return node.map(textContent).join(\"\");\n    if ((0, domhandler_1.hasChildren)(node) && !(0, domhandler_1.isComment)(node)) {\n        return textContent(node.children);\n    }\n    if ((0, domhandler_1.isText)(node))\n        return node.data;\n    return \"\";\n}\nexports.textContent = textContent;\n/**\n * Get a node's inner text.\n *\n * @category Stringify\n * @param node Node to get the inner text of.\n * @returns `node`'s inner text.\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Node/innerText}\n */\nfunction innerText(node) {\n    if (Array.isArray(node))\n        return node.map(innerText).join(\"\");\n    if ((0, domhandler_1.hasChildren)(node) && (node.type === domelementtype_1.ElementType.Tag || (0, domhandler_1.isCDATA)(node))) {\n        return innerText(node.children);\n    }\n    if ((0, domhandler_1.isText)(node))\n        return node.data;\n    return \"\";\n}\nexports.innerText = innerText;\n//# sourceMappingURL=stringify.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.prevElementSibling = exports.nextElementSibling = exports.getName = exports.hasAttrib = exports.getAttributeValue = exports.getSiblings = exports.getParent = exports.getChildren = void 0;\nvar domhandler_1 = require(\"domhandler\");\n/**\n * Get a node's children.\n *\n * @category Traversal\n * @param elem Node to get the children of.\n * @returns `elem`'s children, or an empty array.\n */\nfunction getChildren(elem) {\n    return (0, domhandler_1.hasChildren)(elem) ? elem.children : [];\n}\nexports.getChildren = getChildren;\n/**\n * Get a node's parent.\n *\n * @category Traversal\n * @param elem Node to get the parent of.\n * @returns `elem`'s parent node.\n */\nfunction getParent(elem) {\n    return elem.parent || null;\n}\nexports.getParent = getParent;\n/**\n * Gets an elements siblings, including the element itself.\n *\n * Attempts to get the children through the element's parent first. If we don't\n * have a parent (the element is a root node), we walk the element's `prev` &\n * `next` to get all remaining nodes.\n *\n * @category Traversal\n * @param elem Element to get the siblings of.\n * @returns `elem`'s siblings.\n */\nfunction getSiblings(elem) {\n    var _a, _b;\n    var parent = getParent(elem);\n    if (parent != null)\n        return getChildren(parent);\n    var siblings = [elem];\n    var prev = elem.prev, next = elem.next;\n    while (prev != null) {\n        siblings.unshift(prev);\n        (_a = prev, prev = _a.prev);\n    }\n    while (next != null) {\n        siblings.push(next);\n        (_b = next, next = _b.next);\n    }\n    return siblings;\n}\nexports.getSiblings = getSiblings;\n/**\n * Gets an attribute from an element.\n *\n * @category Traversal\n * @param elem Element to check.\n * @param name Attribute name to retrieve.\n * @returns The element's attribute value, or `undefined`.\n */\nfunction getAttributeValue(elem, name) {\n    var _a;\n    return (_a = elem.attribs) === null || _a === void 0 ? void 0 : _a[name];\n}\nexports.getAttributeValue = getAttributeValue;\n/**\n * Checks whether an element has an attribute.\n *\n * @category Traversal\n * @param elem Element to check.\n * @param name Attribute name to look for.\n * @returns Returns whether `elem` has the attribute `name`.\n */\nfunction hasAttrib(elem, name) {\n    return (elem.attribs != null &&\n        Object.prototype.hasOwnProperty.call(elem.attribs, name) &&\n        elem.attribs[name] != null);\n}\nexports.hasAttrib = hasAttrib;\n/**\n * Get the tag name of an element.\n *\n * @category Traversal\n * @param elem The element to get the name for.\n * @returns The tag name of `elem`.\n */\nfunction getName(elem) {\n    return elem.name;\n}\nexports.getName = getName;\n/**\n * Returns the next element sibling of a node.\n *\n * @category Traversal\n * @param elem The element to get the next sibling of.\n * @returns `elem`'s next sibling that is a tag.\n */\nfunction nextElementSibling(elem) {\n    var _a;\n    var next = elem.next;\n    while (next !== null && !(0, domhandler_1.isTag)(next))\n        (_a = next, next = _a.next);\n    return next;\n}\nexports.nextElementSibling = nextElementSibling;\n/**\n * Returns the previous element sibling of a node.\n *\n * @category Traversal\n * @param elem The element to get the previous sibling of.\n * @returns `elem`'s previous sibling that is a tag.\n */\nfunction prevElementSibling(elem) {\n    var _a;\n    var prev = elem.prev;\n    while (prev !== null && !(0, domhandler_1.isTag)(prev))\n        (_a = prev, prev = _a.prev);\n    return prev;\n}\nexports.prevElementSibling = prevElementSibling;\n//# sourceMappingURL=traversal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.prepend = exports.prependChild = exports.append = exports.appendChild = exports.replaceElement = exports.removeElement = void 0;\n/**\n * Remove an element from the dom\n *\n * @category Manipulation\n * @param elem The element to be removed\n */\nfunction removeElement(elem) {\n    if (elem.prev)\n        elem.prev.next = elem.next;\n    if (elem.next)\n        elem.next.prev = elem.prev;\n    if (elem.parent) {\n        var childs = elem.parent.children;\n        childs.splice(childs.lastIndexOf(elem), 1);\n    }\n}\nexports.removeElement = removeElement;\n/**\n * Replace an element in the dom\n *\n * @category Manipulation\n * @param elem The element to be replaced\n * @param replacement The element to be added\n */\nfunction replaceElement(elem, replacement) {\n    var prev = (replacement.prev = elem.prev);\n    if (prev) {\n        prev.next = replacement;\n    }\n    var next = (replacement.next = elem.next);\n    if (next) {\n        next.prev = replacement;\n    }\n    var parent = (replacement.parent = elem.parent);\n    if (parent) {\n        var childs = parent.children;\n        childs[childs.lastIndexOf(elem)] = replacement;\n        elem.parent = null;\n    }\n}\nexports.replaceElement = replaceElement;\n/**\n * Append a child to an element.\n *\n * @category Manipulation\n * @param elem The element to append to.\n * @param child The element to be added as a child.\n */\nfunction appendChild(elem, child) {\n    removeElement(child);\n    child.next = null;\n    child.parent = elem;\n    if (elem.children.push(child) > 1) {\n        var sibling = elem.children[elem.children.length - 2];\n        sibling.next = child;\n        child.prev = sibling;\n    }\n    else {\n        child.prev = null;\n    }\n}\nexports.appendChild = appendChild;\n/**\n * Append an element after another.\n *\n * @category Manipulation\n * @param elem The element to append after.\n * @param next The element be added.\n */\nfunction append(elem, next) {\n    removeElement(next);\n    var parent = elem.parent;\n    var currNext = elem.next;\n    next.next = currNext;\n    next.prev = elem;\n    elem.next = next;\n    next.parent = parent;\n    if (currNext) {\n        currNext.prev = next;\n        if (parent) {\n            var childs = parent.children;\n            childs.splice(childs.lastIndexOf(currNext), 0, next);\n        }\n    }\n    else if (parent) {\n        parent.children.push(next);\n    }\n}\nexports.append = append;\n/**\n * Prepend a child to an element.\n *\n * @category Manipulation\n * @param elem The element to prepend before.\n * @param child The element to be added as a child.\n */\nfunction prependChild(elem, child) {\n    removeElement(child);\n    child.parent = elem;\n    child.prev = null;\n    if (elem.children.unshift(child) !== 1) {\n        var sibling = elem.children[1];\n        sibling.prev = child;\n        child.next = sibling;\n    }\n    else {\n        child.next = null;\n    }\n}\nexports.prependChild = prependChild;\n/**\n * Prepend an element before another.\n *\n * @category Manipulation\n * @param elem The element to prepend before.\n * @param prev The element be added.\n */\nfunction prepend(elem, prev) {\n    removeElement(prev);\n    var parent = elem.parent;\n    if (parent) {\n        var childs = parent.children;\n        childs.splice(childs.indexOf(elem), 0, prev);\n    }\n    if (elem.prev) {\n        elem.prev.next = prev;\n    }\n    prev.parent = parent;\n    prev.prev = elem.prev;\n    prev.next = elem;\n    elem.prev = prev;\n}\nexports.prepend = prepend;\n//# sourceMappingURL=manipulation.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findAll = exports.existsOne = exports.findOne = exports.findOneChild = exports.find = exports.filter = void 0;\nvar domhandler_1 = require(\"domhandler\");\n/**\n * Search a node and its children for nodes passing a test function.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param node Node to search. Will be included in the result set if it matches.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes passing `test`.\n */\nfunction filter(test, node, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    if (!Array.isArray(node))\n        node = [node];\n    return find(test, node, recurse, limit);\n}\nexports.filter = filter;\n/**\n * Search an array of node and its children for nodes passing a test function.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes passing `test`.\n */\nfunction find(test, nodes, recurse, limit) {\n    var result = [];\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var elem = nodes_1[_i];\n        if (test(elem)) {\n            result.push(elem);\n            if (--limit <= 0)\n                break;\n        }\n        if (recurse && (0, domhandler_1.hasChildren)(elem) && elem.children.length > 0) {\n            var children = find(test, elem.children, recurse, limit);\n            result.push.apply(result, children);\n            limit -= children.length;\n            if (limit <= 0)\n                break;\n        }\n    }\n    return result;\n}\nexports.find = find;\n/**\n * Finds the first element inside of an array that matches a test function.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns The first node in the array that passes `test`.\n * @deprecated Use `Array.prototype.find` directly.\n */\nfunction findOneChild(test, nodes) {\n    return nodes.find(test);\n}\nexports.findOneChild = findOneChild;\n/**\n * Finds one element in a tree that passes a test.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @param recurse Also consider child nodes.\n * @returns The first child node that passes `test`.\n */\nfunction findOne(test, nodes, recurse) {\n    if (recurse === void 0) { recurse = true; }\n    var elem = null;\n    for (var i = 0; i < nodes.length && !elem; i++) {\n        var checked = nodes[i];\n        if (!(0, domhandler_1.isTag)(checked)) {\n            continue;\n        }\n        else if (test(checked)) {\n            elem = checked;\n        }\n        else if (recurse && checked.children.length > 0) {\n            elem = findOne(test, checked.children, true);\n        }\n    }\n    return elem;\n}\nexports.findOne = findOne;\n/**\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns Whether a tree of nodes contains at least one node passing the test.\n */\nfunction existsOne(test, nodes) {\n    return nodes.some(function (checked) {\n        return (0, domhandler_1.isTag)(checked) &&\n            (test(checked) ||\n                (checked.children.length > 0 &&\n                    existsOne(test, checked.children)));\n    });\n}\nexports.existsOne = existsOne;\n/**\n * Search and array of nodes and its children for elements passing a test function.\n *\n * Same as `find`, but limited to elements and with less options, leading to reduced complexity.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns All nodes passing `test`.\n */\nfunction findAll(test, nodes) {\n    var _a;\n    var result = [];\n    var stack = nodes.filter(domhandler_1.isTag);\n    var elem;\n    while ((elem = stack.shift())) {\n        var children = (_a = elem.children) === null || _a === void 0 ? void 0 : _a.filter(domhandler_1.isTag);\n        if (children && children.length > 0) {\n            stack.unshift.apply(stack, children);\n        }\n        if (test(elem))\n            result.push(elem);\n    }\n    return result;\n}\nexports.findAll = findAll;\n//# sourceMappingURL=querying.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getElementsByTagType = exports.getElementsByTagName = exports.getElementById = exports.getElements = exports.testElement = void 0;\nvar domhandler_1 = require(\"domhandler\");\nvar querying_js_1 = require(\"./querying.js\");\nvar Checks = {\n    tag_name: function (name) {\n        if (typeof name === \"function\") {\n            return function (elem) { return (0, domhandler_1.isTag)(elem) && name(elem.name); };\n        }\n        else if (name === \"*\") {\n            return domhandler_1.isTag;\n        }\n        return function (elem) { return (0, domhandler_1.isTag)(elem) && elem.name === name; };\n    },\n    tag_type: function (type) {\n        if (typeof type === \"function\") {\n            return function (elem) { return type(elem.type); };\n        }\n        return function (elem) { return elem.type === type; };\n    },\n    tag_contains: function (data) {\n        if (typeof data === \"function\") {\n            return function (elem) { return (0, domhandler_1.isText)(elem) && data(elem.data); };\n        }\n        return function (elem) { return (0, domhandler_1.isText)(elem) && elem.data === data; };\n    },\n};\n/**\n * @param attrib Attribute to check.\n * @param value Attribute value to look for.\n * @returns A function to check whether the a node has an attribute with a\n *   particular value.\n */\nfunction getAttribCheck(attrib, value) {\n    if (typeof value === \"function\") {\n        return function (elem) { return (0, domhandler_1.isTag)(elem) && value(elem.attribs[attrib]); };\n    }\n    return function (elem) { return (0, domhandler_1.isTag)(elem) && elem.attribs[attrib] === value; };\n}\n/**\n * @param a First function to combine.\n * @param b Second function to combine.\n * @returns A function taking a node and returning `true` if either of the input\n *   functions returns `true` for the node.\n */\nfunction combineFuncs(a, b) {\n    return function (elem) { return a(elem) || b(elem); };\n}\n/**\n * @param options An object describing nodes to look for.\n * @returns A function executing all checks in `options` and returning `true` if\n *   any of them match a node.\n */\nfunction compileTest(options) {\n    var funcs = Object.keys(options).map(function (key) {\n        var value = options[key];\n        return Object.prototype.hasOwnProperty.call(Checks, key)\n            ? Checks[key](value)\n            : getAttribCheck(key, value);\n    });\n    return funcs.length === 0 ? null : funcs.reduce(combineFuncs);\n}\n/**\n * @category Legacy Query Functions\n * @param options An object describing nodes to look for.\n * @param node The element to test.\n * @returns Whether the element matches the description in `options`.\n */\nfunction testElement(options, node) {\n    var test = compileTest(options);\n    return test ? test(node) : true;\n}\nexports.testElement = testElement;\n/**\n * @category Legacy Query Functions\n * @param options An object describing nodes to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes that match `options`.\n */\nfunction getElements(options, nodes, recurse, limit) {\n    if (limit === void 0) { limit = Infinity; }\n    var test = compileTest(options);\n    return test ? (0, querying_js_1.filter)(test, nodes, recurse, limit) : [];\n}\nexports.getElements = getElements;\n/**\n * @category Legacy Query Functions\n * @param id The unique ID attribute value to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @returns The node with the supplied ID.\n */\nfunction getElementById(id, nodes, recurse) {\n    if (recurse === void 0) { recurse = true; }\n    if (!Array.isArray(nodes))\n        nodes = [nodes];\n    return (0, querying_js_1.findOne)(getAttribCheck(\"id\", id), nodes, recurse);\n}\nexports.getElementById = getElementById;\n/**\n * @category Legacy Query Functions\n * @param tagName Tag name to search for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `tagName`.\n */\nfunction getElementsByTagName(tagName, nodes, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    return (0, querying_js_1.filter)(Checks[\"tag_name\"](tagName), nodes, recurse, limit);\n}\nexports.getElementsByTagName = getElementsByTagName;\n/**\n * @category Legacy Query Functions\n * @param type Element type to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `type`.\n */\nfunction getElementsByTagType(type, nodes, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    return (0, querying_js_1.filter)(Checks[\"tag_type\"](type), nodes, recurse, limit);\n}\nexports.getElementsByTagType = getElementsByTagType;\n//# sourceMappingURL=legacy.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uniqueSort = exports.compareDocumentPosition = exports.DocumentPosition = exports.removeSubsets = void 0;\nvar domhandler_1 = require(\"domhandler\");\n/**\n * Given an array of nodes, remove any member that is contained by another.\n *\n * @category Helpers\n * @param nodes Nodes to filter.\n * @returns Remaining nodes that aren't subtrees of each other.\n */\nfunction removeSubsets(nodes) {\n    var idx = nodes.length;\n    /*\n     * Check if each node (or one of its ancestors) is already contained in the\n     * array.\n     */\n    while (--idx >= 0) {\n        var node = nodes[idx];\n        /*\n         * Remove the node if it is not unique.\n         * We are going through the array from the end, so we only\n         * have to check nodes that preceed the node under consideration in the array.\n         */\n        if (idx > 0 && nodes.lastIndexOf(node, idx - 1) >= 0) {\n            nodes.splice(idx, 1);\n            continue;\n        }\n        for (var ancestor = node.parent; ancestor; ancestor = ancestor.parent) {\n            if (nodes.includes(ancestor)) {\n                nodes.splice(idx, 1);\n                break;\n            }\n        }\n    }\n    return nodes;\n}\nexports.removeSubsets = removeSubsets;\n/**\n * @category Helpers\n * @see {@link http://dom.spec.whatwg.org/#dom-node-comparedocumentposition}\n */\nvar DocumentPosition;\n(function (DocumentPosition) {\n    DocumentPosition[DocumentPosition[\"DISCONNECTED\"] = 1] = \"DISCONNECTED\";\n    DocumentPosition[DocumentPosition[\"PRECEDING\"] = 2] = \"PRECEDING\";\n    DocumentPosition[DocumentPosition[\"FOLLOWING\"] = 4] = \"FOLLOWING\";\n    DocumentPosition[DocumentPosition[\"CONTAINS\"] = 8] = \"CONTAINS\";\n    DocumentPosition[DocumentPosition[\"CONTAINED_BY\"] = 16] = \"CONTAINED_BY\";\n})(DocumentPosition = exports.DocumentPosition || (exports.DocumentPosition = {}));\n/**\n * Compare the position of one node against another node in any other document.\n * The return value is a bitmask with the values from {@link DocumentPosition}.\n *\n * Document order:\n * > There is an ordering, document order, defined on all the nodes in the\n * > document corresponding to the order in which the first character of the\n * > XML representation of each node occurs in the XML representation of the\n * > document after expansion of general entities. Thus, the document element\n * > node will be the first node. Element nodes occur before their children.\n * > Thus, document order orders element nodes in order of the occurrence of\n * > their start-tag in the XML (after expansion of entities). The attribute\n * > nodes of an element occur after the element and before its children. The\n * > relative order of attribute nodes is implementation-dependent.\n *\n * Source:\n * http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n *\n * @category Helpers\n * @param nodeA The first node to use in the comparison\n * @param nodeB The second node to use in the comparison\n * @returns A bitmask describing the input nodes' relative position.\n *\n * See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n * a description of these values.\n */\nfunction compareDocumentPosition(nodeA, nodeB) {\n    var aParents = [];\n    var bParents = [];\n    if (nodeA === nodeB) {\n        return 0;\n    }\n    var current = (0, domhandler_1.hasChildren)(nodeA) ? nodeA : nodeA.parent;\n    while (current) {\n        aParents.unshift(current);\n        current = current.parent;\n    }\n    current = (0, domhandler_1.hasChildren)(nodeB) ? nodeB : nodeB.parent;\n    while (current) {\n        bParents.unshift(current);\n        current = current.parent;\n    }\n    var maxIdx = Math.min(aParents.length, bParents.length);\n    var idx = 0;\n    while (idx < maxIdx && aParents[idx] === bParents[idx]) {\n        idx++;\n    }\n    if (idx === 0) {\n        return DocumentPosition.DISCONNECTED;\n    }\n    var sharedParent = aParents[idx - 1];\n    var siblings = sharedParent.children;\n    var aSibling = aParents[idx];\n    var bSibling = bParents[idx];\n    if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n        if (sharedParent === nodeB) {\n            return DocumentPosition.FOLLOWING | DocumentPosition.CONTAINED_BY;\n        }\n        return DocumentPosition.FOLLOWING;\n    }\n    if (sharedParent === nodeA) {\n        return DocumentPosition.PRECEDING | DocumentPosition.CONTAINS;\n    }\n    return DocumentPosition.PRECEDING;\n}\nexports.compareDocumentPosition = compareDocumentPosition;\n/**\n * Sort an array of nodes based on their relative position in the document and\n * remove any duplicate nodes. If the array contains nodes that do not belong to\n * the same document, sort order is unspecified.\n *\n * @category Helpers\n * @param nodes Array of DOM nodes.\n * @returns Collection of unique nodes, sorted in document order.\n */\nfunction uniqueSort(nodes) {\n    nodes = nodes.filter(function (node, i, arr) { return !arr.includes(node, i + 1); });\n    nodes.sort(function (a, b) {\n        var relative = compareDocumentPosition(a, b);\n        if (relative & DocumentPosition.PRECEDING) {\n            return -1;\n        }\n        else if (relative & DocumentPosition.FOLLOWING) {\n            return 1;\n        }\n        return 0;\n    });\n    return nodes;\n}\nexports.uniqueSort = uniqueSort;\n//# sourceMappingURL=helpers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFeed = void 0;\nvar stringify_js_1 = require(\"./stringify.js\");\nvar legacy_js_1 = require(\"./legacy.js\");\n/**\n * Get the feed object from the root of a DOM tree.\n *\n * @category Feeds\n * @param doc - The DOM to to extract the feed from.\n * @returns The feed.\n */\nfunction getFeed(doc) {\n    var feedRoot = getOneElement(isValidFeed, doc);\n    return !feedRoot\n        ? null\n        : feedRoot.name === \"feed\"\n            ? getAtomFeed(feedRoot)\n            : getRssFeed(feedRoot);\n}\nexports.getFeed = getFeed;\n/**\n * Parse an Atom feed.\n *\n * @param feedRoot The root of the feed.\n * @returns The parsed feed.\n */\nfunction getAtomFeed(feedRoot) {\n    var _a;\n    var childs = feedRoot.children;\n    var feed = {\n        type: \"atom\",\n        items: (0, legacy_js_1.getElementsByTagName)(\"entry\", childs).map(function (item) {\n            var _a;\n            var children = item.children;\n            var entry = { media: getMediaElements(children) };\n            addConditionally(entry, \"id\", \"id\", children);\n            addConditionally(entry, \"title\", \"title\", children);\n            var href = (_a = getOneElement(\"link\", children)) === null || _a === void 0 ? void 0 : _a.attribs[\"href\"];\n            if (href) {\n                entry.link = href;\n            }\n            var description = fetch(\"summary\", children) || fetch(\"content\", children);\n            if (description) {\n                entry.description = description;\n            }\n            var pubDate = fetch(\"updated\", children);\n            if (pubDate) {\n                entry.pubDate = new Date(pubDate);\n            }\n            return entry;\n        }),\n    };\n    addConditionally(feed, \"id\", \"id\", childs);\n    addConditionally(feed, \"title\", \"title\", childs);\n    var href = (_a = getOneElement(\"link\", childs)) === null || _a === void 0 ? void 0 : _a.attribs[\"href\"];\n    if (href) {\n        feed.link = href;\n    }\n    addConditionally(feed, \"description\", \"subtitle\", childs);\n    var updated = fetch(\"updated\", childs);\n    if (updated) {\n        feed.updated = new Date(updated);\n    }\n    addConditionally(feed, \"author\", \"email\", childs, true);\n    return feed;\n}\n/**\n * Parse a RSS feed.\n *\n * @param feedRoot The root of the feed.\n * @returns The parsed feed.\n */\nfunction getRssFeed(feedRoot) {\n    var _a, _b;\n    var childs = (_b = (_a = getOneElement(\"channel\", feedRoot.children)) === null || _a === void 0 ? void 0 : _a.children) !== null && _b !== void 0 ? _b : [];\n    var feed = {\n        type: feedRoot.name.substr(0, 3),\n        id: \"\",\n        items: (0, legacy_js_1.getElementsByTagName)(\"item\", feedRoot.children).map(function (item) {\n            var children = item.children;\n            var entry = { media: getMediaElements(children) };\n            addConditionally(entry, \"id\", \"guid\", children);\n            addConditionally(entry, \"title\", \"title\", children);\n            addConditionally(entry, \"link\", \"link\", children);\n            addConditionally(entry, \"description\", \"description\", children);\n            var pubDate = fetch(\"pubDate\", children);\n            if (pubDate)\n                entry.pubDate = new Date(pubDate);\n            return entry;\n        }),\n    };\n    addConditionally(feed, \"title\", \"title\", childs);\n    addConditionally(feed, \"link\", \"link\", childs);\n    addConditionally(feed, \"description\", \"description\", childs);\n    var updated = fetch(\"lastBuildDate\", childs);\n    if (updated) {\n        feed.updated = new Date(updated);\n    }\n    addConditionally(feed, \"author\", \"managingEditor\", childs, true);\n    return feed;\n}\nvar MEDIA_KEYS_STRING = [\"url\", \"type\", \"lang\"];\nvar MEDIA_KEYS_INT = [\n    \"fileSize\",\n    \"bitrate\",\n    \"framerate\",\n    \"samplingrate\",\n    \"channels\",\n    \"duration\",\n    \"height\",\n    \"width\",\n];\n/**\n * Get all media elements of a feed item.\n *\n * @param where Nodes to search in.\n * @returns Media elements.\n */\nfunction getMediaElements(where) {\n    return (0, legacy_js_1.getElementsByTagName)(\"media:content\", where).map(function (elem) {\n        var attribs = elem.attribs;\n        var media = {\n            medium: attribs[\"medium\"],\n            isDefault: !!attribs[\"isDefault\"],\n        };\n        for (var _i = 0, MEDIA_KEYS_STRING_1 = MEDIA_KEYS_STRING; _i < MEDIA_KEYS_STRING_1.length; _i++) {\n            var attrib = MEDIA_KEYS_STRING_1[_i];\n            if (attribs[attrib]) {\n                media[attrib] = attribs[attrib];\n            }\n        }\n        for (var _a = 0, MEDIA_KEYS_INT_1 = MEDIA_KEYS_INT; _a < MEDIA_KEYS_INT_1.length; _a++) {\n            var attrib = MEDIA_KEYS_INT_1[_a];\n            if (attribs[attrib]) {\n                media[attrib] = parseInt(attribs[attrib], 10);\n            }\n        }\n        if (attribs[\"expression\"]) {\n            media.expression = attribs[\"expression\"];\n        }\n        return media;\n    });\n}\n/**\n * Get one element by tag name.\n *\n * @param tagName Tag name to look for\n * @param node Node to search in\n * @returns The element or null\n */\nfunction getOneElement(tagName, node) {\n    return (0, legacy_js_1.getElementsByTagName)(tagName, node, true, 1)[0];\n}\n/**\n * Get the text content of an element with a certain tag name.\n *\n * @param tagName Tag name to look for.\n * @param where Node to search in.\n * @param recurse Whether to recurse into child nodes.\n * @returns The text content of the element.\n */\nfunction fetch(tagName, where, recurse) {\n    if (recurse === void 0) { recurse = false; }\n    return (0, stringify_js_1.textContent)((0, legacy_js_1.getElementsByTagName)(tagName, where, recurse, 1)).trim();\n}\n/**\n * Adds a property to an object if it has a value.\n *\n * @param obj Object to be extended\n * @param prop Property name\n * @param tagName Tag name that contains the conditionally added property\n * @param where Element to search for the property\n * @param recurse Whether to recurse into child nodes.\n */\nfunction addConditionally(obj, prop, tagName, where, recurse) {\n    if (recurse === void 0) { recurse = false; }\n    var val = fetch(tagName, where, recurse);\n    if (val)\n        obj[prop] = val;\n}\n/**\n * Checks if an element is a feed root node.\n *\n * @param value The name of the element to check.\n * @returns Whether an element is a feed root node.\n */\nfunction isValidFeed(value) {\n    return value === \"rss\" || value === \"feed\" || value === \"rdf:RDF\";\n}\n//# sourceMappingURL=feeds.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasChildren = exports.isDocument = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = void 0;\n__exportStar(require(\"./stringify.js\"), exports);\n__exportStar(require(\"./traversal.js\"), exports);\n__exportStar(require(\"./manipulation.js\"), exports);\n__exportStar(require(\"./querying.js\"), exports);\n__exportStar(require(\"./legacy.js\"), exports);\n__exportStar(require(\"./helpers.js\"), exports);\n__exportStar(require(\"./feeds.js\"), exports);\n/** @deprecated Use these methods from `domhandler` directly. */\nvar domhandler_1 = require(\"domhandler\");\nObject.defineProperty(exports, \"isTag\", { enumerable: true, get: function () { return domhandler_1.isTag; } });\nObject.defineProperty(exports, \"isCDATA\", { enumerable: true, get: function () { return domhandler_1.isCDATA; } });\nObject.defineProperty(exports, \"isText\", { enumerable: true, get: function () { return domhandler_1.isText; } });\nObject.defineProperty(exports, \"isComment\", { enumerable: true, get: function () { return domhandler_1.isComment; } });\nObject.defineProperty(exports, \"isDocument\", { enumerable: true, get: function () { return domhandler_1.isDocument; } });\nObject.defineProperty(exports, \"hasChildren\", { enumerable: true, get: function () { return domhandler_1.hasChildren; } });\n//# sourceMappingURL=index.js.map","module.exports = {\n\ttrueFunc: function trueFunc(){\n\t\treturn true;\n\t},\n\tfalseFunc: function falseFunc(){\n\t\treturn false;\n\t}\n};","export var SelectorType;\n(function (SelectorType) {\n    SelectorType[\"Attribute\"] = \"attribute\";\n    SelectorType[\"Pseudo\"] = \"pseudo\";\n    SelectorType[\"PseudoElement\"] = \"pseudo-element\";\n    SelectorType[\"Tag\"] = \"tag\";\n    SelectorType[\"Universal\"] = \"universal\";\n    // Traversals\n    SelectorType[\"Adjacent\"] = \"adjacent\";\n    SelectorType[\"Child\"] = \"child\";\n    SelectorType[\"Descendant\"] = \"descendant\";\n    SelectorType[\"Parent\"] = \"parent\";\n    SelectorType[\"Sibling\"] = \"sibling\";\n    SelectorType[\"ColumnCombinator\"] = \"column-combinator\";\n})(SelectorType || (SelectorType = {}));\n/**\n * Modes for ignore case.\n *\n * This could be updated to an enum, and the object is\n * the current stand-in that will allow code to be updated\n * without big changes.\n */\nexport const IgnoreCaseMode = {\n    Unknown: null,\n    QuirksMode: \"quirks\",\n    IgnoreCase: true,\n    CaseSensitive: false,\n};\nexport var AttributeAction;\n(function (AttributeAction) {\n    AttributeAction[\"Any\"] = \"any\";\n    AttributeAction[\"Element\"] = \"element\";\n    AttributeAction[\"End\"] = \"end\";\n    AttributeAction[\"Equals\"] = \"equals\";\n    AttributeAction[\"Exists\"] = \"exists\";\n    AttributeAction[\"Hyphen\"] = \"hyphen\";\n    AttributeAction[\"Not\"] = \"not\";\n    AttributeAction[\"Start\"] = \"start\";\n})(AttributeAction || (AttributeAction = {}));\n","import { SelectorType, AttributeAction, } from \"./types\";\nconst reName = /^[^\\\\#]?(?:\\\\(?:[\\da-f]{1,6}\\s?|.)|[\\w\\-\\u00b0-\\uFFFF])+/;\nconst reEscape = /\\\\([\\da-f]{1,6}\\s?|(\\s)|.)/gi;\nconst actionTypes = new Map([\n    [126 /* Tilde */, AttributeAction.Element],\n    [94 /* Circumflex */, AttributeAction.Start],\n    [36 /* Dollar */, AttributeAction.End],\n    [42 /* Asterisk */, AttributeAction.Any],\n    [33 /* ExclamationMark */, AttributeAction.Not],\n    [124 /* Pipe */, AttributeAction.Hyphen],\n]);\n// Pseudos, whose data property is parsed as well.\nconst unpackPseudos = new Set([\n    \"has\",\n    \"not\",\n    \"matches\",\n    \"is\",\n    \"where\",\n    \"host\",\n    \"host-context\",\n]);\n/**\n * Checks whether a specific selector is a traversal.\n * This is useful eg. in swapping the order of elements that\n * are not traversals.\n *\n * @param selector Selector to check.\n */\nexport function isTraversal(selector) {\n    switch (selector.type) {\n        case SelectorType.Adjacent:\n        case SelectorType.Child:\n        case SelectorType.Descendant:\n        case SelectorType.Parent:\n        case SelectorType.Sibling:\n        case SelectorType.ColumnCombinator:\n            return true;\n        default:\n            return false;\n    }\n}\nconst stripQuotesFromPseudos = new Set([\"contains\", \"icontains\"]);\n// Unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L152\nfunction funescape(_, escaped, escapedWhitespace) {\n    const high = parseInt(escaped, 16) - 0x10000;\n    // NaN means non-codepoint\n    return high !== high || escapedWhitespace\n        ? escaped\n        : high < 0\n            ? // BMP codepoint\n                String.fromCharCode(high + 0x10000)\n            : // Supplemental Plane codepoint (surrogate pair)\n                String.fromCharCode((high >> 10) | 0xd800, (high & 0x3ff) | 0xdc00);\n}\nfunction unescapeCSS(str) {\n    return str.replace(reEscape, funescape);\n}\nfunction isQuote(c) {\n    return c === 39 /* SingleQuote */ || c === 34 /* DoubleQuote */;\n}\nfunction isWhitespace(c) {\n    return (c === 32 /* Space */ ||\n        c === 9 /* Tab */ ||\n        c === 10 /* NewLine */ ||\n        c === 12 /* FormFeed */ ||\n        c === 13 /* CarriageReturn */);\n}\n/**\n * Parses `selector`, optionally with the passed `options`.\n *\n * @param selector Selector to parse.\n * @param options Options for parsing.\n * @returns Returns a two-dimensional array.\n * The first dimension represents selectors separated by commas (eg. `sub1, sub2`),\n * the second contains the relevant tokens for that selector.\n */\nexport function parse(selector) {\n    const subselects = [];\n    const endIndex = parseSelector(subselects, `${selector}`, 0);\n    if (endIndex < selector.length) {\n        throw new Error(`Unmatched selector: ${selector.slice(endIndex)}`);\n    }\n    return subselects;\n}\nfunction parseSelector(subselects, selector, selectorIndex) {\n    let tokens = [];\n    function getName(offset) {\n        const match = selector.slice(selectorIndex + offset).match(reName);\n        if (!match) {\n            throw new Error(`Expected name, found ${selector.slice(selectorIndex)}`);\n        }\n        const [name] = match;\n        selectorIndex += offset + name.length;\n        return unescapeCSS(name);\n    }\n    function stripWhitespace(offset) {\n        selectorIndex += offset;\n        while (selectorIndex < selector.length &&\n            isWhitespace(selector.charCodeAt(selectorIndex))) {\n            selectorIndex++;\n        }\n    }\n    function readValueWithParenthesis() {\n        selectorIndex += 1;\n        const start = selectorIndex;\n        let counter = 1;\n        for (; counter > 0 && selectorIndex < selector.length; selectorIndex++) {\n            if (selector.charCodeAt(selectorIndex) ===\n                40 /* LeftParenthesis */ &&\n                !isEscaped(selectorIndex)) {\n                counter++;\n            }\n            else if (selector.charCodeAt(selectorIndex) ===\n                41 /* RightParenthesis */ &&\n                !isEscaped(selectorIndex)) {\n                counter--;\n            }\n        }\n        if (counter) {\n            throw new Error(\"Parenthesis not matched\");\n        }\n        return unescapeCSS(selector.slice(start, selectorIndex - 1));\n    }\n    function isEscaped(pos) {\n        let slashCount = 0;\n        while (selector.charCodeAt(--pos) === 92 /* BackSlash */)\n            slashCount++;\n        return (slashCount & 1) === 1;\n    }\n    function ensureNotTraversal() {\n        if (tokens.length > 0 && isTraversal(tokens[tokens.length - 1])) {\n            throw new Error(\"Did not expect successive traversals.\");\n        }\n    }\n    function addTraversal(type) {\n        if (tokens.length > 0 &&\n            tokens[tokens.length - 1].type === SelectorType.Descendant) {\n            tokens[tokens.length - 1].type = type;\n            return;\n        }\n        ensureNotTraversal();\n        tokens.push({ type });\n    }\n    function addSpecialAttribute(name, action) {\n        tokens.push({\n            type: SelectorType.Attribute,\n            name,\n            action,\n            value: getName(1),\n            namespace: null,\n            ignoreCase: \"quirks\",\n        });\n    }\n    /**\n     * We have finished parsing the current part of the selector.\n     *\n     * Remove descendant tokens at the end if they exist,\n     * and return the last index, so that parsing can be\n     * picked up from here.\n     */\n    function finalizeSubselector() {\n        if (tokens.length &&\n            tokens[tokens.length - 1].type === SelectorType.Descendant) {\n            tokens.pop();\n        }\n        if (tokens.length === 0) {\n            throw new Error(\"Empty sub-selector\");\n        }\n        subselects.push(tokens);\n    }\n    stripWhitespace(0);\n    if (selector.length === selectorIndex) {\n        return selectorIndex;\n    }\n    loop: while (selectorIndex < selector.length) {\n        const firstChar = selector.charCodeAt(selectorIndex);\n        switch (firstChar) {\n            // Whitespace\n            case 32 /* Space */:\n            case 9 /* Tab */:\n            case 10 /* NewLine */:\n            case 12 /* FormFeed */:\n            case 13 /* CarriageReturn */: {\n                if (tokens.length === 0 ||\n                    tokens[0].type !== SelectorType.Descendant) {\n                    ensureNotTraversal();\n                    tokens.push({ type: SelectorType.Descendant });\n                }\n                stripWhitespace(1);\n                break;\n            }\n            // Traversals\n            case 62 /* GreaterThan */: {\n                addTraversal(SelectorType.Child);\n                stripWhitespace(1);\n                break;\n            }\n            case 60 /* LessThan */: {\n                addTraversal(SelectorType.Parent);\n                stripWhitespace(1);\n                break;\n            }\n            case 126 /* Tilde */: {\n                addTraversal(SelectorType.Sibling);\n                stripWhitespace(1);\n                break;\n            }\n            case 43 /* Plus */: {\n                addTraversal(SelectorType.Adjacent);\n                stripWhitespace(1);\n                break;\n            }\n            // Special attribute selectors: .class, #id\n            case 46 /* Period */: {\n                addSpecialAttribute(\"class\", AttributeAction.Element);\n                break;\n            }\n            case 35 /* Hash */: {\n                addSpecialAttribute(\"id\", AttributeAction.Equals);\n                break;\n            }\n            case 91 /* LeftSquareBracket */: {\n                stripWhitespace(1);\n                // Determine attribute name and namespace\n                let name;\n                let namespace = null;\n                if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */) {\n                    // Equivalent to no namespace\n                    name = getName(1);\n                }\n                else if (selector.startsWith(\"*|\", selectorIndex)) {\n                    namespace = \"*\";\n                    name = getName(2);\n                }\n                else {\n                    name = getName(0);\n                    if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */ &&\n                        selector.charCodeAt(selectorIndex + 1) !==\n                            61 /* Equal */) {\n                        namespace = name;\n                        name = getName(1);\n                    }\n                }\n                stripWhitespace(0);\n                // Determine comparison operation\n                let action = AttributeAction.Exists;\n                const possibleAction = actionTypes.get(selector.charCodeAt(selectorIndex));\n                if (possibleAction) {\n                    action = possibleAction;\n                    if (selector.charCodeAt(selectorIndex + 1) !==\n                        61 /* Equal */) {\n                        throw new Error(\"Expected `=`\");\n                    }\n                    stripWhitespace(2);\n                }\n                else if (selector.charCodeAt(selectorIndex) === 61 /* Equal */) {\n                    action = AttributeAction.Equals;\n                    stripWhitespace(1);\n                }\n                // Determine value\n                let value = \"\";\n                let ignoreCase = null;\n                if (action !== \"exists\") {\n                    if (isQuote(selector.charCodeAt(selectorIndex))) {\n                        const quote = selector.charCodeAt(selectorIndex);\n                        let sectionEnd = selectorIndex + 1;\n                        while (sectionEnd < selector.length &&\n                            (selector.charCodeAt(sectionEnd) !== quote ||\n                                isEscaped(sectionEnd))) {\n                            sectionEnd += 1;\n                        }\n                        if (selector.charCodeAt(sectionEnd) !== quote) {\n                            throw new Error(\"Attribute value didn't end\");\n                        }\n                        value = unescapeCSS(selector.slice(selectorIndex + 1, sectionEnd));\n                        selectorIndex = sectionEnd + 1;\n                    }\n                    else {\n                        const valueStart = selectorIndex;\n                        while (selectorIndex < selector.length &&\n                            ((!isWhitespace(selector.charCodeAt(selectorIndex)) &&\n                                selector.charCodeAt(selectorIndex) !==\n                                    93 /* RightSquareBracket */) ||\n                                isEscaped(selectorIndex))) {\n                            selectorIndex += 1;\n                        }\n                        value = unescapeCSS(selector.slice(valueStart, selectorIndex));\n                    }\n                    stripWhitespace(0);\n                    // See if we have a force ignore flag\n                    const forceIgnore = selector.charCodeAt(selectorIndex) | 0x20;\n                    // If the forceIgnore flag is set (either `i` or `s`), use that value\n                    if (forceIgnore === 115 /* LowerS */) {\n                        ignoreCase = false;\n                        stripWhitespace(1);\n                    }\n                    else if (forceIgnore === 105 /* LowerI */) {\n                        ignoreCase = true;\n                        stripWhitespace(1);\n                    }\n                }\n                if (selector.charCodeAt(selectorIndex) !==\n                    93 /* RightSquareBracket */) {\n                    throw new Error(\"Attribute selector didn't terminate\");\n                }\n                selectorIndex += 1;\n                const attributeSelector = {\n                    type: SelectorType.Attribute,\n                    name,\n                    action,\n                    value,\n                    namespace,\n                    ignoreCase,\n                };\n                tokens.push(attributeSelector);\n                break;\n            }\n            case 58 /* Colon */: {\n                if (selector.charCodeAt(selectorIndex + 1) === 58 /* Colon */) {\n                    tokens.push({\n                        type: SelectorType.PseudoElement,\n                        name: getName(2).toLowerCase(),\n                        data: selector.charCodeAt(selectorIndex) ===\n                            40 /* LeftParenthesis */\n                            ? readValueWithParenthesis()\n                            : null,\n                    });\n                    continue;\n                }\n                const name = getName(1).toLowerCase();\n                let data = null;\n                if (selector.charCodeAt(selectorIndex) ===\n                    40 /* LeftParenthesis */) {\n                    if (unpackPseudos.has(name)) {\n                        if (isQuote(selector.charCodeAt(selectorIndex + 1))) {\n                            throw new Error(`Pseudo-selector ${name} cannot be quoted`);\n                        }\n                        data = [];\n                        selectorIndex = parseSelector(data, selector, selectorIndex + 1);\n                        if (selector.charCodeAt(selectorIndex) !==\n                            41 /* RightParenthesis */) {\n                            throw new Error(`Missing closing parenthesis in :${name} (${selector})`);\n                        }\n                        selectorIndex += 1;\n                    }\n                    else {\n                        data = readValueWithParenthesis();\n                        if (stripQuotesFromPseudos.has(name)) {\n                            const quot = data.charCodeAt(0);\n                            if (quot === data.charCodeAt(data.length - 1) &&\n                                isQuote(quot)) {\n                                data = data.slice(1, -1);\n                            }\n                        }\n                        data = unescapeCSS(data);\n                    }\n                }\n                tokens.push({ type: SelectorType.Pseudo, name, data });\n                break;\n            }\n            case 44 /* Comma */: {\n                finalizeSubselector();\n                tokens = [];\n                stripWhitespace(1);\n                break;\n            }\n            default: {\n                if (selector.startsWith(\"/*\", selectorIndex)) {\n                    const endIndex = selector.indexOf(\"*/\", selectorIndex + 2);\n                    if (endIndex < 0) {\n                        throw new Error(\"Comment was not terminated\");\n                    }\n                    selectorIndex = endIndex + 2;\n                    // Remove leading whitespace\n                    if (tokens.length === 0) {\n                        stripWhitespace(0);\n                    }\n                    break;\n                }\n                let namespace = null;\n                let name;\n                if (firstChar === 42 /* Asterisk */) {\n                    selectorIndex += 1;\n                    name = \"*\";\n                }\n                else if (firstChar === 124 /* Pipe */) {\n                    name = \"\";\n                    if (selector.charCodeAt(selectorIndex + 1) === 124 /* Pipe */) {\n                        addTraversal(SelectorType.ColumnCombinator);\n                        stripWhitespace(2);\n                        break;\n                    }\n                }\n                else if (reName.test(selector.slice(selectorIndex))) {\n                    name = getName(0);\n                }\n                else {\n                    break loop;\n                }\n                if (selector.charCodeAt(selectorIndex) === 124 /* Pipe */ &&\n                    selector.charCodeAt(selectorIndex + 1) !== 124 /* Pipe */) {\n                    namespace = name;\n                    if (selector.charCodeAt(selectorIndex + 1) ===\n                        42 /* Asterisk */) {\n                        name = \"*\";\n                        selectorIndex += 2;\n                    }\n                    else {\n                        name = getName(1);\n                    }\n                }\n                tokens.push(name === \"*\"\n                    ? { type: SelectorType.Universal, namespace }\n                    : { type: SelectorType.Tag, name, namespace });\n            }\n        }\n    }\n    finalizeSubselector();\n    return selectorIndex;\n}\n","import { SelectorType, AttributeAction } from \"./types\";\nconst attribValChars = [\"\\\\\", '\"'];\nconst pseudoValChars = [...attribValChars, \"(\", \")\"];\nconst charsToEscapeInAttributeValue = new Set(attribValChars.map((c) => c.charCodeAt(0)));\nconst charsToEscapeInPseudoValue = new Set(pseudoValChars.map((c) => c.charCodeAt(0)));\nconst charsToEscapeInName = new Set([\n    ...pseudoValChars,\n    \"~\",\n    \"^\",\n    \"$\",\n    \"*\",\n    \"+\",\n    \"!\",\n    \"|\",\n    \":\",\n    \"[\",\n    \"]\",\n    \" \",\n    \".\",\n].map((c) => c.charCodeAt(0)));\n/**\n * Turns `selector` back into a string.\n *\n * @param selector Selector to stringify.\n */\nexport function stringify(selector) {\n    return selector\n        .map((token) => token.map(stringifyToken).join(\"\"))\n        .join(\", \");\n}\nfunction stringifyToken(token, index, arr) {\n    switch (token.type) {\n        // Simple types\n        case SelectorType.Child:\n            return index === 0 ? \"> \" : \" > \";\n        case SelectorType.Parent:\n            return index === 0 ? \"< \" : \" < \";\n        case SelectorType.Sibling:\n            return index === 0 ? \"~ \" : \" ~ \";\n        case SelectorType.Adjacent:\n            return index === 0 ? \"+ \" : \" + \";\n        case SelectorType.Descendant:\n            return \" \";\n        case SelectorType.ColumnCombinator:\n            return index === 0 ? \"|| \" : \" || \";\n        case SelectorType.Universal:\n            // Return an empty string if the selector isn't needed.\n            return token.namespace === \"*\" &&\n                index + 1 < arr.length &&\n                \"name\" in arr[index + 1]\n                ? \"\"\n                : `${getNamespace(token.namespace)}*`;\n        case SelectorType.Tag:\n            return getNamespacedName(token);\n        case SelectorType.PseudoElement:\n            return `::${escapeName(token.name, charsToEscapeInName)}${token.data === null\n                ? \"\"\n                : `(${escapeName(token.data, charsToEscapeInPseudoValue)})`}`;\n        case SelectorType.Pseudo:\n            return `:${escapeName(token.name, charsToEscapeInName)}${token.data === null\n                ? \"\"\n                : `(${typeof token.data === \"string\"\n                    ? escapeName(token.data, charsToEscapeInPseudoValue)\n                    : stringify(token.data)})`}`;\n        case SelectorType.Attribute: {\n            if (token.name === \"id\" &&\n                token.action === AttributeAction.Equals &&\n                token.ignoreCase === \"quirks\" &&\n                !token.namespace) {\n                return `#${escapeName(token.value, charsToEscapeInName)}`;\n            }\n            if (token.name === \"class\" &&\n                token.action === AttributeAction.Element &&\n                token.ignoreCase === \"quirks\" &&\n                !token.namespace) {\n                return `.${escapeName(token.value, charsToEscapeInName)}`;\n            }\n            const name = getNamespacedName(token);\n            if (token.action === AttributeAction.Exists) {\n                return `[${name}]`;\n            }\n            return `[${name}${getActionValue(token.action)}=\"${escapeName(token.value, charsToEscapeInAttributeValue)}\"${token.ignoreCase === null ? \"\" : token.ignoreCase ? \" i\" : \" s\"}]`;\n        }\n    }\n}\nfunction getActionValue(action) {\n    switch (action) {\n        case AttributeAction.Equals:\n            return \"\";\n        case AttributeAction.Element:\n            return \"~\";\n        case AttributeAction.Start:\n            return \"^\";\n        case AttributeAction.End:\n            return \"$\";\n        case AttributeAction.Any:\n            return \"*\";\n        case AttributeAction.Not:\n            return \"!\";\n        case AttributeAction.Hyphen:\n            return \"|\";\n        case AttributeAction.Exists:\n            throw new Error(\"Shouldn't be here\");\n    }\n}\nfunction getNamespacedName(token) {\n    return `${getNamespace(token.namespace)}${escapeName(token.name, charsToEscapeInName)}`;\n}\nfunction getNamespace(namespace) {\n    return namespace !== null\n        ? `${namespace === \"*\"\n            ? \"*\"\n            : escapeName(namespace, charsToEscapeInName)}|`\n        : \"\";\n}\nfunction escapeName(str, charsToEscape) {\n    let lastIdx = 0;\n    let ret = \"\";\n    for (let i = 0; i < str.length; i++) {\n        if (charsToEscape.has(str.charCodeAt(i))) {\n            ret += `${str.slice(lastIdx, i)}\\\\${str.charAt(i)}`;\n            lastIdx = i + 1;\n        }\n    }\n    return ret.length > 0 ? ret + str.slice(lastIdx) : str;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTraversal = void 0;\nvar css_what_1 = require(\"css-what\");\nvar procedure = new Map([\n    [css_what_1.SelectorType.Universal, 50],\n    [css_what_1.SelectorType.Tag, 30],\n    [css_what_1.SelectorType.Attribute, 1],\n    [css_what_1.SelectorType.Pseudo, 0],\n]);\nfunction isTraversal(token) {\n    return !procedure.has(token.type);\n}\nexports.isTraversal = isTraversal;\nvar attributes = new Map([\n    [css_what_1.AttributeAction.Exists, 10],\n    [css_what_1.AttributeAction.Equals, 8],\n    [css_what_1.AttributeAction.Not, 7],\n    [css_what_1.AttributeAction.Start, 6],\n    [css_what_1.AttributeAction.End, 6],\n    [css_what_1.AttributeAction.Any, 5],\n]);\n/**\n * Sort the parts of the passed selector,\n * as there is potential for optimization\n * (some types of selectors are faster than others)\n *\n * @param arr Selector to sort\n */\nfunction sortByProcedure(arr) {\n    var procs = arr.map(getProcedure);\n    for (var i = 1; i < arr.length; i++) {\n        var procNew = procs[i];\n        if (procNew < 0)\n            continue;\n        for (var j = i - 1; j >= 0 && procNew < procs[j]; j--) {\n            var token = arr[j + 1];\n            arr[j + 1] = arr[j];\n            arr[j] = token;\n            procs[j + 1] = procs[j];\n            procs[j] = procNew;\n        }\n    }\n}\nexports.default = sortByProcedure;\nfunction getProcedure(token) {\n    var _a, _b;\n    var proc = (_a = procedure.get(token.type)) !== null && _a !== void 0 ? _a : -1;\n    if (token.type === css_what_1.SelectorType.Attribute) {\n        proc = (_b = attributes.get(token.action)) !== null && _b !== void 0 ? _b : 4;\n        if (token.action === css_what_1.AttributeAction.Equals && token.name === \"id\") {\n            // Prefer ID selectors (eg. #ID)\n            proc = 9;\n        }\n        if (token.ignoreCase) {\n            /*\n             * IgnoreCase adds some overhead, prefer \"normal\" token\n             * this is a binary operation, to ensure it's still an int\n             */\n            proc >>= 1;\n        }\n    }\n    else if (token.type === css_what_1.SelectorType.Pseudo) {\n        if (!token.data) {\n            proc = 3;\n        }\n        else if (token.name === \"has\" || token.name === \"contains\") {\n            proc = 0; // Expensive in any case\n        }\n        else if (Array.isArray(token.data)) {\n            // Eg. :matches, :not\n            proc = Math.min.apply(Math, token.data.map(function (d) { return Math.min.apply(Math, d.map(getProcedure)); }));\n            // If we have traversals, try to avoid executing this selector\n            if (proc < 0) {\n                proc = 0;\n            }\n        }\n        else {\n            proc = 2;\n        }\n    }\n    return proc;\n}\n//# sourceMappingURL=sort.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attributeRules = void 0;\nvar boolbase_1 = __importDefault(require(\"boolbase\"));\n/**\n * All reserved characters in a regex, used for escaping.\n *\n * Taken from XRegExp, (c) 2007-2020 Steven Levithan under the MIT license\n * https://github.com/slevithan/xregexp/blob/95eeebeb8fac8754d54eafe2b4743661ac1cf028/src/xregexp.js#L794\n */\nvar reChars = /[-[\\]{}()*+?.,\\\\^$|#\\s]/g;\nfunction escapeRegex(value) {\n    return value.replace(reChars, \"\\\\$&\");\n}\n/**\n * Attributes that are case-insensitive in HTML.\n *\n * @private\n * @see https://html.spec.whatwg.org/multipage/semantics-other.html#case-sensitivity-of-selectors\n */\nvar caseInsensitiveAttributes = new Set([\n    \"accept\",\n    \"accept-charset\",\n    \"align\",\n    \"alink\",\n    \"axis\",\n    \"bgcolor\",\n    \"charset\",\n    \"checked\",\n    \"clear\",\n    \"codetype\",\n    \"color\",\n    \"compact\",\n    \"declare\",\n    \"defer\",\n    \"dir\",\n    \"direction\",\n    \"disabled\",\n    \"enctype\",\n    \"face\",\n    \"frame\",\n    \"hreflang\",\n    \"http-equiv\",\n    \"lang\",\n    \"language\",\n    \"link\",\n    \"media\",\n    \"method\",\n    \"multiple\",\n    \"nohref\",\n    \"noresize\",\n    \"noshade\",\n    \"nowrap\",\n    \"readonly\",\n    \"rel\",\n    \"rev\",\n    \"rules\",\n    \"scope\",\n    \"scrolling\",\n    \"selected\",\n    \"shape\",\n    \"target\",\n    \"text\",\n    \"type\",\n    \"valign\",\n    \"valuetype\",\n    \"vlink\",\n]);\nfunction shouldIgnoreCase(selector, options) {\n    return typeof selector.ignoreCase === \"boolean\"\n        ? selector.ignoreCase\n        : selector.ignoreCase === \"quirks\"\n            ? !!options.quirksMode\n            : !options.xmlMode && caseInsensitiveAttributes.has(selector.name);\n}\n/**\n * Attribute selectors\n */\nexports.attributeRules = {\n    equals: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name;\n        var value = data.value;\n        if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    attr.length === value.length &&\n                    attr.toLowerCase() === value &&\n                    next(elem));\n            };\n        }\n        return function (elem) {\n            return adapter.getAttributeValue(elem, name) === value && next(elem);\n        };\n    },\n    hyphen: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name;\n        var value = data.value;\n        var len = value.length;\n        if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return function hyphenIC(elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    (attr.length === len || attr.charAt(len) === \"-\") &&\n                    attr.substr(0, len).toLowerCase() === value &&\n                    next(elem));\n            };\n        }\n        return function hyphen(elem) {\n            var attr = adapter.getAttributeValue(elem, name);\n            return (attr != null &&\n                (attr.length === len || attr.charAt(len) === \"-\") &&\n                attr.substr(0, len) === value &&\n                next(elem));\n        };\n    },\n    element: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name, value = data.value;\n        if (/\\s/.test(value)) {\n            return boolbase_1.default.falseFunc;\n        }\n        var regex = new RegExp(\"(?:^|\\\\s)\".concat(escapeRegex(value), \"(?:$|\\\\s)\"), shouldIgnoreCase(data, options) ? \"i\" : \"\");\n        return function element(elem) {\n            var attr = adapter.getAttributeValue(elem, name);\n            return (attr != null &&\n                attr.length >= value.length &&\n                regex.test(attr) &&\n                next(elem));\n        };\n    },\n    exists: function (next, _a, _b) {\n        var name = _a.name;\n        var adapter = _b.adapter;\n        return function (elem) { return adapter.hasAttrib(elem, name) && next(elem); };\n    },\n    start: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name;\n        var value = data.value;\n        var len = value.length;\n        if (len === 0) {\n            return boolbase_1.default.falseFunc;\n        }\n        if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    attr.length >= len &&\n                    attr.substr(0, len).toLowerCase() === value &&\n                    next(elem));\n            };\n        }\n        return function (elem) {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.startsWith(value)) &&\n                next(elem);\n        };\n    },\n    end: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name;\n        var value = data.value;\n        var len = -value.length;\n        if (len === 0) {\n            return boolbase_1.default.falseFunc;\n        }\n        if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var _a;\n                return ((_a = adapter\n                    .getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.substr(len).toLowerCase()) === value && next(elem);\n            };\n        }\n        return function (elem) {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.endsWith(value)) &&\n                next(elem);\n        };\n    },\n    any: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name, value = data.value;\n        if (value === \"\") {\n            return boolbase_1.default.falseFunc;\n        }\n        if (shouldIgnoreCase(data, options)) {\n            var regex_1 = new RegExp(escapeRegex(value), \"i\");\n            return function anyIC(elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    attr.length >= value.length &&\n                    regex_1.test(attr) &&\n                    next(elem));\n            };\n        }\n        return function (elem) {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.includes(value)) &&\n                next(elem);\n        };\n    },\n    not: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name;\n        var value = data.value;\n        if (value === \"\") {\n            return function (elem) {\n                return !!adapter.getAttributeValue(elem, name) && next(elem);\n            };\n        }\n        else if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return ((attr == null ||\n                    attr.length !== value.length ||\n                    attr.toLowerCase() !== value) &&\n                    next(elem));\n            };\n        }\n        return function (elem) {\n            return adapter.getAttributeValue(elem, name) !== value && next(elem);\n        };\n    },\n};\n//# sourceMappingURL=attributes.js.map","\"use strict\";\n// Following http://www.w3.org/TR/css3-selectors/#nth-child-pseudo\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = void 0;\n// Whitespace as per https://www.w3.org/TR/selectors-3/#lex is \" \\t\\r\\n\\f\"\nvar whitespace = new Set([9, 10, 12, 13, 32]);\nvar ZERO = \"0\".charCodeAt(0);\nvar NINE = \"9\".charCodeAt(0);\n/**\n * Parses an expression.\n *\n * @throws An `Error` if parsing fails.\n * @returns An array containing the integer step size and the integer offset of the nth rule.\n * @example nthCheck.parse(\"2n+3\"); // returns [2, 3]\n */\nfunction parse(formula) {\n    formula = formula.trim().toLowerCase();\n    if (formula === \"even\") {\n        return [2, 0];\n    }\n    else if (formula === \"odd\") {\n        return [2, 1];\n    }\n    // Parse [ ['-'|'+']? INTEGER? {N} [ S* ['-'|'+'] S* INTEGER ]?\n    var idx = 0;\n    var a = 0;\n    var sign = readSign();\n    var number = readNumber();\n    if (idx < formula.length && formula.charAt(idx) === \"n\") {\n        idx++;\n        a = sign * (number !== null && number !== void 0 ? number : 1);\n        skipWhitespace();\n        if (idx < formula.length) {\n            sign = readSign();\n            skipWhitespace();\n            number = readNumber();\n        }\n        else {\n            sign = number = 0;\n        }\n    }\n    // Throw if there is anything else\n    if (number === null || idx < formula.length) {\n        throw new Error(\"n-th rule couldn't be parsed ('\".concat(formula, \"')\"));\n    }\n    return [a, sign * number];\n    function readSign() {\n        if (formula.charAt(idx) === \"-\") {\n            idx++;\n            return -1;\n        }\n        if (formula.charAt(idx) === \"+\") {\n            idx++;\n        }\n        return 1;\n    }\n    function readNumber() {\n        var start = idx;\n        var value = 0;\n        while (idx < formula.length &&\n            formula.charCodeAt(idx) >= ZERO &&\n            formula.charCodeAt(idx) <= NINE) {\n            value = value * 10 + (formula.charCodeAt(idx) - ZERO);\n            idx++;\n        }\n        // Return `null` if we didn't read anything.\n        return idx === start ? null : value;\n    }\n    function skipWhitespace() {\n        while (idx < formula.length &&\n            whitespace.has(formula.charCodeAt(idx))) {\n            idx++;\n        }\n    }\n}\nexports.parse = parse;\n//# sourceMappingURL=parse.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generate = exports.compile = void 0;\nvar boolbase_1 = __importDefault(require(\"boolbase\"));\n/**\n * Returns a function that checks if an elements index matches the given rule\n * highly optimized to return the fastest solution.\n *\n * @param parsed A tuple [a, b], as returned by `parse`.\n * @returns A highly optimized function that returns whether an index matches the nth-check.\n * @example\n *\n * ```js\n * const check = nthCheck.compile([2, 3]);\n *\n * check(0); // `false`\n * check(1); // `false`\n * check(2); // `true`\n * check(3); // `false`\n * check(4); // `true`\n * check(5); // `false`\n * check(6); // `true`\n * ```\n */\nfunction compile(parsed) {\n    var a = parsed[0];\n    // Subtract 1 from `b`, to convert from one- to zero-indexed.\n    var b = parsed[1] - 1;\n    /*\n     * When `b <= 0`, `a * n` won't be lead to any matches for `a < 0`.\n     * Besides, the specification states that no elements are\n     * matched when `a` and `b` are 0.\n     *\n     * `b < 0` here as we subtracted 1 from `b` above.\n     */\n    if (b < 0 && a <= 0)\n        return boolbase_1.default.falseFunc;\n    // When `a` is in the range -1..1, it matches any element (so only `b` is checked).\n    if (a === -1)\n        return function (index) { return index <= b; };\n    if (a === 0)\n        return function (index) { return index === b; };\n    // When `b <= 0` and `a === 1`, they match any element.\n    if (a === 1)\n        return b < 0 ? boolbase_1.default.trueFunc : function (index) { return index >= b; };\n    /*\n     * Otherwise, modulo can be used to check if there is a match.\n     *\n     * Modulo doesn't care about the sign, so let's use `a`s absolute value.\n     */\n    var absA = Math.abs(a);\n    // Get `b mod a`, + a if this is negative.\n    var bMod = ((b % absA) + absA) % absA;\n    return a > 1\n        ? function (index) { return index >= b && index % absA === bMod; }\n        : function (index) { return index <= b && index % absA === bMod; };\n}\nexports.compile = compile;\n/**\n * Returns a function that produces a monotonously increasing sequence of indices.\n *\n * If the sequence has an end, the returned function will return `null` after\n * the last index in the sequence.\n *\n * @param parsed A tuple [a, b], as returned by `parse`.\n * @returns A function that produces a sequence of indices.\n * @example <caption>Always increasing (2n+3)</caption>\n *\n * ```js\n * const gen = nthCheck.generate([2, 3])\n *\n * gen() // `1`\n * gen() // `3`\n * gen() // `5`\n * gen() // `8`\n * gen() // `11`\n * ```\n *\n * @example <caption>With end value (-2n+10)</caption>\n *\n * ```js\n *\n * const gen = nthCheck.generate([-2, 5]);\n *\n * gen() // 0\n * gen() // 2\n * gen() // 4\n * gen() // null\n * ```\n */\nfunction generate(parsed) {\n    var a = parsed[0];\n    // Subtract 1 from `b`, to convert from one- to zero-indexed.\n    var b = parsed[1] - 1;\n    var n = 0;\n    // Make sure to always return an increasing sequence\n    if (a < 0) {\n        var aPos_1 = -a;\n        // Get `b mod a`\n        var minValue_1 = ((b % aPos_1) + aPos_1) % aPos_1;\n        return function () {\n            var val = minValue_1 + aPos_1 * n++;\n            return val > b ? null : val;\n        };\n    }\n    if (a === 0)\n        return b < 0\n            ? // There are no result — always return `null`\n                function () { return null; }\n            : // Return `b` exactly once\n                function () { return (n++ === 0 ? b : null); };\n    if (b < 0) {\n        b += a * Math.ceil(-b / a);\n    }\n    return function () { return a * n++ + b; };\n}\nexports.generate = generate;\n//# sourceMappingURL=compile.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sequence = exports.generate = exports.compile = exports.parse = void 0;\nvar parse_js_1 = require(\"./parse.js\");\nObject.defineProperty(exports, \"parse\", { enumerable: true, get: function () { return parse_js_1.parse; } });\nvar compile_js_1 = require(\"./compile.js\");\nObject.defineProperty(exports, \"compile\", { enumerable: true, get: function () { return compile_js_1.compile; } });\nObject.defineProperty(exports, \"generate\", { enumerable: true, get: function () { return compile_js_1.generate; } });\n/**\n * Parses and compiles a formula to a highly optimized function.\n * Combination of {@link parse} and {@link compile}.\n *\n * If the formula doesn't match any elements,\n * it returns [`boolbase`](https://github.com/fb55/boolbase)'s `falseFunc`.\n * Otherwise, a function accepting an _index_ is returned, which returns\n * whether or not the passed _index_ matches the formula.\n *\n * Note: The nth-rule starts counting at `1`, the returned function at `0`.\n *\n * @param formula The formula to compile.\n * @example\n * const check = nthCheck(\"2n+3\");\n *\n * check(0); // `false`\n * check(1); // `false`\n * check(2); // `true`\n * check(3); // `false`\n * check(4); // `true`\n * check(5); // `false`\n * check(6); // `true`\n */\nfunction nthCheck(formula) {\n    return (0, compile_js_1.compile)((0, parse_js_1.parse)(formula));\n}\nexports.default = nthCheck;\n/**\n * Parses and compiles a formula to a generator that produces a sequence of indices.\n * Combination of {@link parse} and {@link generate}.\n *\n * @param formula The formula to compile.\n * @returns A function that produces a sequence of indices.\n * @example <caption>Always increasing</caption>\n *\n * ```js\n * const gen = nthCheck.sequence('2n+3')\n *\n * gen() // `1`\n * gen() // `3`\n * gen() // `5`\n * gen() // `8`\n * gen() // `11`\n * ```\n *\n * @example <caption>With end value</caption>\n *\n * ```js\n *\n * const gen = nthCheck.sequence('-2n+5');\n *\n * gen() // 0\n * gen() // 2\n * gen() // 4\n * gen() // null\n * ```\n */\nfunction sequence(formula) {\n    return (0, compile_js_1.generate)((0, parse_js_1.parse)(formula));\n}\nexports.sequence = sequence;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.filters = void 0;\nvar nth_check_1 = __importDefault(require(\"nth-check\"));\nvar boolbase_1 = __importDefault(require(\"boolbase\"));\nfunction getChildFunc(next, adapter) {\n    return function (elem) {\n        var parent = adapter.getParent(elem);\n        return parent != null && adapter.isTag(parent) && next(elem);\n    };\n}\nexports.filters = {\n    contains: function (next, text, _a) {\n        var adapter = _a.adapter;\n        return function contains(elem) {\n            return next(elem) && adapter.getText(elem).includes(text);\n        };\n    },\n    icontains: function (next, text, _a) {\n        var adapter = _a.adapter;\n        var itext = text.toLowerCase();\n        return function icontains(elem) {\n            return (next(elem) &&\n                adapter.getText(elem).toLowerCase().includes(itext));\n        };\n    },\n    // Location specific methods\n    \"nth-child\": function (next, rule, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var func = (0, nth_check_1.default)(rule);\n        if (func === boolbase_1.default.falseFunc)\n            return boolbase_1.default.falseFunc;\n        if (func === boolbase_1.default.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthChild(elem) {\n            var siblings = adapter.getSiblings(elem);\n            var pos = 0;\n            for (var i = 0; i < siblings.length; i++) {\n                if (equals(elem, siblings[i]))\n                    break;\n                if (adapter.isTag(siblings[i])) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    \"nth-last-child\": function (next, rule, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var func = (0, nth_check_1.default)(rule);\n        if (func === boolbase_1.default.falseFunc)\n            return boolbase_1.default.falseFunc;\n        if (func === boolbase_1.default.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthLastChild(elem) {\n            var siblings = adapter.getSiblings(elem);\n            var pos = 0;\n            for (var i = siblings.length - 1; i >= 0; i--) {\n                if (equals(elem, siblings[i]))\n                    break;\n                if (adapter.isTag(siblings[i])) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    \"nth-of-type\": function (next, rule, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var func = (0, nth_check_1.default)(rule);\n        if (func === boolbase_1.default.falseFunc)\n            return boolbase_1.default.falseFunc;\n        if (func === boolbase_1.default.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthOfType(elem) {\n            var siblings = adapter.getSiblings(elem);\n            var pos = 0;\n            for (var i = 0; i < siblings.length; i++) {\n                var currentSibling = siblings[i];\n                if (equals(elem, currentSibling))\n                    break;\n                if (adapter.isTag(currentSibling) &&\n                    adapter.getName(currentSibling) === adapter.getName(elem)) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    \"nth-last-of-type\": function (next, rule, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var func = (0, nth_check_1.default)(rule);\n        if (func === boolbase_1.default.falseFunc)\n            return boolbase_1.default.falseFunc;\n        if (func === boolbase_1.default.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthLastOfType(elem) {\n            var siblings = adapter.getSiblings(elem);\n            var pos = 0;\n            for (var i = siblings.length - 1; i >= 0; i--) {\n                var currentSibling = siblings[i];\n                if (equals(elem, currentSibling))\n                    break;\n                if (adapter.isTag(currentSibling) &&\n                    adapter.getName(currentSibling) === adapter.getName(elem)) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    // TODO determine the actual root element\n    root: function (next, _rule, _a) {\n        var adapter = _a.adapter;\n        return function (elem) {\n            var parent = adapter.getParent(elem);\n            return (parent == null || !adapter.isTag(parent)) && next(elem);\n        };\n    },\n    scope: function (next, rule, options, context) {\n        var equals = options.equals;\n        if (!context || context.length === 0) {\n            // Equivalent to :root\n            return exports.filters[\"root\"](next, rule, options);\n        }\n        if (context.length === 1) {\n            // NOTE: can't be unpacked, as :has uses this for side-effects\n            return function (elem) { return equals(context[0], elem) && next(elem); };\n        }\n        return function (elem) { return context.includes(elem) && next(elem); };\n    },\n    hover: dynamicStatePseudo(\"isHovered\"),\n    visited: dynamicStatePseudo(\"isVisited\"),\n    active: dynamicStatePseudo(\"isActive\"),\n};\n/**\n * Dynamic state pseudos. These depend on optional Adapter methods.\n *\n * @param name The name of the adapter method to call.\n * @returns Pseudo for the `filters` object.\n */\nfunction dynamicStatePseudo(name) {\n    return function dynamicPseudo(next, _rule, _a) {\n        var adapter = _a.adapter;\n        var func = adapter[name];\n        if (typeof func !== \"function\") {\n            return boolbase_1.default.falseFunc;\n        }\n        return function active(elem) {\n            return func(elem) && next(elem);\n        };\n    };\n}\n//# sourceMappingURL=filters.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.verifyPseudoArgs = exports.pseudos = void 0;\n// While filters are precompiled, pseudos get called when they are needed\nexports.pseudos = {\n    empty: function (elem, _a) {\n        var adapter = _a.adapter;\n        return !adapter.getChildren(elem).some(function (elem) {\n            // FIXME: `getText` call is potentially expensive.\n            return adapter.isTag(elem) || adapter.getText(elem) !== \"\";\n        });\n    },\n    \"first-child\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        if (adapter.prevElementSibling) {\n            return adapter.prevElementSibling(elem) == null;\n        }\n        var firstChild = adapter\n            .getSiblings(elem)\n            .find(function (elem) { return adapter.isTag(elem); });\n        return firstChild != null && equals(elem, firstChild);\n    },\n    \"last-child\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var siblings = adapter.getSiblings(elem);\n        for (var i = siblings.length - 1; i >= 0; i--) {\n            if (equals(elem, siblings[i]))\n                return true;\n            if (adapter.isTag(siblings[i]))\n                break;\n        }\n        return false;\n    },\n    \"first-of-type\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var siblings = adapter.getSiblings(elem);\n        var elemName = adapter.getName(elem);\n        for (var i = 0; i < siblings.length; i++) {\n            var currentSibling = siblings[i];\n            if (equals(elem, currentSibling))\n                return true;\n            if (adapter.isTag(currentSibling) &&\n                adapter.getName(currentSibling) === elemName) {\n                break;\n            }\n        }\n        return false;\n    },\n    \"last-of-type\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var siblings = adapter.getSiblings(elem);\n        var elemName = adapter.getName(elem);\n        for (var i = siblings.length - 1; i >= 0; i--) {\n            var currentSibling = siblings[i];\n            if (equals(elem, currentSibling))\n                return true;\n            if (adapter.isTag(currentSibling) &&\n                adapter.getName(currentSibling) === elemName) {\n                break;\n            }\n        }\n        return false;\n    },\n    \"only-of-type\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var elemName = adapter.getName(elem);\n        return adapter\n            .getSiblings(elem)\n            .every(function (sibling) {\n            return equals(elem, sibling) ||\n                !adapter.isTag(sibling) ||\n                adapter.getName(sibling) !== elemName;\n        });\n    },\n    \"only-child\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        return adapter\n            .getSiblings(elem)\n            .every(function (sibling) { return equals(elem, sibling) || !adapter.isTag(sibling); });\n    },\n};\nfunction verifyPseudoArgs(func, name, subselect, argIndex) {\n    if (subselect === null) {\n        if (func.length > argIndex) {\n            throw new Error(\"Pseudo-class :\".concat(name, \" requires an argument\"));\n        }\n    }\n    else if (func.length === argIndex) {\n        throw new Error(\"Pseudo-class :\".concat(name, \" doesn't have any arguments\"));\n    }\n}\nexports.verifyPseudoArgs = verifyPseudoArgs;\n//# sourceMappingURL=pseudos.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.aliases = void 0;\n/**\n * Aliases are pseudos that are expressed as selectors.\n */\nexports.aliases = {\n    // Links\n    \"any-link\": \":is(a, area, link)[href]\",\n    link: \":any-link:not(:visited)\",\n    // Forms\n    // https://html.spec.whatwg.org/multipage/scripting.html#disabled-elements\n    disabled: \":is(\\n        :is(button, input, select, textarea, optgroup, option)[disabled],\\n        optgroup[disabled] > option,\\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\\n    )\",\n    enabled: \":not(:disabled)\",\n    checked: \":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)\",\n    required: \":is(input, select, textarea)[required]\",\n    optional: \":is(input, select, textarea):not([required])\",\n    // JQuery extensions\n    // https://html.spec.whatwg.org/multipage/form-elements.html#concept-option-selectedness\n    selected: \"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)\",\n    checkbox: \"[type=checkbox]\",\n    file: \"[type=file]\",\n    password: \"[type=password]\",\n    radio: \"[type=radio]\",\n    reset: \"[type=reset]\",\n    image: \"[type=image]\",\n    submit: \"[type=submit]\",\n    parent: \":not(:empty)\",\n    header: \":is(h1, h2, h3, h4, h5, h6)\",\n    button: \":is(button, input[type=button])\",\n    input: \":is(input, textarea, select, button)\",\n    text: \"input:is(:not([type!='']), [type=text])\",\n};\n//# sourceMappingURL=aliases.js.map","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.subselects = exports.getNextSiblings = exports.ensureIsTag = exports.PLACEHOLDER_ELEMENT = void 0;\nvar boolbase_1 = __importDefault(require(\"boolbase\"));\nvar sort_js_1 = require(\"../sort.js\");\n/** Used as a placeholder for :has. Will be replaced with the actual element. */\nexports.PLACEHOLDER_ELEMENT = {};\nfunction ensureIsTag(next, adapter) {\n    if (next === boolbase_1.default.falseFunc)\n        return boolbase_1.default.falseFunc;\n    return function (elem) { return adapter.isTag(elem) && next(elem); };\n}\nexports.ensureIsTag = ensureIsTag;\nfunction getNextSiblings(elem, adapter) {\n    var siblings = adapter.getSiblings(elem);\n    if (siblings.length <= 1)\n        return [];\n    var elemIndex = siblings.indexOf(elem);\n    if (elemIndex < 0 || elemIndex === siblings.length - 1)\n        return [];\n    return siblings.slice(elemIndex + 1).filter(adapter.isTag);\n}\nexports.getNextSiblings = getNextSiblings;\nfunction copyOptions(options) {\n    // Not copied: context, rootFunc\n    return {\n        xmlMode: !!options.xmlMode,\n        lowerCaseAttributeNames: !!options.lowerCaseAttributeNames,\n        lowerCaseTags: !!options.lowerCaseTags,\n        quirksMode: !!options.quirksMode,\n        cacheResults: !!options.cacheResults,\n        pseudos: options.pseudos,\n        adapter: options.adapter,\n        equals: options.equals,\n    };\n}\nvar is = function (next, token, options, context, compileToken) {\n    var func = compileToken(token, copyOptions(options), context);\n    return func === boolbase_1.default.trueFunc\n        ? next\n        : func === boolbase_1.default.falseFunc\n            ? boolbase_1.default.falseFunc\n            : function (elem) { return func(elem) && next(elem); };\n};\n/*\n * :not, :has, :is, :matches and :where have to compile selectors\n * doing this in src/pseudos.ts would lead to circular dependencies,\n * so we add them here\n */\nexports.subselects = {\n    is: is,\n    /**\n     * `:matches` and `:where` are aliases for `:is`.\n     */\n    matches: is,\n    where: is,\n    not: function (next, token, options, context, compileToken) {\n        var func = compileToken(token, copyOptions(options), context);\n        return func === boolbase_1.default.falseFunc\n            ? next\n            : func === boolbase_1.default.trueFunc\n                ? boolbase_1.default.falseFunc\n                : function (elem) { return !func(elem) && next(elem); };\n    },\n    has: function (next, subselect, options, _context, compileToken) {\n        var adapter = options.adapter;\n        var opts = copyOptions(options);\n        opts.relativeSelector = true;\n        var context = subselect.some(function (s) { return s.some(sort_js_1.isTraversal); })\n            ? // Used as a placeholder. Will be replaced with the actual element.\n                [exports.PLACEHOLDER_ELEMENT]\n            : undefined;\n        var compiled = compileToken(subselect, opts, context);\n        if (compiled === boolbase_1.default.falseFunc)\n            return boolbase_1.default.falseFunc;\n        var hasElement = ensureIsTag(compiled, adapter);\n        // If `compiled` is `trueFunc`, we can skip this.\n        if (context && compiled !== boolbase_1.default.trueFunc) {\n            /*\n             * `shouldTestNextSiblings` will only be true if the query starts with\n             * a traversal (sibling or adjacent). That means we will always have a context.\n             */\n            var _a = compiled.shouldTestNextSiblings, shouldTestNextSiblings_1 = _a === void 0 ? false : _a;\n            return function (elem) {\n                if (!next(elem))\n                    return false;\n                context[0] = elem;\n                var childs = adapter.getChildren(elem);\n                var nextElements = shouldTestNextSiblings_1\n                    ? __spreadArray(__spreadArray([], childs, true), getNextSiblings(elem, adapter), true) : childs;\n                return adapter.existsOne(hasElement, nextElements);\n            };\n        }\n        return function (elem) {\n            return next(elem) &&\n                adapter.existsOne(hasElement, adapter.getChildren(elem));\n        };\n    },\n};\n//# sourceMappingURL=subselects.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compilePseudoSelector = exports.aliases = exports.pseudos = exports.filters = void 0;\nvar css_what_1 = require(\"css-what\");\nvar filters_js_1 = require(\"./filters.js\");\nObject.defineProperty(exports, \"filters\", { enumerable: true, get: function () { return filters_js_1.filters; } });\nvar pseudos_js_1 = require(\"./pseudos.js\");\nObject.defineProperty(exports, \"pseudos\", { enumerable: true, get: function () { return pseudos_js_1.pseudos; } });\nvar aliases_js_1 = require(\"./aliases.js\");\nObject.defineProperty(exports, \"aliases\", { enumerable: true, get: function () { return aliases_js_1.aliases; } });\nvar subselects_js_1 = require(\"./subselects.js\");\nfunction compilePseudoSelector(next, selector, options, context, compileToken) {\n    var _a;\n    var name = selector.name, data = selector.data;\n    if (Array.isArray(data)) {\n        if (!(name in subselects_js_1.subselects)) {\n            throw new Error(\"Unknown pseudo-class :\".concat(name, \"(\").concat(data, \")\"));\n        }\n        return subselects_js_1.subselects[name](next, data, options, context, compileToken);\n    }\n    var userPseudo = (_a = options.pseudos) === null || _a === void 0 ? void 0 : _a[name];\n    var stringPseudo = typeof userPseudo === \"string\" ? userPseudo : aliases_js_1.aliases[name];\n    if (typeof stringPseudo === \"string\") {\n        if (data != null) {\n            throw new Error(\"Pseudo \".concat(name, \" doesn't have any arguments\"));\n        }\n        // The alias has to be parsed here, to make sure options are respected.\n        var alias = (0, css_what_1.parse)(stringPseudo);\n        return subselects_js_1.subselects[\"is\"](next, alias, options, context, compileToken);\n    }\n    if (typeof userPseudo === \"function\") {\n        (0, pseudos_js_1.verifyPseudoArgs)(userPseudo, name, data, 1);\n        return function (elem) { return userPseudo(elem, data) && next(elem); };\n    }\n    if (name in filters_js_1.filters) {\n        return filters_js_1.filters[name](next, data, options, context);\n    }\n    if (name in pseudos_js_1.pseudos) {\n        var pseudo_1 = pseudos_js_1.pseudos[name];\n        (0, pseudos_js_1.verifyPseudoArgs)(pseudo_1, name, data, 2);\n        return function (elem) { return pseudo_1(elem, options, data) && next(elem); };\n    }\n    throw new Error(\"Unknown pseudo-class :\".concat(name));\n}\nexports.compilePseudoSelector = compilePseudoSelector;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compileGeneralSelector = void 0;\nvar attributes_js_1 = require(\"./attributes.js\");\nvar index_js_1 = require(\"./pseudo-selectors/index.js\");\nvar css_what_1 = require(\"css-what\");\nfunction getElementParent(node, adapter) {\n    var parent = adapter.getParent(node);\n    if (parent && adapter.isTag(parent)) {\n        return parent;\n    }\n    return null;\n}\n/*\n * All available rules\n */\nfunction compileGeneralSelector(next, selector, options, context, compileToken) {\n    var adapter = options.adapter, equals = options.equals;\n    switch (selector.type) {\n        case css_what_1.SelectorType.PseudoElement: {\n            throw new Error(\"Pseudo-elements are not supported by css-select\");\n        }\n        case css_what_1.SelectorType.ColumnCombinator: {\n            throw new Error(\"Column combinators are not yet supported by css-select\");\n        }\n        case css_what_1.SelectorType.Attribute: {\n            if (selector.namespace != null) {\n                throw new Error(\"Namespaced attributes are not yet supported by css-select\");\n            }\n            if (!options.xmlMode || options.lowerCaseAttributeNames) {\n                selector.name = selector.name.toLowerCase();\n            }\n            return attributes_js_1.attributeRules[selector.action](next, selector, options);\n        }\n        case css_what_1.SelectorType.Pseudo: {\n            return (0, index_js_1.compilePseudoSelector)(next, selector, options, context, compileToken);\n        }\n        // Tags\n        case css_what_1.SelectorType.Tag: {\n            if (selector.namespace != null) {\n                throw new Error(\"Namespaced tag names are not yet supported by css-select\");\n            }\n            var name_1 = selector.name;\n            if (!options.xmlMode || options.lowerCaseTags) {\n                name_1 = name_1.toLowerCase();\n            }\n            return function tag(elem) {\n                return adapter.getName(elem) === name_1 && next(elem);\n            };\n        }\n        // Traversal\n        case css_what_1.SelectorType.Descendant: {\n            if (options.cacheResults === false ||\n                typeof WeakSet === \"undefined\") {\n                return function descendant(elem) {\n                    var current = elem;\n                    while ((current = getElementParent(current, adapter))) {\n                        if (next(current)) {\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n            }\n            // @ts-expect-error `ElementNode` is not extending object\n            var isFalseCache_1 = new WeakSet();\n            return function cachedDescendant(elem) {\n                var current = elem;\n                while ((current = getElementParent(current, adapter))) {\n                    if (!isFalseCache_1.has(current)) {\n                        if (adapter.isTag(current) && next(current)) {\n                            return true;\n                        }\n                        isFalseCache_1.add(current);\n                    }\n                }\n                return false;\n            };\n        }\n        case \"_flexibleDescendant\": {\n            // Include element itself, only used while querying an array\n            return function flexibleDescendant(elem) {\n                var current = elem;\n                do {\n                    if (next(current))\n                        return true;\n                } while ((current = getElementParent(current, adapter)));\n                return false;\n            };\n        }\n        case css_what_1.SelectorType.Parent: {\n            return function parent(elem) {\n                return adapter\n                    .getChildren(elem)\n                    .some(function (elem) { return adapter.isTag(elem) && next(elem); });\n            };\n        }\n        case css_what_1.SelectorType.Child: {\n            return function child(elem) {\n                var parent = adapter.getParent(elem);\n                return parent != null && adapter.isTag(parent) && next(parent);\n            };\n        }\n        case css_what_1.SelectorType.Sibling: {\n            return function sibling(elem) {\n                var siblings = adapter.getSiblings(elem);\n                for (var i = 0; i < siblings.length; i++) {\n                    var currentSibling = siblings[i];\n                    if (equals(elem, currentSibling))\n                        break;\n                    if (adapter.isTag(currentSibling) && next(currentSibling)) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n        }\n        case css_what_1.SelectorType.Adjacent: {\n            if (adapter.prevElementSibling) {\n                return function adjacent(elem) {\n                    var previous = adapter.prevElementSibling(elem);\n                    return previous != null && next(previous);\n                };\n            }\n            return function adjacent(elem) {\n                var siblings = adapter.getSiblings(elem);\n                var lastElement;\n                for (var i = 0; i < siblings.length; i++) {\n                    var currentSibling = siblings[i];\n                    if (equals(elem, currentSibling))\n                        break;\n                    if (adapter.isTag(currentSibling)) {\n                        lastElement = currentSibling;\n                    }\n                }\n                return !!lastElement && next(lastElement);\n            };\n        }\n        case css_what_1.SelectorType.Universal: {\n            if (selector.namespace != null && selector.namespace !== \"*\") {\n                throw new Error(\"Namespaced universal selectors are not yet supported by css-select\");\n            }\n            return next;\n        }\n    }\n}\nexports.compileGeneralSelector = compileGeneralSelector;\n//# sourceMappingURL=general.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compileToken = exports.compileUnsafe = exports.compile = void 0;\nvar css_what_1 = require(\"css-what\");\nvar boolbase_1 = __importDefault(require(\"boolbase\"));\nvar sort_js_1 = __importStar(require(\"./sort.js\"));\nvar general_js_1 = require(\"./general.js\");\nvar subselects_js_1 = require(\"./pseudo-selectors/subselects.js\");\n/**\n * Compiles a selector to an executable function.\n *\n * @param selector Selector to compile.\n * @param options Compilation options.\n * @param context Optional context for the selector.\n */\nfunction compile(selector, options, context) {\n    var next = compileUnsafe(selector, options, context);\n    return (0, subselects_js_1.ensureIsTag)(next, options.adapter);\n}\nexports.compile = compile;\nfunction compileUnsafe(selector, options, context) {\n    var token = typeof selector === \"string\" ? (0, css_what_1.parse)(selector) : selector;\n    return compileToken(token, options, context);\n}\nexports.compileUnsafe = compileUnsafe;\nfunction includesScopePseudo(t) {\n    return (t.type === css_what_1.SelectorType.Pseudo &&\n        (t.name === \"scope\" ||\n            (Array.isArray(t.data) &&\n                t.data.some(function (data) { return data.some(includesScopePseudo); }))));\n}\nvar DESCENDANT_TOKEN = { type: css_what_1.SelectorType.Descendant };\nvar FLEXIBLE_DESCENDANT_TOKEN = {\n    type: \"_flexibleDescendant\",\n};\nvar SCOPE_TOKEN = {\n    type: css_what_1.SelectorType.Pseudo,\n    name: \"scope\",\n    data: null,\n};\n/*\n * CSS 4 Spec (Draft): 3.4.1. Absolutizing a Relative Selector\n * http://www.w3.org/TR/selectors4/#absolutizing\n */\nfunction absolutize(token, _a, context) {\n    var adapter = _a.adapter;\n    // TODO Use better check if the context is a document\n    var hasContext = !!(context === null || context === void 0 ? void 0 : context.every(function (e) {\n        var parent = adapter.isTag(e) && adapter.getParent(e);\n        return e === subselects_js_1.PLACEHOLDER_ELEMENT || (parent && adapter.isTag(parent));\n    }));\n    for (var _i = 0, token_1 = token; _i < token_1.length; _i++) {\n        var t = token_1[_i];\n        if (t.length > 0 &&\n            (0, sort_js_1.isTraversal)(t[0]) &&\n            t[0].type !== css_what_1.SelectorType.Descendant) {\n            // Don't continue in else branch\n        }\n        else if (hasContext && !t.some(includesScopePseudo)) {\n            t.unshift(DESCENDANT_TOKEN);\n        }\n        else {\n            continue;\n        }\n        t.unshift(SCOPE_TOKEN);\n    }\n}\nfunction compileToken(token, options, context) {\n    var _a;\n    token.forEach(sort_js_1.default);\n    context = (_a = options.context) !== null && _a !== void 0 ? _a : context;\n    var isArrayContext = Array.isArray(context);\n    var finalContext = context && (Array.isArray(context) ? context : [context]);\n    // Check if the selector is relative\n    if (options.relativeSelector !== false) {\n        absolutize(token, options, finalContext);\n    }\n    else if (token.some(function (t) { return t.length > 0 && (0, sort_js_1.isTraversal)(t[0]); })) {\n        throw new Error(\"Relative selectors are not allowed when the `relativeSelector` option is disabled\");\n    }\n    var shouldTestNextSiblings = false;\n    var query = token\n        .map(function (rules) {\n        if (rules.length >= 2) {\n            var first = rules[0], second = rules[1];\n            if (first.type !== css_what_1.SelectorType.Pseudo ||\n                first.name !== \"scope\") {\n                // Ignore\n            }\n            else if (isArrayContext &&\n                second.type === css_what_1.SelectorType.Descendant) {\n                rules[1] = FLEXIBLE_DESCENDANT_TOKEN;\n            }\n            else if (second.type === css_what_1.SelectorType.Adjacent ||\n                second.type === css_what_1.SelectorType.Sibling) {\n                shouldTestNextSiblings = true;\n            }\n        }\n        return compileRules(rules, options, finalContext);\n    })\n        .reduce(reduceRules, boolbase_1.default.falseFunc);\n    query.shouldTestNextSiblings = shouldTestNextSiblings;\n    return query;\n}\nexports.compileToken = compileToken;\nfunction compileRules(rules, options, context) {\n    var _a;\n    return rules.reduce(function (previous, rule) {\n        return previous === boolbase_1.default.falseFunc\n            ? boolbase_1.default.falseFunc\n            : (0, general_js_1.compileGeneralSelector)(previous, rule, options, context, compileToken);\n    }, (_a = options.rootFunc) !== null && _a !== void 0 ? _a : boolbase_1.default.trueFunc);\n}\nfunction reduceRules(a, b) {\n    if (b === boolbase_1.default.falseFunc || a === boolbase_1.default.trueFunc) {\n        return a;\n    }\n    if (a === boolbase_1.default.falseFunc || b === boolbase_1.default.trueFunc) {\n        return b;\n    }\n    return function combine(elem) {\n        return a(elem) || b(elem);\n    };\n}\n//# sourceMappingURL=compile.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.aliases = exports.pseudos = exports.filters = exports.is = exports.selectOne = exports.selectAll = exports.prepareContext = exports._compileToken = exports._compileUnsafe = exports.compile = void 0;\nvar DomUtils = __importStar(require(\"domutils\"));\nvar boolbase_1 = __importDefault(require(\"boolbase\"));\nvar compile_js_1 = require(\"./compile.js\");\nvar subselects_js_1 = require(\"./pseudo-selectors/subselects.js\");\nvar defaultEquals = function (a, b) { return a === b; };\nvar defaultOptions = {\n    adapter: DomUtils,\n    equals: defaultEquals,\n};\nfunction convertOptionFormats(options) {\n    var _a, _b, _c, _d;\n    /*\n     * We force one format of options to the other one.\n     */\n    // @ts-expect-error Default options may have incompatible `Node` / `ElementNode`.\n    var opts = options !== null && options !== void 0 ? options : defaultOptions;\n    // @ts-expect-error Same as above.\n    (_a = opts.adapter) !== null && _a !== void 0 ? _a : (opts.adapter = DomUtils);\n    // @ts-expect-error `equals` does not exist on `Options`\n    (_b = opts.equals) !== null && _b !== void 0 ? _b : (opts.equals = (_d = (_c = opts.adapter) === null || _c === void 0 ? void 0 : _c.equals) !== null && _d !== void 0 ? _d : defaultEquals);\n    return opts;\n}\nfunction wrapCompile(func) {\n    return function addAdapter(selector, options, context) {\n        var opts = convertOptionFormats(options);\n        return func(selector, opts, context);\n    };\n}\n/**\n * Compiles the query, returns a function.\n */\nexports.compile = wrapCompile(compile_js_1.compile);\nexports._compileUnsafe = wrapCompile(compile_js_1.compileUnsafe);\nexports._compileToken = wrapCompile(compile_js_1.compileToken);\nfunction getSelectorFunc(searchFunc) {\n    return function select(query, elements, options) {\n        var opts = convertOptionFormats(options);\n        if (typeof query !== \"function\") {\n            query = (0, compile_js_1.compileUnsafe)(query, opts, elements);\n        }\n        var filteredElements = prepareContext(elements, opts.adapter, query.shouldTestNextSiblings);\n        return searchFunc(query, filteredElements, opts);\n    };\n}\nfunction prepareContext(elems, adapter, shouldTestNextSiblings) {\n    if (shouldTestNextSiblings === void 0) { shouldTestNextSiblings = false; }\n    /*\n     * Add siblings if the query requires them.\n     * See https://github.com/fb55/css-select/pull/43#issuecomment-225414692\n     */\n    if (shouldTestNextSiblings) {\n        elems = appendNextSiblings(elems, adapter);\n    }\n    return Array.isArray(elems)\n        ? adapter.removeSubsets(elems)\n        : adapter.getChildren(elems);\n}\nexports.prepareContext = prepareContext;\nfunction appendNextSiblings(elem, adapter) {\n    // Order matters because jQuery seems to check the children before the siblings\n    var elems = Array.isArray(elem) ? elem.slice(0) : [elem];\n    var elemsLength = elems.length;\n    for (var i = 0; i < elemsLength; i++) {\n        var nextSiblings = (0, subselects_js_1.getNextSiblings)(elems[i], adapter);\n        elems.push.apply(elems, nextSiblings);\n    }\n    return elems;\n}\n/**\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elems Elements to query. If it is an element, its children will be queried..\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns All matching elements.\n *\n */\nexports.selectAll = getSelectorFunc(function (query, elems, options) {\n    return query === boolbase_1.default.falseFunc || !elems || elems.length === 0\n        ? []\n        : options.adapter.findAll(query, elems);\n});\n/**\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elems Elements to query. If it is an element, its children will be queried..\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns the first match, or null if there was no match.\n */\nexports.selectOne = getSelectorFunc(function (query, elems, options) {\n    return query === boolbase_1.default.falseFunc || !elems || elems.length === 0\n        ? null\n        : options.adapter.findOne(query, elems);\n});\n/**\n * Tests whether or not an element is matched by query.\n *\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elem The element to test if it matches the query.\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns\n */\nfunction is(elem, query, options) {\n    var opts = convertOptionFormats(options);\n    return (typeof query === \"function\" ? query : (0, compile_js_1.compile)(query, opts))(elem);\n}\nexports.is = is;\n/**\n * Alias for selectAll(query, elems, options).\n * @see [compile] for supported selector queries.\n */\nexports.default = exports.selectAll;\n// Export filters, pseudos and aliases to allow users to supply their own.\n/** @deprecated Use the `pseudos` option instead. */\nvar index_js_1 = require(\"./pseudo-selectors/index.js\");\nObject.defineProperty(exports, \"filters\", { enumerable: true, get: function () { return index_js_1.filters; } });\nObject.defineProperty(exports, \"pseudos\", { enumerable: true, get: function () { return index_js_1.pseudos; } });\nObject.defineProperty(exports, \"aliases\", { enumerable: true, get: function () { return index_js_1.aliases; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction arr_back(arr) {\n    return arr[arr.length - 1];\n}\nexports.default = arr_back;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar type_1 = __importDefault(require(\"./nodes/type\"));\nfunction isTag(node) {\n    return node && node.nodeType === type_1.default.ELEMENT_NODE;\n}\nfunction getAttributeValue(elem, name) {\n    return isTag(elem) ? elem.getAttribute(name) : undefined;\n}\nfunction getName(elem) {\n    return ((elem && elem.rawTagName) || '').toLowerCase();\n}\nfunction getChildren(node) {\n    return node && node.childNodes;\n}\nfunction getParent(node) {\n    return node ? node.parentNode : null;\n}\nfunction getText(node) {\n    return node.text;\n}\nfunction removeSubsets(nodes) {\n    var idx = nodes.length;\n    var node;\n    var ancestor;\n    var replace;\n    // Check if each node (or one of its ancestors) is already contained in the\n    // array.\n    while (--idx > -1) {\n        node = ancestor = nodes[idx];\n        // Temporarily remove the node under consideration\n        nodes[idx] = null;\n        replace = true;\n        while (ancestor) {\n            if (nodes.indexOf(ancestor) > -1) {\n                replace = false;\n                nodes.splice(idx, 1);\n                break;\n            }\n            ancestor = getParent(ancestor);\n        }\n        // If the node has been found to be unique, re-insert it.\n        if (replace) {\n            nodes[idx] = node;\n        }\n    }\n    return nodes;\n}\nfunction existsOne(test, elems) {\n    return elems.some(function (elem) {\n        return isTag(elem) ? test(elem) || existsOne(test, getChildren(elem)) : false;\n    });\n}\nfunction getSiblings(node) {\n    var parent = getParent(node);\n    return parent ? getChildren(parent) : [];\n}\nfunction hasAttrib(elem, name) {\n    return getAttributeValue(elem, name) !== undefined;\n}\nfunction findOne(test, elems) {\n    var elem = null;\n    for (var i = 0, l = elems === null || elems === void 0 ? void 0 : elems.length; i < l && !elem; i++) {\n        var el = elems[i];\n        if (test(el)) {\n            elem = el;\n        }\n        else {\n            var childs = getChildren(el);\n            if (childs && childs.length > 0) {\n                elem = findOne(test, childs);\n            }\n        }\n    }\n    return elem;\n}\nfunction findAll(test, nodes) {\n    var result = [];\n    for (var i = 0, j = nodes.length; i < j; i++) {\n        if (!isTag(nodes[i]))\n            continue;\n        if (test(nodes[i]))\n            result.push(nodes[i]);\n        var childs = getChildren(nodes[i]);\n        if (childs)\n            result = result.concat(findAll(test, childs));\n    }\n    return result;\n}\nexports.default = {\n    isTag: isTag,\n    getAttributeValue: getAttributeValue,\n    getName: getName,\n    getChildren: getChildren,\n    getParent: getParent,\n    getText: getText,\n    removeSubsets: removeSubsets,\n    existsOne: existsOne,\n    getSiblings: getSiblings,\n    hasAttrib: hasAttrib,\n    findOne: findOne,\n    findAll: findAll\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VoidTag = /** @class */ (function () {\n    function VoidTag(addClosingSlash, tags) {\n        if (addClosingSlash === void 0) { addClosingSlash = false; }\n        this.addClosingSlash = addClosingSlash;\n        if (Array.isArray(tags)) {\n            this.voidTags = tags.reduce(function (set, tag) {\n                return set.add(tag.toLowerCase());\n            }, new Set());\n        }\n        else {\n            this.voidTags = ['area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'link', 'meta', 'param', 'source', 'track', 'wbr'].reduce(function (set, tag) {\n                return set.add(tag);\n            }, new Set());\n        }\n    }\n    VoidTag.prototype.formatNode = function (tag, attrs, innerHTML) {\n        var addClosingSlash = this.addClosingSlash;\n        var closingSpace = (addClosingSlash && attrs && !attrs.endsWith(' ')) ? ' ' : '';\n        var closingSlash = addClosingSlash ? \"\".concat(closingSpace, \"/\") : '';\n        return this.isVoidElement(tag.toLowerCase()) ? \"<\".concat(tag).concat(attrs).concat(closingSlash, \">\") : \"<\".concat(tag).concat(attrs, \">\").concat(innerHTML, \"</\").concat(tag, \">\");\n    };\n    VoidTag.prototype.isVoidElement = function (tag) {\n        return this.voidTags.has(tag);\n    };\n    return VoidTag;\n}());\nexports.default = VoidTag;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar he_1 = require(\"he\");\nvar node_1 = __importDefault(require(\"./node\"));\nvar type_1 = __importDefault(require(\"./type\"));\n/**\n * TextNode to contain a text element in DOM tree.\n * @param {string} value [description]\n */\nvar TextNode = /** @class */ (function (_super) {\n    __extends(TextNode, _super);\n    function TextNode(rawText, parentNode, range) {\n        var _this = _super.call(this, parentNode, range) || this;\n        /**\n         * Node Type declaration.\n         * @type {Number}\n         */\n        _this.nodeType = type_1.default.TEXT_NODE;\n        _this._rawText = rawText;\n        return _this;\n    }\n    TextNode.prototype.clone = function () {\n        return new TextNode(this._rawText, null);\n    };\n    Object.defineProperty(TextNode.prototype, \"rawText\", {\n        get: function () {\n            return this._rawText;\n        },\n        /**\n         * Set rawText and invalidate trimmed caches\n         */\n        set: function (text) {\n            this._rawText = text;\n            this._trimmedRawText = void 0;\n            this._trimmedText = void 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TextNode.prototype, \"trimmedRawText\", {\n        /**\n         * Returns raw text with all whitespace trimmed except single leading/trailing non-breaking space\n         */\n        get: function () {\n            if (this._trimmedRawText !== undefined)\n                return this._trimmedRawText;\n            this._trimmedRawText = trimText(this.rawText);\n            return this._trimmedRawText;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TextNode.prototype, \"trimmedText\", {\n        /**\n         * Returns text with all whitespace trimmed except single leading/trailing non-breaking space\n         */\n        get: function () {\n            if (this._trimmedText !== undefined)\n                return this._trimmedText;\n            this._trimmedText = trimText(this.text);\n            return this._trimmedText;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TextNode.prototype, \"text\", {\n        /**\n         * Get unescaped text value of current node and its children.\n         * @return {string} text content\n         */\n        get: function () {\n            return (0, he_1.decode)(this.rawText);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TextNode.prototype, \"isWhitespace\", {\n        /**\n         * Detect if the node contains only white space.\n         * @return {boolean}\n         */\n        get: function () {\n            return /^(\\s|&nbsp;)*$/.test(this.rawText);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TextNode.prototype.toString = function () {\n        return this.rawText;\n    };\n    return TextNode;\n}(node_1.default));\nexports.default = TextNode;\n/**\n * Trim whitespace except single leading/trailing non-breaking space\n */\nfunction trimText(text) {\n    var i = 0;\n    var startPos;\n    var endPos;\n    while (i >= 0 && i < text.length) {\n        if (/\\S/.test(text[i])) {\n            if (startPos === undefined) {\n                startPos = i;\n                i = text.length;\n            }\n            else {\n                endPos = i;\n                i = void 0;\n            }\n        }\n        if (startPos === undefined)\n            i++;\n        else\n            i--;\n    }\n    if (startPos === undefined)\n        startPos = 0;\n    if (endPos === undefined)\n        endPos = text.length - 1;\n    var hasLeadingSpace = startPos > 0 && /[^\\S\\r\\n]/.test(text[startPos - 1]);\n    var hasTrailingSpace = endPos < (text.length - 1) && /[^\\S\\r\\n]/.test(text[endPos + 1]);\n    return (hasLeadingSpace ? ' ' : '') + text.slice(startPos, endPos + 1) + (hasTrailingSpace ? ' ' : '');\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = exports.base_parse = void 0;\nvar css_select_1 = require(\"css-select\");\nvar he_1 = __importDefault(require(\"he\"));\nvar back_1 = __importDefault(require(\"../back\"));\nvar matcher_1 = __importDefault(require(\"../matcher\"));\nvar void_tag_1 = __importDefault(require(\"../void-tag\"));\nvar comment_1 = __importDefault(require(\"./comment\"));\nvar node_1 = __importDefault(require(\"./node\"));\nvar text_1 = __importDefault(require(\"./text\"));\nvar type_1 = __importDefault(require(\"./type\"));\nfunction decode(val) {\n    // clone string\n    return JSON.parse(JSON.stringify(he_1.default.decode(val)));\n}\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements\nvar Htags = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup'];\nvar Dtags = ['details', 'dialog', 'dd', 'div', 'dt'];\nvar Ftags = ['fieldset', 'figcaption', 'figure', 'footer', 'form'];\nvar tableTags = ['table', 'td', 'tr'];\nvar htmlTags = ['address', 'article', 'aside', 'blockquote', 'br', 'hr', 'li', 'main', 'nav', 'ol', 'p', 'pre', 'section', 'ul'];\nvar kBlockElements = new Set();\nfunction addToKBlockElement() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var addToSet = function (array) {\n        for (var index = 0; index < array.length; index++) {\n            var element = array[index];\n            kBlockElements.add(element);\n            kBlockElements.add(element.toUpperCase());\n        }\n    };\n    for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n        var arg = args_1[_a];\n        addToSet(arg);\n    }\n}\naddToKBlockElement(Htags, Dtags, Ftags, tableTags, htmlTags);\nvar DOMTokenList = /** @class */ (function () {\n    function DOMTokenList(valuesInit, afterUpdate) {\n        if (valuesInit === void 0) { valuesInit = []; }\n        if (afterUpdate === void 0) { afterUpdate = function () { return null; }; }\n        this._set = new Set(valuesInit);\n        this._afterUpdate = afterUpdate;\n    }\n    DOMTokenList.prototype._validate = function (c) {\n        if (/\\s/.test(c)) {\n            throw new Error(\"DOMException in DOMTokenList.add: The token '\".concat(c, \"' contains HTML space characters, which are not valid in tokens.\"));\n        }\n    };\n    DOMTokenList.prototype.add = function (c) {\n        this._validate(c);\n        this._set.add(c);\n        this._afterUpdate(this); // eslint-disable-line @typescript-eslint/no-unsafe-call\n    };\n    DOMTokenList.prototype.replace = function (c1, c2) {\n        this._validate(c2);\n        this._set.delete(c1);\n        this._set.add(c2);\n        this._afterUpdate(this); // eslint-disable-line @typescript-eslint/no-unsafe-call\n    };\n    DOMTokenList.prototype.remove = function (c) {\n        this._set.delete(c) && this._afterUpdate(this); // eslint-disable-line @typescript-eslint/no-unsafe-call\n    };\n    DOMTokenList.prototype.toggle = function (c) {\n        this._validate(c);\n        if (this._set.has(c))\n            this._set.delete(c);\n        else\n            this._set.add(c);\n        this._afterUpdate(this); // eslint-disable-line @typescript-eslint/no-unsafe-call\n    };\n    DOMTokenList.prototype.contains = function (c) {\n        return this._set.has(c);\n    };\n    Object.defineProperty(DOMTokenList.prototype, \"length\", {\n        get: function () {\n            return this._set.size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DOMTokenList.prototype.values = function () {\n        return this._set.values();\n    };\n    Object.defineProperty(DOMTokenList.prototype, \"value\", {\n        get: function () {\n            return Array.from(this._set.values());\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DOMTokenList.prototype.toString = function () {\n        return Array.from(this._set.values()).join(' ');\n    };\n    return DOMTokenList;\n}());\n/**\n * HTMLElement, which contains a set of children.\n *\n * Note: this is a minimalist implementation, no complete tree\n *   structure provided (no parentNode, nextSibling,\n *   previousSibling etc).\n * @class HTMLElement\n * @extends {Node}\n */\nvar HTMLElement = /** @class */ (function (_super) {\n    __extends(HTMLElement, _super);\n    /**\n     * Creates an instance of HTMLElement.\n     * @param keyAttrs\tid and class attribute\n     * @param [rawAttrs]\tattributes in string\n     *\n     * @memberof HTMLElement\n     */\n    function HTMLElement(tagName, keyAttrs, rawAttrs, parentNode, range, voidTag, _parseOptions) {\n        if (rawAttrs === void 0) { rawAttrs = ''; }\n        if (voidTag === void 0) { voidTag = new void_tag_1.default(); }\n        if (_parseOptions === void 0) { _parseOptions = {}; }\n        var _this = _super.call(this, parentNode, range) || this;\n        _this.rawAttrs = rawAttrs;\n        _this.voidTag = voidTag;\n        /**\n         * Node Type declaration.\n         */\n        _this.nodeType = type_1.default.ELEMENT_NODE;\n        _this.rawTagName = tagName;\n        _this.rawAttrs = rawAttrs || '';\n        _this.id = keyAttrs.id || '';\n        _this.childNodes = [];\n        _this._parseOptions = _parseOptions;\n        _this.classList = new DOMTokenList(keyAttrs.class ? keyAttrs.class.split(/\\s+/) : [], function (classList) { return _this.setAttribute('class', classList.toString()); } // eslint-disable-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\n        );\n        if (keyAttrs.id) {\n            if (!rawAttrs) {\n                _this.rawAttrs = \"id=\\\"\".concat(keyAttrs.id, \"\\\"\");\n            }\n        }\n        if (keyAttrs.class) {\n            if (!rawAttrs) {\n                var cls = \"class=\\\"\".concat(_this.classList.toString(), \"\\\"\");\n                if (_this.rawAttrs) {\n                    _this.rawAttrs += \" \".concat(cls);\n                }\n                else {\n                    _this.rawAttrs = cls;\n                }\n            }\n        }\n        return _this;\n    }\n    /**\n     * Quote attribute values\n     * @param attr attribute value\n     * @returns {string} quoted value\n     */\n    HTMLElement.prototype.quoteAttribute = function (attr) {\n        if (attr == null) {\n            return 'null';\n        }\n        return JSON.stringify(attr.replace(/\"/g, '&quot;'));\n    };\n    /**\n     * Remove Child element from childNodes array\n     * @param {HTMLElement} node     node to remove\n     */\n    HTMLElement.prototype.removeChild = function (node) {\n        this.childNodes = this.childNodes.filter(function (child) {\n            return child !== node;\n        });\n        return this;\n    };\n    /**\n     * Exchanges given child with new child\n     * @param {HTMLElement} oldNode     node to exchange\n     * @param {HTMLElement} newNode     new node\n     */\n    HTMLElement.prototype.exchangeChild = function (oldNode, newNode) {\n        var children = this.childNodes;\n        this.childNodes = children.map(function (child) {\n            if (child === oldNode) {\n                return newNode;\n            }\n            return child;\n        });\n        return this;\n    };\n    Object.defineProperty(HTMLElement.prototype, \"tagName\", {\n        get: function () {\n            return this.rawTagName ? this.rawTagName.toUpperCase() : this.rawTagName;\n        },\n        set: function (newname) {\n            this.rawTagName = newname.toLowerCase();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"localName\", {\n        get: function () {\n            return this.rawTagName.toLowerCase();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"isVoidElement\", {\n        get: function () {\n            return this.voidTag.isVoidElement(this.localName);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"rawText\", {\n        /**\n         * Get escpaed (as-it) text value of current node and its children.\n         * @return {string} text content\n         */\n        get: function () {\n            return this.childNodes.reduce(function (pre, cur) {\n                return (pre += cur.rawText);\n            }, '');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"textContent\", {\n        get: function () {\n            return decode(this.rawText);\n        },\n        set: function (val) {\n            var content = [new text_1.default(val, this)];\n            this.childNodes = content;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"text\", {\n        /**\n         * Get unescaped text value of current node and its children.\n         * @return {string} text content\n         */\n        get: function () {\n            return decode(this.rawText);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"structuredText\", {\n        /**\n         * Get structured Text (with '\\n' etc.)\n         * @return {string} structured text\n         */\n        get: function () {\n            var currentBlock = [];\n            var blocks = [currentBlock];\n            function dfs(node) {\n                if (node.nodeType === type_1.default.ELEMENT_NODE) {\n                    if (kBlockElements.has(node.rawTagName)) {\n                        if (currentBlock.length > 0) {\n                            blocks.push((currentBlock = []));\n                        }\n                        node.childNodes.forEach(dfs);\n                        if (currentBlock.length > 0) {\n                            blocks.push((currentBlock = []));\n                        }\n                    }\n                    else {\n                        node.childNodes.forEach(dfs);\n                    }\n                }\n                else if (node.nodeType === type_1.default.TEXT_NODE) {\n                    if (node.isWhitespace) {\n                        // Whitespace node, postponed output\n                        currentBlock.prependWhitespace = true;\n                    }\n                    else {\n                        var text = node.trimmedText;\n                        if (currentBlock.prependWhitespace) {\n                            text = \" \".concat(text);\n                            currentBlock.prependWhitespace = false;\n                        }\n                        currentBlock.push(text);\n                    }\n                }\n            }\n            dfs(this);\n            return blocks\n                .map(function (block) {\n                return block.join('').replace(/\\s{2,}/g, ' '); // Normalize each line's whitespace\n            })\n                .join('\\n')\n                .replace(/\\s+$/, ''); // trimRight;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HTMLElement.prototype.toString = function () {\n        var tag = this.rawTagName;\n        if (tag) {\n            var attrs = this.rawAttrs ? \" \".concat(this.rawAttrs) : '';\n            return this.voidTag.formatNode(tag, attrs, this.innerHTML);\n        }\n        return this.innerHTML;\n    };\n    Object.defineProperty(HTMLElement.prototype, \"innerHTML\", {\n        get: function () {\n            return this.childNodes\n                .map(function (child) {\n                return child.toString();\n            })\n                .join('');\n        },\n        set: function (content) {\n            var r = parse(content, this._parseOptions);\n            var nodes = r.childNodes.length ? r.childNodes : [new text_1.default(content, this)];\n            resetParent(nodes, this);\n            resetParent(this.childNodes, null);\n            this.childNodes = nodes;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HTMLElement.prototype.set_content = function (content, options) {\n        if (options === void 0) { options = {}; }\n        if (content instanceof node_1.default) {\n            content = [content];\n        }\n        else if (typeof content == 'string') {\n            options = __assign(__assign({}, this._parseOptions), options);\n            var r = parse(content, options);\n            content = r.childNodes.length ? r.childNodes : [new text_1.default(r.innerHTML, this)];\n        }\n        resetParent(this.childNodes, null);\n        resetParent(content, this);\n        this.childNodes = content;\n        return this;\n    };\n    HTMLElement.prototype.replaceWith = function () {\n        var _this = this;\n        var nodes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n        }\n        var parent = this.parentNode;\n        var content = nodes\n            .map(function (node) {\n            if (node instanceof node_1.default) {\n                return [node];\n            }\n            else if (typeof node == 'string') {\n                var r = parse(node, _this._parseOptions);\n                return r.childNodes.length ? r.childNodes : [new text_1.default(node, _this)];\n            }\n            return [];\n        })\n            .flat();\n        var idx = parent.childNodes.findIndex(function (child) {\n            return child === _this;\n        });\n        resetParent([this], null);\n        parent.childNodes = __spreadArray(__spreadArray(__spreadArray([], parent.childNodes.slice(0, idx), true), resetParent(content, parent), true), parent.childNodes.slice(idx + 1), true);\n        return this;\n    };\n    Object.defineProperty(HTMLElement.prototype, \"outerHTML\", {\n        get: function () {\n            return this.toString();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Trim element from right (in block) after seeing pattern in a TextNode.\n     * @param  {RegExp} pattern pattern to find\n     * @return {HTMLElement}    reference to current node\n     */\n    HTMLElement.prototype.trimRight = function (pattern) {\n        for (var i = 0; i < this.childNodes.length; i++) {\n            var childNode = this.childNodes[i];\n            if (childNode.nodeType === type_1.default.ELEMENT_NODE) {\n                childNode.trimRight(pattern);\n            }\n            else {\n                var index = childNode.rawText.search(pattern);\n                if (index > -1) {\n                    childNode.rawText = childNode.rawText.substr(0, index);\n                    // trim all following nodes.\n                    this.childNodes.length = i + 1;\n                }\n            }\n        }\n        return this;\n    };\n    Object.defineProperty(HTMLElement.prototype, \"structure\", {\n        /**\n         * Get DOM structure\n         * @return {string} strucutre\n         */\n        get: function () {\n            var res = [];\n            var indention = 0;\n            function write(str) {\n                res.push('  '.repeat(indention) + str);\n            }\n            function dfs(node) {\n                var idStr = node.id ? \"#\".concat(node.id) : '';\n                var classStr = node.classList.length ? \".\".concat(node.classList.value.join('.')) : ''; // eslint-disable-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-member-access, @typescript-eslint/restrict-template-expressions, @typescript-eslint/no-unsafe-call\n                write(\"\".concat(node.rawTagName).concat(idStr).concat(classStr));\n                indention++;\n                node.childNodes.forEach(function (childNode) {\n                    if (childNode.nodeType === type_1.default.ELEMENT_NODE) {\n                        dfs(childNode);\n                    }\n                    else if (childNode.nodeType === type_1.default.TEXT_NODE) {\n                        if (!childNode.isWhitespace) {\n                            write('#text');\n                        }\n                    }\n                });\n                indention--;\n            }\n            dfs(this);\n            return res.join('\\n');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Remove whitespaces in this sub tree.\n     * @return {HTMLElement} pointer to this\n     */\n    HTMLElement.prototype.removeWhitespace = function () {\n        var _this = this;\n        var o = 0;\n        this.childNodes.forEach(function (node) {\n            if (node.nodeType === type_1.default.TEXT_NODE) {\n                if (node.isWhitespace) {\n                    return;\n                }\n                node.rawText = node.trimmedRawText;\n            }\n            else if (node.nodeType === type_1.default.ELEMENT_NODE) {\n                node.removeWhitespace();\n            }\n            _this.childNodes[o++] = node;\n        });\n        this.childNodes.length = o;\n        return this;\n    };\n    /**\n     * Query CSS selector to find matching nodes.\n     * @param  {string}         selector Simplified CSS selector\n     * @return {HTMLElement[]}  matching elements\n     */\n    HTMLElement.prototype.querySelectorAll = function (selector) {\n        return (0, css_select_1.selectAll)(selector, this, {\n            xmlMode: true,\n            adapter: matcher_1.default,\n        });\n    };\n    /**\n     * Query CSS Selector to find matching node.\n     * @param  {string}         selector Simplified CSS selector\n     * @return {(HTMLElement|null)}    matching node\n     */\n    HTMLElement.prototype.querySelector = function (selector) {\n        return (0, css_select_1.selectOne)(selector, this, {\n            xmlMode: true,\n            adapter: matcher_1.default,\n        });\n    };\n    /**\n     * find elements by their tagName\n     * @param {string} tagName the tagName of the elements to select\n     */\n    HTMLElement.prototype.getElementsByTagName = function (tagName) {\n        var upperCasedTagName = tagName.toUpperCase();\n        var re = [];\n        var stack = [];\n        var currentNodeReference = this;\n        var index = 0;\n        // index turns to undefined once the stack is empty and the first condition occurs\n        // which happens once all relevant children are searched through\n        while (index !== undefined) {\n            var child = void 0;\n            // make it work with sparse arrays\n            do {\n                child = currentNodeReference.childNodes[index++];\n            } while (index < currentNodeReference.childNodes.length && child === undefined);\n            // if the child does not exist we move on with the last provided index (which belongs to the parentNode)\n            if (child === undefined) {\n                currentNodeReference = currentNodeReference.parentNode;\n                index = stack.pop();\n                continue;\n            }\n            if (child.nodeType === type_1.default.ELEMENT_NODE) {\n                // https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByTagName#syntax\n                if (tagName === '*' || child.tagName === upperCasedTagName)\n                    re.push(child);\n                // if children are existing push the current status to the stack and keep searching for elements in the level below\n                if (child.childNodes.length > 0) {\n                    stack.push(index);\n                    currentNodeReference = child;\n                    index = 0;\n                }\n            }\n        }\n        return re;\n    };\n    /**\n     * find element by it's id\n     * @param {string} id the id of the element to select\n     */\n    HTMLElement.prototype.getElementById = function (id) {\n        var stack = [];\n        var currentNodeReference = this;\n        var index = 0;\n        // index turns to undefined once the stack is empty and the first condition occurs\n        // which happens once all relevant children are searched through\n        while (index !== undefined) {\n            var child = void 0;\n            // make it work with sparse arrays\n            do {\n                child = currentNodeReference.childNodes[index++];\n            } while (index < currentNodeReference.childNodes.length && child === undefined);\n            // if the child does not exist we move on with the last provided index (which belongs to the parentNode)\n            if (child === undefined) {\n                currentNodeReference = currentNodeReference.parentNode;\n                index = stack.pop();\n                continue;\n            }\n            if (child.nodeType === type_1.default.ELEMENT_NODE) {\n                if (child.id === id) {\n                    return child;\n                }\n                ;\n                // if children are existing push the current status to the stack and keep searching for elements in the level below\n                if (child.childNodes.length > 0) {\n                    stack.push(index);\n                    currentNodeReference = child;\n                    index = 0;\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * traverses the Element and its parents (heading toward the document root) until it finds a node that matches the provided selector string. Will return itself or the matching ancestor. If no such element exists, it returns null.\n     * @param selector a DOMString containing a selector list\n     */\n    HTMLElement.prototype.closest = function (selector) {\n        var mapChild = new Map();\n        var el = this;\n        var old = null;\n        function findOne(test, elems) {\n            var elem = null;\n            for (var i = 0, l = elems.length; i < l && !elem; i++) {\n                var el_1 = elems[i];\n                if (test(el_1)) {\n                    elem = el_1;\n                }\n                else {\n                    var child = mapChild.get(el_1);\n                    if (child) {\n                        elem = findOne(test, [child]);\n                    }\n                }\n            }\n            return elem;\n        }\n        while (el) {\n            mapChild.set(el, old);\n            old = el;\n            el = el.parentNode;\n        }\n        el = this;\n        while (el) {\n            var e = (0, css_select_1.selectOne)(selector, el, {\n                xmlMode: true,\n                adapter: __assign(__assign({}, matcher_1.default), { getChildren: function (node) {\n                        var child = mapChild.get(node);\n                        return child && [child];\n                    }, getSiblings: function (node) {\n                        return [node];\n                    }, findOne: findOne, findAll: function () {\n                        return [];\n                    } }),\n            });\n            if (e) {\n                return e;\n            }\n            el = el.parentNode;\n        }\n        return null;\n    };\n    /**\n     * Append a child node to childNodes\n     * @param  {Node} node node to append\n     * @return {Node}      node appended\n     */\n    HTMLElement.prototype.appendChild = function (node) {\n        // remove the node from it's parent\n        node.remove();\n        this.childNodes.push(node);\n        node.parentNode = this;\n        return node;\n    };\n    Object.defineProperty(HTMLElement.prototype, \"firstChild\", {\n        /**\n         * Get first child node\n         * @return {Node} first child node\n         */\n        get: function () {\n            return this.childNodes[0];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"lastChild\", {\n        /**\n         * Get last child node\n         * @return {Node} last child node\n         */\n        get: function () {\n            return (0, back_1.default)(this.childNodes);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"attrs\", {\n        /**\n         * Get attributes\n         * @access private\n         * @return {Object} parsed and unescaped attributes\n         */\n        get: function () {\n            if (this._attrs) {\n                return this._attrs;\n            }\n            this._attrs = {};\n            var attrs = this.rawAttributes;\n            for (var key in attrs) {\n                var val = attrs[key] || '';\n                this._attrs[key.toLowerCase()] = decode(val);\n            }\n            return this._attrs;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"attributes\", {\n        get: function () {\n            var ret_attrs = {};\n            var attrs = this.rawAttributes;\n            for (var key in attrs) {\n                var val = attrs[key] || '';\n                ret_attrs[key] = decode(val);\n            }\n            return ret_attrs;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"rawAttributes\", {\n        /**\n         * Get escaped (as-is) attributes\n         * @return {Object} parsed attributes\n         */\n        get: function () {\n            if (this._rawAttrs) {\n                return this._rawAttrs;\n            }\n            var attrs = {};\n            if (this.rawAttrs) {\n                var re = /([a-zA-Z()[\\]#@$.?:][a-zA-Z0-9-_:()[\\]#]*)(?:\\s*=\\s*((?:'[^']*')|(?:\"[^\"]*\")|\\S+))?/g;\n                var match = void 0;\n                while ((match = re.exec(this.rawAttrs))) {\n                    var key = match[1];\n                    var val = match[2] || null;\n                    if (val && (val[0] === \"'\" || val[0] === \"\\\"\"))\n                        val = val.slice(1, val.length - 1);\n                    attrs[key] = attrs[key] || val;\n                }\n            }\n            this._rawAttrs = attrs;\n            return attrs;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HTMLElement.prototype.removeAttribute = function (key) {\n        var attrs = this.rawAttributes;\n        delete attrs[key];\n        // Update this.attribute\n        if (this._attrs) {\n            delete this._attrs[key];\n        }\n        // Update rawString\n        this.rawAttrs = Object.keys(attrs)\n            .map(function (name) {\n            var val = JSON.stringify(attrs[name]);\n            if (val === undefined || val === 'null') {\n                return name;\n            }\n            return \"\".concat(name, \"=\").concat(val);\n        })\n            .join(' ');\n        // Update this.id\n        if (key === 'id') {\n            this.id = '';\n        }\n        return this;\n    };\n    HTMLElement.prototype.hasAttribute = function (key) {\n        return key.toLowerCase() in this.attrs;\n    };\n    /**\n     * Get an attribute\n     * @return {string} value of the attribute\n     */\n    HTMLElement.prototype.getAttribute = function (key) {\n        return this.attrs[key.toLowerCase()];\n    };\n    /**\n     * Set an attribute value to the HTMLElement\n     * @param {string} key The attribute name\n     * @param {string} value The value to set, or null / undefined to remove an attribute\n     */\n    HTMLElement.prototype.setAttribute = function (key, value) {\n        var _this = this;\n        if (arguments.length < 2) {\n            throw new Error(\"Failed to execute 'setAttribute' on 'Element'\");\n        }\n        var k2 = key.toLowerCase();\n        var attrs = this.rawAttributes;\n        for (var k in attrs) {\n            if (k.toLowerCase() === k2) {\n                key = k;\n                break;\n            }\n        }\n        attrs[key] = String(value);\n        // update this.attrs\n        if (this._attrs) {\n            this._attrs[k2] = decode(attrs[key]);\n        }\n        // Update rawString\n        this.rawAttrs = Object.keys(attrs)\n            .map(function (name) {\n            var val = _this.quoteAttribute(attrs[name]);\n            if (val === 'null' || val === '\"\"')\n                return name;\n            return \"\".concat(name, \"=\").concat(val);\n        })\n            .join(' ');\n        // Update this.id\n        if (key === 'id') {\n            this.id = value;\n        }\n        return this;\n    };\n    /**\n     * Replace all the attributes of the HTMLElement by the provided attributes\n     * @param {Attributes} attributes the new attribute set\n     */\n    HTMLElement.prototype.setAttributes = function (attributes) {\n        var _this = this;\n        // Invalidate current this.attributes\n        if (this._attrs) {\n            delete this._attrs;\n        }\n        // Invalidate current this.rawAttributes\n        if (this._rawAttrs) {\n            delete this._rawAttrs;\n        }\n        // Update rawString\n        this.rawAttrs = Object.keys(attributes)\n            .map(function (name) {\n            var val = attributes[name];\n            if (val === 'null' || val === '\"\"')\n                return name;\n            return \"\".concat(name, \"=\").concat(_this.quoteAttribute(String(val)));\n        })\n            .join(' ');\n        return this;\n    };\n    HTMLElement.prototype.insertAdjacentHTML = function (where, html) {\n        var _a, _b, _c;\n        var _this = this;\n        if (arguments.length < 2) {\n            throw new Error('2 arguments required');\n        }\n        var p = parse(html, this._parseOptions);\n        if (where === 'afterend') {\n            var idx = this.parentNode.childNodes.findIndex(function (child) {\n                return child === _this;\n            });\n            resetParent(p.childNodes, this.parentNode);\n            (_a = this.parentNode.childNodes).splice.apply(_a, __spreadArray([idx + 1, 0], p.childNodes, false));\n        }\n        else if (where === 'afterbegin') {\n            resetParent(p.childNodes, this);\n            (_b = this.childNodes).unshift.apply(_b, p.childNodes);\n        }\n        else if (where === 'beforeend') {\n            p.childNodes.forEach(function (n) {\n                _this.appendChild(n);\n            });\n        }\n        else if (where === 'beforebegin') {\n            var idx = this.parentNode.childNodes.findIndex(function (child) {\n                return child === _this;\n            });\n            resetParent(p.childNodes, this.parentNode);\n            (_c = this.parentNode.childNodes).splice.apply(_c, __spreadArray([idx, 0], p.childNodes, false));\n        }\n        else {\n            throw new Error(\"The value provided ('\".concat(where, \"') is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'\"));\n        }\n        return this;\n        // if (!where || html === undefined || html === null) {\n        // \treturn;\n        // }\n    };\n    Object.defineProperty(HTMLElement.prototype, \"nextSibling\", {\n        get: function () {\n            if (this.parentNode) {\n                var children = this.parentNode.childNodes;\n                var i = 0;\n                while (i < children.length) {\n                    var child = children[i++];\n                    if (this === child)\n                        return children[i] || null;\n                }\n                return null;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"nextElementSibling\", {\n        get: function () {\n            if (this.parentNode) {\n                var children = this.parentNode.childNodes;\n                var i = 0;\n                var find = false;\n                while (i < children.length) {\n                    var child = children[i++];\n                    if (find) {\n                        if (child instanceof HTMLElement) {\n                            return child || null;\n                        }\n                    }\n                    else if (this === child) {\n                        find = true;\n                    }\n                }\n                return null;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"previousSibling\", {\n        get: function () {\n            if (this.parentNode) {\n                var children = this.parentNode.childNodes;\n                var i = children.length;\n                while (i > 0) {\n                    var child = children[--i];\n                    if (this === child)\n                        return children[i - 1] || null;\n                }\n                return null;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"previousElementSibling\", {\n        get: function () {\n            if (this.parentNode) {\n                var children = this.parentNode.childNodes;\n                var i = children.length;\n                var find = false;\n                while (i > 0) {\n                    var child = children[--i];\n                    if (find) {\n                        if (child instanceof HTMLElement) {\n                            return child || null;\n                        }\n                    }\n                    else if (this === child) {\n                        find = true;\n                    }\n                }\n                return null;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HTMLElement.prototype, \"classNames\", {\n        get: function () {\n            return this.classList.toString();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this Node\n     */\n    HTMLElement.prototype.clone = function () {\n        return parse(this.toString(), this._parseOptions).firstChild;\n    };\n    return HTMLElement;\n}(node_1.default));\nexports.default = HTMLElement;\n// https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\nvar kMarkupPattern = /<!--[\\s\\S]*?-->|<(\\/?)([a-zA-Z][-.:0-9_a-zA-Z]*)((?:\\s+[^>]*?(?:(?:'[^']*')|(?:\"[^\"]*\"))?)*)\\s*(\\/?)>/g;\nvar kAttributePattern = /(?:^|\\s)(id|class)\\s*=\\s*((?:'[^']*')|(?:\"[^\"]*\")|\\S+)/gi;\nvar kSelfClosingElements = {\n    area: true,\n    AREA: true,\n    base: true,\n    BASE: true,\n    br: true,\n    BR: true,\n    col: true,\n    COL: true,\n    hr: true,\n    HR: true,\n    img: true,\n    IMG: true,\n    input: true,\n    INPUT: true,\n    link: true,\n    LINK: true,\n    meta: true,\n    META: true,\n    source: true,\n    SOURCE: true,\n    embed: true,\n    EMBED: true,\n    param: true,\n    PARAM: true,\n    track: true,\n    TRACK: true,\n    wbr: true,\n    WBR: true,\n};\nvar kElementsClosedByOpening = {\n    li: { li: true, LI: true },\n    LI: { li: true, LI: true },\n    p: { p: true, div: true, P: true, DIV: true },\n    P: { p: true, div: true, P: true, DIV: true },\n    b: { div: true, DIV: true },\n    B: { div: true, DIV: true },\n    td: { td: true, th: true, TD: true, TH: true },\n    TD: { td: true, th: true, TD: true, TH: true },\n    th: { td: true, th: true, TD: true, TH: true },\n    TH: { td: true, th: true, TD: true, TH: true },\n    h1: { h1: true, H1: true },\n    H1: { h1: true, H1: true },\n    h2: { h2: true, H2: true },\n    H2: { h2: true, H2: true },\n    h3: { h3: true, H3: true },\n    H3: { h3: true, H3: true },\n    h4: { h4: true, H4: true },\n    H4: { h4: true, H4: true },\n    h5: { h5: true, H5: true },\n    H5: { h5: true, H5: true },\n    h6: { h6: true, H6: true },\n    H6: { h6: true, H6: true },\n};\nvar kElementsClosedByClosing = {\n    li: { ul: true, ol: true, UL: true, OL: true },\n    LI: { ul: true, ol: true, UL: true, OL: true },\n    a: { div: true, DIV: true },\n    A: { div: true, DIV: true },\n    b: { div: true, DIV: true },\n    B: { div: true, DIV: true },\n    i: { div: true, DIV: true },\n    I: { div: true, DIV: true },\n    p: { div: true, DIV: true },\n    P: { div: true, DIV: true },\n    td: { tr: true, table: true, TR: true, TABLE: true },\n    TD: { tr: true, table: true, TR: true, TABLE: true },\n    th: { tr: true, table: true, TR: true, TABLE: true },\n    TH: { tr: true, table: true, TR: true, TABLE: true },\n};\nvar frameflag = 'documentfragmentcontainer';\n/**\n * Parses HTML and returns a root element\n * Parse a chuck of HTML source.\n * @param  {string} data      html\n * @return {HTMLElement}      root element\n */\nfunction base_parse(data, options) {\n    var _a, _b;\n    if (options === void 0) { options = {}; }\n    var voidTag = new void_tag_1.default((_a = options === null || options === void 0 ? void 0 : options.voidTag) === null || _a === void 0 ? void 0 : _a.closingSlash, (_b = options === null || options === void 0 ? void 0 : options.voidTag) === null || _b === void 0 ? void 0 : _b.tags);\n    var elements = options.blockTextElements || {\n        script: true,\n        noscript: true,\n        style: true,\n        pre: true,\n    };\n    var element_names = Object.keys(elements);\n    var kBlockTextElements = element_names.map(function (it) { return new RegExp(\"^\".concat(it, \"$\"), 'i'); });\n    var kIgnoreElements = element_names.filter(function (it) { return elements[it]; }).map(function (it) { return new RegExp(\"^\".concat(it, \"$\"), 'i'); });\n    function element_should_be_ignore(tag) {\n        return kIgnoreElements.some(function (it) { return it.test(tag); });\n    }\n    function is_block_text_element(tag) {\n        return kBlockTextElements.some(function (it) { return it.test(tag); });\n    }\n    var createRange = function (startPos, endPos) { return [startPos - frameFlagOffset, endPos - frameFlagOffset]; };\n    var root = new HTMLElement(null, {}, '', null, [0, data.length], voidTag, options);\n    var currentParent = root;\n    var stack = [root];\n    var lastTextPos = -1;\n    var noNestedTagIndex = undefined;\n    var match;\n    // https://github.com/taoqf/node-html-parser/issues/38\n    data = \"<\".concat(frameflag, \">\").concat(data, \"</\").concat(frameflag, \">\");\n    var lowerCaseTagName = options.lowerCaseTagName, fixNestedATags = options.fixNestedATags;\n    var dataEndPos = data.length - (frameflag.length + 2);\n    var frameFlagOffset = frameflag.length + 2;\n    while ((match = kMarkupPattern.exec(data))) {\n        // Note: Object destructuring here consistently tests as higher performance than array destructuring\n        // eslint-disable-next-line prefer-const\n        var matchText = match[0], leadingSlash = match[1], tagName = match[2], attributes = match[3], closingSlash = match[4];\n        var matchLength = matchText.length;\n        var tagStartPos = kMarkupPattern.lastIndex - matchLength;\n        var tagEndPos = kMarkupPattern.lastIndex;\n        // Add TextNode if content\n        if (lastTextPos > -1) {\n            if (lastTextPos + matchLength < tagEndPos) {\n                var text = data.substring(lastTextPos, tagStartPos);\n                currentParent.appendChild(new text_1.default(text, currentParent, createRange(lastTextPos, tagStartPos)));\n            }\n        }\n        lastTextPos = kMarkupPattern.lastIndex;\n        // https://github.com/taoqf/node-html-parser/issues/38\n        // Skip frameflag node\n        if (tagName === frameflag)\n            continue;\n        // Handle comments\n        if (matchText[1] === '!') {\n            if (options.comment) {\n                // Only keep what is in between <!-- and -->\n                var text = data.substring(tagStartPos + 4, tagEndPos - 3);\n                currentParent.appendChild(new comment_1.default(text, currentParent, createRange(tagStartPos, tagEndPos)));\n            }\n            continue;\n        }\n        /* -- Handle tag matching -- */\n        // Fix tag casing if necessary\n        if (lowerCaseTagName)\n            tagName = tagName.toLowerCase();\n        // Handle opening tags (ie. <this> not </that>)\n        if (!leadingSlash) {\n            /* Populate attributes */\n            var attrs = {};\n            for (var attMatch = void 0; (attMatch = kAttributePattern.exec(attributes));) {\n                var key = attMatch[1], val = attMatch[2];\n                var isQuoted = val[0] === \"'\" || val[0] === \"\\\"\";\n                attrs[key.toLowerCase()] = isQuoted ? val.slice(1, val.length - 1) : val;\n            }\n            var parentTagName = currentParent.rawTagName;\n            if (!closingSlash && kElementsClosedByOpening[parentTagName]) {\n                if (kElementsClosedByOpening[parentTagName][tagName]) {\n                    stack.pop();\n                    currentParent = (0, back_1.default)(stack);\n                }\n            }\n            // Prevent nested A tags by terminating the last A and starting a new one : see issue #144\n            if (fixNestedATags && (tagName === 'a' || tagName === 'A')) {\n                if (noNestedTagIndex !== undefined) {\n                    stack.splice(noNestedTagIndex);\n                    currentParent = (0, back_1.default)(stack);\n                }\n                noNestedTagIndex = stack.length;\n            }\n            var tagEndPos_1 = kMarkupPattern.lastIndex;\n            var tagStartPos_1 = tagEndPos_1 - matchLength;\n            currentParent = currentParent.appendChild(\n            // Initialize range (end position updated later for closed tags)\n            new HTMLElement(tagName, attrs, attributes.slice(1), null, createRange(tagStartPos_1, tagEndPos_1), voidTag, options));\n            stack.push(currentParent);\n            if (is_block_text_element(tagName)) {\n                // Find closing tag\n                var closeMarkup = \"</\".concat(tagName, \">\");\n                var closeIndex = lowerCaseTagName\n                    ? data.toLocaleLowerCase().indexOf(closeMarkup, kMarkupPattern.lastIndex)\n                    : data.indexOf(closeMarkup, kMarkupPattern.lastIndex);\n                var textEndPos = closeIndex === -1 ? dataEndPos : closeIndex;\n                if (element_should_be_ignore(tagName)) {\n                    var text = data.substring(tagEndPos_1, textEndPos);\n                    if (text.length > 0 && /\\S/.test(text)) {\n                        currentParent.appendChild(new text_1.default(text, currentParent, createRange(tagEndPos_1, textEndPos)));\n                    }\n                }\n                if (closeIndex === -1) {\n                    lastTextPos = kMarkupPattern.lastIndex = data.length + 1;\n                }\n                else {\n                    lastTextPos = kMarkupPattern.lastIndex = closeIndex + closeMarkup.length;\n                    // Cause to be treated as self-closing, because no close found\n                    leadingSlash = '/';\n                }\n            }\n        }\n        // Handle closing tags or self-closed elements (ie </tag> or <br>)\n        if (leadingSlash || closingSlash || kSelfClosingElements[tagName]) {\n            while (true) {\n                if (noNestedTagIndex != null && (tagName === 'a' || tagName === 'A'))\n                    noNestedTagIndex = undefined;\n                if (currentParent.rawTagName === tagName) {\n                    // Update range end for closed tag\n                    currentParent.range[1] = createRange(-1, Math.max(lastTextPos, tagEndPos))[1];\n                    stack.pop();\n                    currentParent = (0, back_1.default)(stack);\n                    break;\n                }\n                else {\n                    var parentTagName = currentParent.tagName;\n                    // Trying to close current tag, and move on\n                    if (kElementsClosedByClosing[parentTagName]) {\n                        if (kElementsClosedByClosing[parentTagName][tagName]) {\n                            stack.pop();\n                            currentParent = (0, back_1.default)(stack);\n                            continue;\n                        }\n                    }\n                    // Use aggressive strategy to handle unmatching markups.\n                    break;\n                }\n            }\n        }\n    }\n    return stack;\n}\nexports.base_parse = base_parse;\n/**\n * Parses HTML and returns a root element\n * Parse a chuck of HTML source.\n */\nfunction parse(data, options) {\n    if (options === void 0) { options = {}; }\n    var stack = base_parse(data, options);\n    var root = stack[0];\n    var _loop_1 = function () {\n        // Handle each error elements.\n        var last = stack.pop();\n        var oneBefore = (0, back_1.default)(stack);\n        if (last.parentNode && last.parentNode.parentNode) {\n            if (last.parentNode === oneBefore && last.tagName === oneBefore.tagName) {\n                // Pair error case <h3> <h3> handle : Fixes to <h3> </h3>\n                // this is wrong, becouse this will put the H3 outside the current right position which should be inside the current Html Element, see issue 152 for more info\n                if (options.parseNoneClosedTags !== true) {\n                    oneBefore.removeChild(last);\n                    last.childNodes.forEach(function (child) {\n                        oneBefore.parentNode.appendChild(child);\n                    });\n                    stack.pop();\n                }\n            }\n            else {\n                // Single error  <div> <h3> </div> handle: Just removes <h3>\n                // Why remove? this is already a HtmlElement and the missing <H3> is already added in this case. see issue 152 for more info\n                // eslint-disable-next-line no-lonely-if\n                if (options.parseNoneClosedTags !== true) {\n                    oneBefore.removeChild(last);\n                    last.childNodes.forEach(function (child) {\n                        oneBefore.appendChild(child);\n                    });\n                }\n            }\n        }\n        else {\n            // If it's final element just skip.\n        }\n    };\n    while (stack.length > 1) {\n        _loop_1();\n    }\n    // response.childNodes.forEach((node) => {\n    // \tif (node instanceof HTMLElement) {\n    // \t\tnode.parentNode = null;\n    // \t}\n    // });\n    return root;\n}\nexports.parse = parse;\nfunction resetParent(nodes, parent) {\n    return nodes.map(function (node) {\n        node.parentNode = parent;\n        return node;\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = void 0;\nvar html_1 = require(\"./nodes/html\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return html_1.parse; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar html_1 = require(\"./nodes/html\");\n/**\n * Parses HTML and returns a root element\n * Parse a chuck of HTML source.\n */\nfunction valid(data, options) {\n    if (options === void 0) { options = {}; }\n    var stack = (0, html_1.base_parse)(data, options);\n    return Boolean(stack.length === 1);\n}\nexports.default = valid;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeType = exports.TextNode = exports.Node = exports.valid = exports.CommentNode = exports.HTMLElement = exports.parse = void 0;\nvar comment_1 = __importDefault(require(\"./nodes/comment\"));\nexports.CommentNode = comment_1.default;\nvar html_1 = __importDefault(require(\"./nodes/html\"));\nexports.HTMLElement = html_1.default;\nvar node_1 = __importDefault(require(\"./nodes/node\"));\nexports.Node = node_1.default;\nvar text_1 = __importDefault(require(\"./nodes/text\"));\nexports.TextNode = text_1.default;\nvar type_1 = __importDefault(require(\"./nodes/type\"));\nexports.NodeType = type_1.default;\nvar parse_1 = __importDefault(require(\"./parse\"));\nvar valid_1 = __importDefault(require(\"./valid\"));\nexports.valid = valid_1.default;\nfunction parse(data, options) {\n    if (options === void 0) { options = {}; }\n    return (0, parse_1.default)(data, options);\n}\nexports.default = parse;\nexports.parse = parse;\nparse.parse = parse_1.default;\nparse.HTMLElement = html_1.default;\nparse.CommentNode = comment_1.default;\nparse.valid = valid_1.default;\nparse.Node = node_1.default;\nparse.TextNode = text_1.default;\nparse.NodeType = type_1.default;\n","import { DesugaringStep } from \"./Conversion\"\nimport { TagRenderingConfigJson } from \"../Json/TagRenderingConfigJson\"\nimport { ConversionContext } from \"./ConversionContext\"\nimport { Utils } from \"../../../Utils\"\nimport Translations from \"../../../UI/i18n/Translations\"\nimport { DoesImageExist } from \"./Validation\"\n\nexport class DetectMappingsWithImages extends DesugaringStep<TagRenderingConfigJson> {\n    private readonly _doesImageExist: DoesImageExist\n\n    constructor(doesImageExist: DoesImageExist) {\n        super(\n            \"Checks that 'then'clauses in mappings don't have images, but use 'icon' instead\",\n            [],\n            \"DetectMappingsWithImages\"\n        )\n        this._doesImageExist = doesImageExist\n    }\n\n    /**\n     * const context = ConversionContext.test()\n     * const r = new DetectMappingsWithImages(new DoesImageExist(new Set<string>())).convert({\n     *     \"mappings\": [\n     *         {\n     *             \"if\": \"bicycle_parking=stands\",\n     *             \"then\": {\n     *                 \"en\": \"Staple racks <img style='width: 25%' src='./assets/layers/bike_parking/staple.svg'>\",\n     *                 \"nl\": \"Nietjes <img style='width: 25%'' src='./assets/layers/bike_parking/staple.svg'>\",\n     *                 \"fr\": \"Arceaux <img style='width: 25%'' src='./assets/layers/bike_parking/staple.svg'>\",\n     *                 \"gl\": \"De roda (Stands) <img style='width: 25%'' src='./assets/layers/bike_parking/staple.svg'>\",\n     *                 \"de\": \"Fahrradbügel <img style='width: 25%'' src='./assets/layers/bike_parking/staple.svg'>\",\n     *                 \"hu\": \"Korlát <img style='width: 25%' src='./assets/layers/bike_parking/staple.svg'>\",\n     *                 \"it\": \"Archetti <img style='width: 25%' src='./assets/layers/bike_parking/staple.svg'>\",\n     *                 \"zh_Hant\": \"單車架 <img style='width: 25%' src='./assets/layers/bike_parking/staple.svg'>\"\n     *             }\n     *         }]\n     * }, context);\n     * context.hasErrors() // => true\n     * context.getAll(\"error\").some(msg => msg.message.indexOf(\"./assets/layers/bike_parking/staple.svg\") >= 0) // => true\n     */\n    convert(json: TagRenderingConfigJson, context: ConversionContext): TagRenderingConfigJson {\n        if (json.mappings === undefined || json.mappings.length === 0) {\n            return json\n        }\n        const ignoreToken = \"ignore-image-in-then\"\n        for (let i = 0; i < json.mappings.length; i++) {\n            const mapping = json.mappings[i]\n            const ignore = mapping[\"#\"]?.indexOf(ignoreToken) >= 0\n            const images = Utils.Dedup(Translations.T(mapping.then)?.ExtractImages() ?? [])\n            const ctx = context.enters(\"mappings\", i)\n            if (images.length > 0) {\n                if (!ignore) {\n                    ctx.err(\n                        `A mapping has an image in the 'then'-clause. Remove the image there and use \\`\"icon\": <your-image>\\` instead. The images found are ${images.join(\n                            \", \"\n                        )}. (This check can be turned of by adding \"#\": \"${ignoreToken}\" in the mapping, but this is discouraged`\n                    )\n                } else {\n                    ctx.info(\n                        `Ignored image ${images.join(\n                            \", \"\n                        )} in 'then'-clause of a mapping as this check has been disabled`\n                    )\n\n                    for (const image of images) {\n                        this._doesImageExist.convert(image, ctx)\n                    }\n                }\n            } else if (ignore) {\n                ctx.warn(`Unused '${ignoreToken}' - please remove this`)\n            }\n        }\n\n        return json\n    }\n}\n","import { DesugaringStep } from \"./Conversion\"\nimport { TagRenderingConfigJson } from \"../Json/TagRenderingConfigJson\"\nimport { LayerConfigJson } from \"../Json/LayerConfigJson\"\nimport {\n    MappingConfigJson,\n    QuestionableTagRenderingConfigJson,\n} from \"../Json/QuestionableTagRenderingConfigJson\"\nimport { ConversionContext } from \"./ConversionContext\"\nimport { Translation } from \"../../../UI/i18n/Translation\"\nimport NameSuggestionIndex from \"../../../Logic/Web/NameSuggestionIndex\"\nimport { TagUtils } from \"../../../Logic/Tags/TagUtils\"\nimport { Tag } from \"../../../Logic/Tags/Tag\"\nimport Validators from \"../../../UI/InputElement/Validators\"\nimport { CheckTranslation } from \"./Validation\"\n\nexport class MiscTagRenderingChecks extends DesugaringStep<TagRenderingConfigJson> {\n    private readonly _layerConfig: LayerConfigJson\n\n    constructor(layerConfig?: LayerConfigJson) {\n        super(\"Miscellaneous checks on the tagrendering\", [\"special\"], \"MiscTagRenderingChecks\")\n        this._layerConfig = layerConfig\n    }\n\n    convert(\n        json: TagRenderingConfigJson | QuestionableTagRenderingConfigJson,\n        context: ConversionContext\n    ): TagRenderingConfigJson {\n        if (json[\"special\"] !== undefined) {\n            context.err(\n                'Detected `special` on the top level. Did you mean `{\"render\":{ \"special\": ... }}`'\n            )\n        }\n\n        if (Object.keys(json).length === 1 && typeof json[\"render\"] === \"string\") {\n            context.warn(\n                `use the content directly instead of {render: ${JSON.stringify(json[\"render\"])}}`\n            )\n        }\n\n        {\n            for (const key of [\"question\", \"questionHint\", \"render\"]) {\n                CheckTranslation.allowUndefined.convert(json[key], context.enter(key))\n            }\n            for (let i = 0; i < json.mappings?.length ?? 0; i++) {\n                const mapping: MappingConfigJson = json.mappings[i]\n                CheckTranslation.noUndefined.convert(\n                    mapping.then,\n                    context.enters(\"mappings\", i, \"then\")\n                )\n                if (!mapping.if) {\n                    console.log(\n                        \"Checking mappings\",\n                        i,\n                        \"if\",\n                        mapping.if,\n                        context.path.join(\".\"),\n                        mapping.then\n                    )\n                    context.enters(\"mappings\", i, \"if\").err(\"No `if` is defined\")\n                }\n                if (mapping.addExtraTags) {\n                    for (let j = 0; j < mapping.addExtraTags.length; j++) {\n                        if (!mapping.addExtraTags[j]) {\n                            context\n                                .enters(\"mappings\", i, \"addExtraTags\", j)\n                                .err(\n                                    \"Detected a 'null' or 'undefined' value. Either specify a tag or delete this item\"\n                                )\n                        }\n                    }\n                }\n                const en = mapping?.then?.[\"en\"]\n                if (en && this.detectYesOrNo(en)) {\n                    console.log(\"Found a match with yes or no: \", { en })\n                    context\n                        .enters(\"mappings\", i, \"then\")\n                        .warn(\n                            \"A mapping should not start with 'yes' or 'no'. If the attribute is known, it will only show 'yes' or 'no' <i>without</i> the question, resulting in a weird phrasing in the information box\"\n                        )\n                }\n            }\n        }\n        if (json[\"group\"]) {\n            context.err('Groups are deprecated, use `\"label\": [\"' + json[\"group\"] + '\"]` instead')\n        }\n\n        if (json[\"question\"] && json.freeform?.key === undefined && json.mappings === undefined) {\n            context.err(\n                \"A question is defined, but no mappings nor freeform (key) are. Add at least one of them\"\n            )\n        }\n        if (json[\"question\"] && !json.freeform && (json.mappings?.length ?? 0) == 1) {\n            context.err(\"A question is defined, but there is only one option to choose from.\")\n        }\n        if (json[\"questionHint\"] && !json[\"question\"]) {\n            context\n                .enter(\"questionHint\")\n                .err(\n                    \"A questionHint is defined, but no question is given. As such, the questionHint will never be shown\"\n                )\n        }\n\n        if (json.icon?.[\"size\"]) {\n            context\n                .enters(\"icon\", \"size\")\n                .err(\n                    \"size is not a valid attribute. Did you mean 'class'? Class can be one of `small`, `medium` or `large`\"\n                )\n        }\n\n        if (json.freeform) {\n            if (json.render === undefined) {\n                context\n                    .enter(\"render\")\n                    .err(\n                        \"This tagRendering allows to set a value to key \" +\n                            json.freeform.key +\n                            \", but does not define a `render`. Please, add a value here which contains `{\" +\n                            json.freeform.key +\n                            \"}`\"\n                    )\n            } else {\n                const render = new Translation(<any>json.render)\n                for (const ln in render.translations) {\n                    if (ln.startsWith(\"_\")) {\n                        continue\n                    }\n                    const txt: string = render.translations[ln]\n                    if (txt === \"\") {\n                        context.enter(\"render\").err(\" Rendering for language \" + ln + \" is empty\")\n                    }\n                    if (\n                        txt.indexOf(\"{\" + json.freeform.key + \"}\") >= 0 ||\n                        txt.indexOf(\"&LBRACE\" + json.freeform.key + \"&RBRACE\") >= 0\n                    ) {\n                        continue\n                    }\n                    if (txt.indexOf(\"{\" + json.freeform.key + \":\") >= 0) {\n                        continue\n                    }\n\n                    if (\n                        json.freeform[\"type\"] === \"opening_hours\" &&\n                        txt.indexOf(\"{opening_hours_table(\") >= 0\n                    ) {\n                        continue\n                    }\n                    const keyFirstArg = [\"canonical\", \"fediverse_link\", \"translated\"]\n                    if (\n                        keyFirstArg.some(\n                            (funcName) => txt.indexOf(`{${funcName}(${json.freeform.key}`) >= 0\n                        )\n                    ) {\n                        continue\n                    }\n                    if (\n                        json.freeform[\"type\"] === \"wikidata\" &&\n                        txt.indexOf(\"{wikipedia(\" + json.freeform.key) >= 0\n                    ) {\n                        continue\n                    }\n                    if (json.freeform.key === \"wikidata\" && txt.indexOf(\"{wikipedia()\") >= 0) {\n                        continue\n                    }\n                    if (\n                        json.freeform[\"type\"] === \"wikidata\" &&\n                        txt.indexOf(`{wikidata_label(${json.freeform.key})`) >= 0\n                    ) {\n                        continue\n                    }\n                    if (json.freeform.key.indexOf(\"wikidata\") >= 0) {\n                        context\n                            .enter(\"render\")\n                            .err(\n                                `The rendering for language ${ln} does not contain \\`{${json.freeform.key}}\\`. Did you perhaps forget to set \"freeform.type: 'wikidata'\"?`\n                            )\n                        continue\n                    }\n\n                    if (\n                        txt.indexOf(json.freeform.key) >= 0 &&\n                        txt.indexOf(\"{\" + json.freeform.key + \"}\") < 0\n                    ) {\n                        context\n                            .enter(\"render\")\n                            .err(\n                                `The rendering for language ${ln} does not contain \\`{${json.freeform.key}}\\`. However, it does contain ${json.freeform.key} without braces. Did you forget the braces?\\n\\tThe current text is ${txt}`\n                            )\n                        continue\n                    }\n\n                    context\n                        .enter(\"render\")\n                        .err(\n                            `The rendering for language ${ln} does not contain \\`{${json.freeform.key}}\\`. This is a bug, as this rendering should show exactly this freeform key!\\n\\tThe current text is ${txt}`\n                        )\n                }\n            }\n            if (\n                this._layerConfig?.source?.osmTags &&\n                NameSuggestionIndex.supportedTypes().indexOf(json.freeform.key) >= 0\n            ) {\n                const tags = TagUtils.TagD(this._layerConfig?.source?.osmTags)?.usedTags()\n                const suggestions = NameSuggestionIndex.getSuggestionsFor(json.freeform.key, tags)\n                if (suggestions === undefined) {\n                    context\n                        .enters(\"freeform\", \"type\")\n                        .err(\n                            \"No entry found in the 'Name Suggestion Index'. None of the 'osmSource'-tags match an entry in the NSI.\\n\\tOsmSource-tags are \" +\n                                tags.map((t) => new Tag(t.key, t.value).asHumanString()).join(\" ; \")\n                        )\n                }\n            } else if (json.freeform.type === \"nsi\") {\n                context\n                    .enters(\"freeform\", \"type\")\n                    .warn(\n                        \"No need to explicitly set type to 'NSI', autodetected based on freeform type\"\n                    )\n            }\n        }\n        if (json.render && json[\"question\"] && json.freeform === undefined) {\n            context.err(\n                `Detected a tagrendering which takes input without freeform key in ${context}; the question is ${new Translation(\n                    json[\"question\"]\n                ).textFor(\"en\")}`\n            )\n        }\n\n        const freeformType = json[\"freeform\"]?.[\"type\"]\n        if (freeformType) {\n            if (Validators.availableTypes.indexOf(freeformType) < 0) {\n                context\n                    .enters(\"freeform\", \"type\")\n                    .err(\n                        \"Unknown type: \" +\n                            freeformType +\n                            \"; try one of \" +\n                            Validators.availableTypes.join(\", \")\n                    )\n            }\n        }\n\n        if (context.hasErrors()) {\n            return undefined\n        }\n        return json\n    }\n\n    /**\n     * const obj = new MiscTagRenderingChecks()\n     * obj.detectYesOrNo(\"Yes, this place has\") // => true\n     * obj.detectYesOrNo(\"Yes\") // => true\n     * obj.detectYesOrNo(\"No, this place does not have...\") // => true\n     * obj.detectYesOrNo(\"This place does not have...\") // => false\n     */\n    private detectYesOrNo(en: string): boolean {\n        return en.toLowerCase().match(/^(yes|no)([,:;.?]|$)/) !== null\n    }\n}\n","import { Each, Fuse, On } from \"./Conversion\"\nimport { TagRenderingConfigJson } from \"../Json/TagRenderingConfigJson\"\nimport { LayerConfigJson } from \"../Json/LayerConfigJson\"\nimport { DetectMappingsWithImages } from \"./DetectMappingsWithImages\"\nimport {\n    DetectConflictingAddExtraTags,\n    DetectMappingsShadowedByCondition,\n    DetectShadowedMappings,\n    DoesImageExist,\n    ValidatePossibleLinks,\n} from \"./Validation\"\nimport { MiscTagRenderingChecks } from \"./MiscTagRenderingChecks\"\n\nexport class ValidateTagRenderings extends Fuse<TagRenderingConfigJson> {\n    constructor(layerConfig?: LayerConfigJson, doesImageExist?: DoesImageExist) {\n        super(\n            \"Various validation on tagRenderingConfigs\",\n            new MiscTagRenderingChecks(layerConfig),\n            new DetectShadowedMappings(layerConfig),\n\n            new DetectMappingsShadowedByCondition(),\n            new DetectConflictingAddExtraTags(),\n            // TODO enable   new DetectNonErasedKeysInMappings(),\n            new DetectMappingsWithImages(doesImageExist),\n            new On(\"render\", new ValidatePossibleLinks()),\n            new On(\"question\", new ValidatePossibleLinks()),\n            new On(\"questionHint\", new ValidatePossibleLinks()),\n            new On(\"mappings\", new Each(new On(\"then\", new ValidatePossibleLinks()))),\n            new MiscTagRenderingChecks(layerConfig)\n        )\n    }\n}\n","import { DesugaringStep, Each, On } from \"./Conversion\"\nimport { LayerConfigJson } from \"../Json/LayerConfigJson\"\nimport { ConversionContext } from \"./ConversionContext\"\nimport { TagUtils } from \"../../../Logic/Tags/TagUtils\"\nimport LayerConfig from \"../LayerConfig\"\nimport Constants from \"../../Constants\"\nimport { Utils } from \"../../../Utils\"\nimport DeleteConfig from \"../DeleteConfig\"\nimport { And } from \"../../../Logic/Tags/And\"\nimport { DoesImageExist, ValidateFilter, ValidatePointRendering } from \"./Validation\"\nimport { ValidateTagRenderings } from \"./ValidateTagRenderings\"\nimport { TagsFilterClosed } from \"../../../Logic/Tags/TagTypes\"\n\nexport class PrevalidateLayer extends DesugaringStep<LayerConfigJson> {\n    private readonly _isBuiltin: boolean\n    private readonly _doesImageExist: DoesImageExist\n    /**\n     * The paths where this layer is originally saved. Triggers some extra checks\n     */\n    private readonly _path: string\n    private readonly _studioValidations: boolean\n    private readonly _validatePointRendering = new ValidatePointRendering()\n\n    constructor(\n        path: string,\n        isBuiltin: boolean,\n        doesImageExist: DoesImageExist,\n        studioValidations: boolean\n    ) {\n        super(\"Runs various checks against common mistakes for a layer\", [], \"PrevalidateLayer\")\n        this._path = path\n        this._isBuiltin = isBuiltin\n        this._doesImageExist = doesImageExist\n        this._studioValidations = studioValidations\n    }\n\n    convert(json: LayerConfigJson, context: ConversionContext): LayerConfigJson {\n        if (json.id === undefined) {\n            context.enter(\"id\").err(`Not a valid layer: id is undefined`)\n        } else {\n            if (json.id?.toLowerCase() !== json.id) {\n                context.enter(\"id\").err(`The id of a layer should be lowercase: ${json.id}`)\n            }\n            const layerRegex = /[a-zA-Z][a-zA-Z_0-9]+/\n            if (json.id.match(layerRegex) === null) {\n                context.enter(\"id\").err(\"Invalid ID. A layer ID should match \" + layerRegex.source)\n            }\n        }\n\n        if (json.source === undefined) {\n            if (json.presets?.length < 1) {\n                context\n                    .enter(\"source\")\n                    .err(\n                        \"No source section is defined; please define one as data is not loaded otherwise\"\n                    )\n            }\n        } else {\n            if (json.source === \"special\" || json.source === \"special:library\") {\n            } else if (json.source && json.source[\"osmTags\"] === undefined) {\n                context\n                    .enters(\"source\", \"osmTags\")\n                    .err(\n                        \"No osmTags defined in the source section - these should always be present, even for geojson layer\"\n                    )\n            } else {\n                const osmTags = TagUtils.Tag(json.source[\"osmTags\"], context + \"source.osmTags\")\n                if (osmTags.isNegative()) {\n                    context\n                        .enters(\"source\", \"osmTags\")\n                        .err(\n                            \"The source states tags which give a very wide selection: it only uses negative expressions, which will result in too much and unexpected data. Add at least one required tag. The tags are:\\n\\t\" +\n                                osmTags.asHumanString(false, false, {})\n                        )\n                }\n            }\n\n            if (json.source[\"geoJsonSource\"] !== undefined) {\n                context\n                    .enters(\"source\", \"geoJsonSource\")\n                    .err(\"Use 'geoJson' instead of 'geoJsonSource'\")\n            }\n\n            if (json.source[\"geojson\"] !== undefined) {\n                context\n                    .enters(\"source\", \"geojson\")\n                    .err(\"Use 'geoJson' instead of 'geojson' (the J is a capital letter)\")\n            }\n        }\n\n        if(json[\"doCount\"] !== undefined){\n            context.err(\"Detected 'doCount'. did you mean: isCounted ?\")\n        }\n\n        if (\n            json.syncSelection !== undefined &&\n            LayerConfig.syncSelectionAllowed.indexOf(json.syncSelection) < 0\n        ) {\n            context\n                .enter(\"syncSelection\")\n                .err(\n                    \"Invalid sync-selection: must be one of \" +\n                        LayerConfig.syncSelectionAllowed.map((v) => `'${v}'`).join(\", \") +\n                        \" but got '\" +\n                        json.syncSelection +\n                        \"'\"\n                )\n        }\n        if (json[\"pointRenderings\"]?.length > 0) {\n            context\n                .enter(\"pointRenderings\")\n                .err(\"Detected a 'pointRenderingS', it is written singular\")\n        }\n\n        if (\n            !(json.pointRendering?.length > 0) &&\n            json.pointRendering !== null &&\n            json.source !== \"special\" &&\n            json.source !== \"special:library\"\n        ) {\n            context.enter(\"pointRendering\").err(\"There are no pointRenderings at all...\")\n        }\n\n        json.pointRendering?.forEach((pr, i) =>\n            this._validatePointRendering.convert(pr, context.enters(\"pointeRendering\", i))\n        )\n\n        if (json[\"mapRendering\"]) {\n            context.enter(\"mapRendering\").err(\"This layer has a legacy 'mapRendering'\")\n        }\n\n        if (json.presets?.length > 0) {\n            if (!(json.pointRendering?.length > 0)) {\n                context.enter(\"presets\").warn(\"A preset is defined, but there is no pointRendering\")\n            }\n        }\n\n        if (json.source === \"special\") {\n            if (!Constants.priviliged_layers.find((x) => x == json.id)) {\n                context.err(\n                    \"Layer \" +\n                        json.id +\n                        \" uses 'special' as source.osmTags. However, this layer is not a privileged layer\"\n                )\n            }\n        }\n\n        if(this._isBuiltin && json.allowMove === undefined && json.source[\"geoJson\"] === undefined) {\n            if (!Constants.priviliged_layers.find((x) => x == json.id)) {\n                context.err(\"Layer \" + json.id + \" does not have an explicit 'allowMove'\")\n            }\n        }\n\n        if (context.hasErrors()) {\n            return undefined\n        }\n\n        if (json.tagRenderings !== undefined && json.tagRenderings.length > 0) {\n            new On(\"tagRenderings\", new Each(new ValidateTagRenderings(json)))\n            if (json.title === undefined && json.source !== \"special:library\") {\n                context\n                    .enter(\"title\")\n                    .err(\n                        \"This layer does not have a title defined but it does have tagRenderings. Not having a title will disable the popups, resulting in an unclickable element. Please add a title. If not having a popup is intended and the tagrenderings need to be kept (e.g. in a library layer), set `title: null` to disable this error.\"\n                    )\n            }\n            if (json.title === null) {\n                context.info(\n                    \"Title is `null`. This results in an element that cannot be clicked - even though tagRenderings is set.\"\n                )\n            }\n\n            {\n                // Check for multiple, identical builtin questions - usability for studio users\n                const duplicates = Utils.Duplicates(\n                    <string[]>json.tagRenderings.filter((tr) => typeof tr === \"string\")\n                )\n                for (let i = 0; i < json.tagRenderings.length; i++) {\n                    const tagRendering = json.tagRenderings[i]\n                    if (typeof tagRendering === \"string\" && duplicates.indexOf(tagRendering) > 0) {\n                        context\n                            .enters(\"tagRenderings\", i)\n                            .err(`This builtin question is used multiple times (${tagRendering})`)\n                    }\n                }\n            }\n        }\n\n        if (json[\"builtin\"] !== undefined) {\n            context.err(\"This layer hasn't been expanded: \" + json)\n            return null\n        }\n\n        if (json.minzoom > Constants.minZoomLevelToAddNewPoint) {\n            const c = context.enter(\"minzoom\")\n            const msg = `Minzoom is ${json.minzoom}, this should be at most ${Constants.minZoomLevelToAddNewPoint} as a preset is set. Why? Selecting the pin for a new item will zoom in to level before adding the point. Having a greater minzoom will hide the points, resulting in possible duplicates`\n            if (json.presets?.length > 0) {\n                c.err(msg)\n            } else {\n                c.warn(msg)\n            }\n        }\n        {\n            // duplicate ids in tagrenderings check\n            const duplicates = Utils.NoNull(\n                Utils.Duplicates(Utils.NoNull((json.tagRenderings ?? []).map((tr) => tr[\"id\"])))\n            )\n            if (duplicates.length > 0) {\n                // It is tempting to add an index to this warning; however, due to labels the indices here might be different from the index in the tagRendering list\n                context\n                    .enter(\"tagRenderings\")\n                    .err(\n                        \"Some tagrenderings have a duplicate id: \" +\n                            duplicates.join(\", \") +\n                            \"\\n\" +\n                            JSON.stringify(\n                                json.tagRenderings.filter((tr) => duplicates.indexOf(tr[\"id\"]) >= 0)\n                            )\n                    )\n            }\n        }\n\n        if (json.deletion !== undefined && json.deletion instanceof DeleteConfig) {\n            if (json.deletion.softDeletionTags === undefined) {\n                context\n                    .enter(\"deletion\")\n                    .warn(\"No soft-deletion tags in deletion block for layer \" + json.id)\n            }\n        }\n\n        try {\n        } catch (e) {\n            context.err(\"Could not validate layer due to: \" + e + e.stack)\n        }\n\n        if (this._studioValidations) {\n            if (!json.description) {\n                context.enter(\"description\").err(\"A description is required\")\n            }\n            if (!json.name) {\n                context.enter(\"name\").err(\"A name is required\")\n            }\n        }\n\n        if (this._isBuiltin) {\n            // Some checks for legacy elements\n\n            if (json[\"overpassTags\"] !== undefined) {\n                context.err(\n                    \"Layer \" +\n                        json.id +\n                        'still uses the old \\'overpassTags\\'-format. Please use \"source\": {\"osmTags\": <tags>}\\' instead of \"overpassTags\": <tags> (note: this isn\\'t your fault, the custom theme generator still spits out the old format)'\n                )\n            }\n            const forbiddenTopLevel = [\n                \"icon\",\n                \"wayHandling\",\n                \"roamingRenderings\",\n                \"roamingRendering\",\n                \"label\",\n                \"width\",\n                \"color\",\n                \"colour\",\n                \"iconOverlays\",\n            ]\n            for (const forbiddenKey of forbiddenTopLevel) {\n                if (json[forbiddenKey] !== undefined)\n                    context.err(\"Layer \" + json.id + \" still has a forbidden key \" + forbiddenKey)\n            }\n            if (json[\"hideUnderlayingFeaturesMinPercentage\"] !== undefined) {\n                context.err(\n                    \"Layer \" + json.id + \" contains an old 'hideUnderlayingFeaturesMinPercentage'\"\n                )\n            }\n\n            if (\n                json.isShown !== undefined &&\n                (json.isShown[\"render\"] !== undefined || json.isShown[\"mappings\"] !== undefined)\n            ) {\n                context.warn(\"Has a tagRendering as `isShown`\")\n            }\n        }\n        if (this._isBuiltin) {\n            // Check location of layer file\n            const expected: string = `assets/layers/${json.id}/${json.id}.json`\n            if (this._path != undefined && this._path.indexOf(expected) < 0) {\n                context.err(\n                    \"Layer is in an incorrect place. The path is \" +\n                        this._path +\n                        \", but expected \" +\n                        expected\n                )\n            }\n        }\n        if (this._isBuiltin) {\n            // Check for correct IDs\n            if (json.tagRenderings?.some((tr) => tr[\"id\"] === \"\")) {\n                const emptyIndexes: number[] = []\n                for (let i = 0; i < json.tagRenderings.length; i++) {\n                    const tagRendering = json.tagRenderings[i]\n                    if (tagRendering[\"id\"] === \"\") {\n                        emptyIndexes.push(i)\n                    }\n                }\n                context\n                    .enter([\"tagRenderings\", ...emptyIndexes])\n                    .err(\n                        `Some tagrendering-ids are empty or have an emtpy string; this is not allowed (at ${emptyIndexes.join(\n                            \",\"\n                        )}])`\n                    )\n            }\n\n            const duplicateIds = Utils.Duplicates(\n                (json.tagRenderings ?? [])?.map((f) => f[\"id\"]).filter((id) => id !== \"questions\")\n            )\n            if (duplicateIds.length > 0 && !Utils.runningFromConsole) {\n                context\n                    .enter(\"tagRenderings\")\n                    .err(`Some tagRenderings have a duplicate id: ${duplicateIds}`)\n            }\n\n            if (json.description === undefined) {\n                if (typeof json.source === null) {\n                    context.err(\"A priviliged layer must have a description\")\n                } else {\n                    context.warn(\"A builtin layer should have a description\")\n                }\n            }\n        }\n\n        if (json.filter) {\n            new On(\"filter\", new Each(new ValidateFilter())).convert(json, context)\n        }\n\n        if (json.tagRenderings !== undefined) {\n            new On(\n                \"tagRenderings\",\n                new Each(new ValidateTagRenderings(json, this._doesImageExist))\n            ).convert(json, context)\n        }\n\n        if (json.pointRendering !== null && json.pointRendering !== undefined) {\n            if (!Array.isArray(json.pointRendering)) {\n                throw (\n                    \"pointRendering in \" +\n                    json.id +\n                    \" is not iterable, it is: \" +\n                    typeof json.pointRendering\n                )\n            }\n            for (let i = 0; i < json.pointRendering.length; i++) {\n                const pointRendering = json.pointRendering[i]\n                if (pointRendering.marker === undefined) {\n                    continue\n                }\n                for (const icon of pointRendering?.marker) {\n                    const indexM = pointRendering?.marker.indexOf(icon)\n                    if (!icon.icon) {\n                        continue\n                    }\n                    if (icon.icon[\"condition\"]) {\n                        context\n                            .enters(\"pointRendering\", i, \"marker\", indexM, \"icon\", \"condition\")\n                            .err(\n                                \"Don't set a condition in a marker as this will result in an invisible but clickable element. Use extra filters in the source instead.\"\n                            )\n                    }\n                }\n            }\n        }\n\n        if (json.presets !== undefined) {\n            if (typeof json.source === \"string\") {\n                context.enter(\"presets\").err(\"A special layer cannot have presets\")\n            }\n            let baseTags: TagsFilterClosed\n            if (json.source) {\n                // Check that a preset will be picked up by the layer itself\n                baseTags = TagUtils.Tag(json.source[\"osmTags\"])\n            }\n            for (let i = 0; i < json.presets.length; i++) {\n                const preset = json.presets[i]\n                if (!preset) {\n                    context.enters(\"presets\", i).err(\"This preset is undefined\")\n                    continue\n                }\n                if (!preset.tags) {\n                    context.enters(\"presets\", i, \"tags\").err(\"No tags defined for this preset\")\n                    continue\n                }\n                if (!preset.tags) {\n                    context.enters(\"presets\", i, \"title\").err(\"No title defined for this preset\")\n                }\n\n                const tags = new And(preset.tags.map((t) => TagUtils.Tag(t)))\n                const properties = {}\n                for (const tag of tags.asChange({ id: \"node/-1\" })) {\n                    properties[tag.k] = tag.v\n                }\n                if (baseTags) {\n                    const doMatch = baseTags.matchesProperties(properties)\n                    if (!doMatch) {\n                        context\n                            .enters(\"presets\", i, \"tags\")\n                            .err(\n                                \"This preset does not match the required tags of this layer. This implies that a newly added point will not show up.\\n    A newly created point will have properties: \" +\n                                    tags.asHumanString(false, false, {}) +\n                                    \"\\n    The required tags are: \" +\n                                    baseTags.asHumanString(false, false, {})\n                            )\n                    }\n                }\n            }\n        }\n        return json\n    }\n}\n","import { Conversion, DesugaringStep, Fuse } from \"./Conversion\"\nimport { LayerConfigJson } from \"../Json/LayerConfigJson\"\nimport LayerConfig from \"../LayerConfig\"\nimport { Utils } from \"../../../Utils\"\nimport Constants from \"../../Constants\"\nimport { Translation } from \"../../../UI/i18n/Translation\"\nimport { LayoutConfigJson } from \"../Json/LayoutConfigJson\"\nimport LayoutConfig from \"../LayoutConfig\"\nimport { TagRenderingConfigJson } from \"../Json/TagRenderingConfigJson\"\nimport { TagUtils } from \"../../../Logic/Tags/TagUtils\"\nimport { And } from \"../../../Logic/Tags/And\"\nimport FilterConfigJson from \"../Json/FilterConfigJson\"\nimport { QuestionableTagRenderingConfigJson } from \"../Json/QuestionableTagRenderingConfigJson\"\nimport Validators from \"../../../UI/InputElement/Validators\"\nimport TagRenderingConfig from \"../TagRenderingConfig\"\nimport { parse as parse_html } from \"node-html-parser\"\nimport PresetConfig from \"../PresetConfig\"\nimport { TagsFilter } from \"../../../Logic/Tags/TagsFilter\"\nimport { Translatable } from \"../Json/Translatable\"\nimport { ConversionContext } from \"./ConversionContext\"\nimport PointRenderingConfigJson from \"../Json/PointRenderingConfigJson\"\nimport { PrevalidateLayer } from \"./PrevalidateLayer\"\n\nexport class ValidateLanguageCompleteness extends DesugaringStep<LayoutConfig> {\n    private readonly _languages: string[]\n\n    constructor(...languages: string[]) {\n        super(\n            \"Checks that the given object is fully translated in the specified languages\",\n            [],\n            \"ValidateLanguageCompleteness\"\n        )\n        this._languages = languages ?? [\"en\"]\n    }\n\n    convert(obj: LayoutConfig, context: ConversionContext): LayoutConfig {\n        const origLayers = obj.layers\n        obj.layers = [...obj.layers].filter((l) => l[\"id\"] !== \"favourite\")\n        const translations = Translation.ExtractAllTranslationsFrom(obj)\n        for (const neededLanguage of this._languages) {\n            translations\n                .filter(\n                    (t) =>\n                        t.tr.translations[neededLanguage] === undefined &&\n                        t.tr.translations[\"*\"] === undefined\n                )\n                .forEach((missing) => {\n                    context\n                        .enter(missing.context.split(\".\"))\n                        .err(\n                            `The theme ${obj.id} should be translation-complete for ` +\n                                neededLanguage +\n                                \", but it lacks a translation for \" +\n                                missing.context +\n                                \".\\n\\tThe known translation is \" +\n                                missing.tr.textFor(\"en\")\n                        )\n                })\n        }\n        obj.layers = origLayers\n        return obj\n    }\n}\n\nexport class DoesImageExist extends DesugaringStep<string> {\n    private readonly _knownImagePaths: Set<string>\n    private readonly _ignore?: Set<string>\n    private readonly doesPathExist: (path: string) => boolean = undefined\n\n    constructor(\n        knownImagePaths: Set<string>,\n        checkExistsSync: (path: string) => boolean = undefined,\n        ignore?: Set<string>\n    ) {\n        super(\"Checks if an image exists\", [], \"DoesImageExist\")\n        this._ignore = ignore\n        this._knownImagePaths = knownImagePaths\n        this.doesPathExist = checkExistsSync\n    }\n\n    convert(image: string, context: ConversionContext): string {\n        if (this._ignore?.has(image)) {\n            return image\n        }\n\n        if (image.indexOf(\"{\") >= 0) {\n            context.debug(\"Ignoring image with { in the path: \" + image)\n            return image\n        }\n\n        if (image === \"assets/SocialImage.png\") {\n            return image\n        }\n        if (image.match(/[a-z]*/)) {\n            if (Constants.defaultPinIcons.indexOf(image) >= 0) {\n                // This is a builtin img, e.g. 'checkmark' or 'crosshair'\n                return image\n            }\n        }\n\n        if (image.startsWith(\"<\") && image.endsWith(\">\")) {\n            // This is probably HTML, you're on your own here\n            return image\n        }\n\n        if(Utils.isEmoji(image)){\n            return image\n        }\n\n        if (!this._knownImagePaths.has(image)) {\n            if (this.doesPathExist === undefined) {\n                context.err(\n                    `Image with path ${image} not found or not attributed; it is used in ${context}`\n                )\n            } else if (!this.doesPathExist(image)) {\n                context.err(\n                    `Image with path ${image} does not exist.\\n     Check for typo's and missing directories in the path.`\n                )\n            } else {\n                context.err(\n                    `Image with path ${image} is not attributed (but it exists); execute 'npm run query:licenses' to add the license information and/or run 'npm run generate:licenses' to compile all the license info`\n                )\n            }\n        }\n        return image\n    }\n}\n\nclass OverrideShadowingCheck extends DesugaringStep<LayoutConfigJson> {\n    constructor() {\n        super(\n            \"Checks that an 'overrideAll' does not override a single override\",\n            [],\n            \"OverrideShadowingCheck\"\n        )\n    }\n\n    convert(json: LayoutConfigJson, context: ConversionContext): LayoutConfigJson {\n        const overrideAll = json.overrideAll\n        if (overrideAll === undefined) {\n            return json\n        }\n\n        const withOverride = json.layers.filter((l) => l[\"override\"] !== undefined)\n\n        for (const layer of withOverride) {\n            for (const key in overrideAll) {\n                if (key.endsWith(\"+\") || key.startsWith(\"+\")) {\n                    // This key will _add_ to the list, not overwrite it - so no warning is needed\n                    continue\n                }\n                if (\n                    layer[\"override\"][key] !== undefined ||\n                    layer[\"override\"][\"=\" + key] !== undefined\n                ) {\n                    const w =\n                        \"The override of layer \" +\n                        JSON.stringify(layer[\"builtin\"]) +\n                        \" has a shadowed property: \" +\n                        key +\n                        \" is overriden by overrideAll of the theme\"\n                    context.err(w)\n                }\n            }\n        }\n\n        return json\n    }\n}\n\nclass MiscThemeChecks extends DesugaringStep<LayoutConfigJson> {\n    constructor() {\n        super(\"Miscelleanous checks on the theme\", [], \"MiscThemesChecks\")\n    }\n\n    convert(json: LayoutConfigJson, context: ConversionContext): LayoutConfigJson {\n        if (json.id !== \"personal\" && (json.layers === undefined || json.layers.length === 0)) {\n            context.err(\"The theme \" + json.id + \" has no 'layers' defined\")\n        }\n        if (!Array.isArray(json.layers)) {\n            context\n                .enter(\"layers\")\n                .err(\n                    \"The 'layers'-field should be an array, but it is not. Did you pase a layer identifier and forget to add the '[' and ']'?\"\n                )\n        }\n        if (json.socialImage === \"\") {\n            context.warn(\"Social image for theme \" + json.id + \" is the emtpy string\")\n        }\n        if (json[\"clustering\"]) {\n            context.warn(\"Obsolete field `clustering` is still around\")\n        }\n\n        if (json.layers === undefined) {\n            context.err(\"This theme has no layers defined\")\n        } else {\n            for (let i = 0; i < json.layers.length; i++) {\n                const l = json.layers[i]\n                if (l[\"override\"]?.[\"source\"] === undefined) {\n                    continue\n                }\n                if (l[\"override\"]?.[\"source\"]?.[\"geoJson\"]) {\n                    continue // We don't care about external data as we won't cache it anyway\n                }\n                if (l[\"override\"][\"id\"] !== undefined) {\n                    continue\n                }\n                context\n                    .enters(\"layers\", i)\n                    .err(\"A layer which changes the source-tags must also change the ID\")\n            }\n        }\n\n        if (json[\"overideAll\"]) {\n            context\n                .enter(\"overideAll\")\n                .err(\n                    \"'overrideAll' is spelled with _two_ `r`s. You only wrote a single one of them.\"\n                )\n        }\n        return json\n    }\n}\n\nexport class PrevalidateTheme extends Fuse<LayoutConfigJson> {\n    constructor() {\n        super(\n            \"Various consistency checks on the raw JSON\",\n            new MiscThemeChecks(),\n            new OverrideShadowingCheck()\n        )\n    }\n}\n\nexport class DetectConflictingAddExtraTags extends DesugaringStep<TagRenderingConfigJson> {\n    constructor() {\n        super(\n            \"The `if`-part in a mapping might set some keys. Those keys are not allowed to be set in the `addExtraTags`, as this might result in conflicting values\",\n            [],\n            \"DetectConflictingAddExtraTags\"\n        )\n    }\n\n    convert(json: TagRenderingConfigJson, context: ConversionContext): TagRenderingConfigJson {\n        if (!(json.mappings?.length > 0)) {\n            return json\n        }\n\n        try {\n            const tagRendering = new TagRenderingConfig(json, context.path.join(\".\"))\n\n            for (let i = 0; i < tagRendering.mappings.length; i++) {\n                const mapping = tagRendering.mappings[i]\n                if (!mapping.addExtraTags) {\n                    continue\n                }\n                const keysInMapping = new Set(mapping.if.usedKeys())\n\n                const keysInAddExtraTags = mapping.addExtraTags.map((t) => t.key)\n\n                const duplicateKeys = keysInAddExtraTags.filter((k) => keysInMapping.has(k))\n                if (duplicateKeys.length > 0) {\n                    context\n                        .enters(\"mappings\", i)\n                        .err(\n                            \"AddExtraTags overrides a key that is set in the `if`-clause of this mapping. Selecting this answer might thus first set one value (needed to match as answer) and then override it with a different value, resulting in an unsaveable question. The offending `addExtraTags` is \" +\n                                duplicateKeys.join(\", \")\n                        )\n                }\n            }\n\n            return json\n        } catch (e) {\n            context.err(\"Could not check for conflicting extra tags due to: \" + e)\n            return undefined\n        }\n    }\n}\n\nexport class DetectNonErasedKeysInMappings extends DesugaringStep<QuestionableTagRenderingConfigJson> {\n    constructor() {\n        super(\n            \"A tagRendering might set a freeform key (e.g. `name` and have an option that _should_ erase this name, e.g. `noname=yes`). Under normal circumstances, every mapping/freeform should affect all touched keys\",\n            [],\n            \"DetectNonErasedKeysInMappings\"\n        )\n    }\n\n    convert(\n        json: QuestionableTagRenderingConfigJson,\n        context: ConversionContext\n    ): QuestionableTagRenderingConfigJson {\n        if (json.multiAnswer) {\n            // No need to check this here, this has its own validation\n            return json\n        }\n        if (!json.question) {\n            // No need to check the writable tags, as this cannot write\n            return json\n        }\n\n        function addAll(keys: { forEach: (f: (s: string) => void) => void }, addTo: Set<string>) {\n            keys?.forEach((k) => addTo.add(k))\n        }\n\n        const freeformKeys: Set<string> = new Set()\n        if (json.freeform) {\n            freeformKeys.add(json.freeform.key)\n            for (const tag of json.freeform.addExtraTags ?? []) {\n                const tagParsed = TagUtils.Tag(tag)\n                addAll(tagParsed.usedKeys(), freeformKeys)\n            }\n        }\n\n        const mappingKeys: Set<string>[] = []\n        for (const mapping of json.mappings ?? []) {\n            if (mapping.hideInAnswer === true) {\n                mappingKeys.push(undefined)\n                continue\n            }\n            const thisMappingKeys: Set<string> = new Set<string>()\n            addAll(TagUtils.Tag(mapping.if).usedKeys(), thisMappingKeys)\n            for (const tag of mapping.addExtraTags ?? []) {\n                addAll(TagUtils.Tag(tag).usedKeys(), thisMappingKeys)\n            }\n            mappingKeys.push(thisMappingKeys)\n        }\n\n        const neededKeys = new Set<string>()\n\n        addAll(freeformKeys, neededKeys)\n        for (const mappingKey of mappingKeys) {\n            addAll(mappingKey, neededKeys)\n        }\n\n        neededKeys.delete(\"fixme\") // fixme gets a free pass\n\n        if (json.freeform) {\n            for (const neededKey of neededKeys) {\n                if (!freeformKeys.has(neededKey)) {\n                    context\n                        .enters(\"freeform\")\n                        .warn(\n                            \"The freeform block does not modify the key `\" +\n                                neededKey +\n                                \"` which is set in a mapping. Use `addExtraTags` to overwrite it\"\n                        )\n                }\n            }\n        }\n\n        for (let i = 0; i < json.mappings?.length; i++) {\n            const mapping = json.mappings[i]\n            if (mapping.hideInAnswer === true) {\n                continue\n            }\n            const keys = mappingKeys[i]\n            for (const neededKey of neededKeys) {\n                if (!keys.has(neededKey)) {\n                    context\n                        .enters(\"mappings\", i)\n                        .warn(\n                            \"This mapping does not modify the key `\" +\n                                neededKey +\n                                \"` which is set in a mapping or by the freeform block. Use `addExtraTags` to overwrite it\"\n                        )\n                }\n            }\n        }\n\n        return json\n    }\n}\n\nexport class DetectMappingsShadowedByCondition extends DesugaringStep<TagRenderingConfigJson> {\n    private readonly _forceError: boolean\n\n    constructor(forceError: boolean = false) {\n        super(\n            \"Checks that, if the tagrendering has a condition, that a mapping is not contradictory to it, i.e. that there are no dead mappings\",\n            [],\n            \"DetectMappingsShadowedByCondition\"\n        )\n        this._forceError = forceError\n    }\n\n    /**\n     *\n     * const validator = new DetectMappingsShadowedByCondition(true)\n     * const ctx = ConversionContext.construct([],[\"test\"])\n     * validator.convert({\n     *     condition: \"count>0\",\n     *     mappings:[\n     *         {\n     *             if: \"count=0\",\n     *             then:{\n     *                 en: \"No count\"\n     *             }\n     *         }\n     *     ]\n     * }, ctx)\n     * ctx.hasErrors() // => true\n     */\n    convert(json: TagRenderingConfigJson, context: ConversionContext): TagRenderingConfigJson {\n        if (!json.condition && !json.metacondition) {\n            return json\n        }\n        if (!json.mappings || json.mappings?.length == 0) {\n            return json\n        }\n        let conditionJson = json.condition ?? json.metacondition\n        if (json.condition !== undefined && json.metacondition !== undefined) {\n            conditionJson = { and: [json.condition, json.metacondition] }\n        }\n        const condition = TagUtils.Tag(conditionJson, context.path.join(\".\"))\n\n        for (let i = 0; i < json.mappings.length; i++) {\n            const mapping = json.mappings[i]\n            const tagIf = TagUtils.Tag(mapping.if, context.path.join(\".\"))\n            const optimized = new And([tagIf, condition]).optimize()\n            if (optimized === false) {\n                const msg =\n                    \"Detected a conflicting mapping and condition. The mapping requires tags \" +\n                    tagIf.asHumanString() +\n                    \", yet this can never happen because the set condition requires \" +\n                    condition.asHumanString()\n                const ctx = context.enters(\"mappings\", i)\n                if (this._forceError) {\n                    ctx.err(msg)\n                } else {\n                    ctx.warn(msg)\n                }\n            }\n        }\n\n        return undefined\n    }\n}\n\nexport class DetectShadowedMappings extends DesugaringStep<TagRenderingConfigJson> {\n    private readonly _calculatedTagNames: string[]\n\n    constructor(layerConfig?: LayerConfigJson) {\n        super(\"Checks that the mappings don't shadow each other\", [], \"DetectShadowedMappings\")\n        this._calculatedTagNames = DetectShadowedMappings.extractCalculatedTagNames(layerConfig)\n    }\n\n    /**\n     *\n     * DetectShadowedMappings.extractCalculatedTagNames({calculatedTags: [\"_abc:=js()\"]}) // => [\"_abc\"]\n     * DetectShadowedMappings.extractCalculatedTagNames({calculatedTags: [\"_abc=js()\"]}) // => [\"_abc\"]\n     */\n    private static extractCalculatedTagNames(\n        layerConfig?: LayerConfigJson | { calculatedTags: string[] }\n    ) {\n        return (\n            layerConfig?.calculatedTags?.map((ct) => {\n                if (ct.indexOf(\":=\") >= 0) {\n                    return ct.split(\":=\")[0]\n                }\n                return ct.split(\"=\")[0]\n            }) ?? []\n        )\n    }\n\n    /**\n     *\n     * // should detect a simple shadowed mapping\n     * const tr = {mappings: [\n     *            {\n     *                if: {or: [\"key=value\", \"x=y\"]},\n     *                then: \"Case A\"\n     *            },\n     *            {\n     *                if: \"key=value\",\n     *                then: \"Shadowed\"\n     *            }\n     *        ]\n     *    }\n     * const context = ConversionContext.test()\n     * const r = new DetectShadowedMappings().convert(tr, context);\n     * context.getAll(\"error\").length // => 1\n     * context.getAll(\"error\")[0].message.indexOf(\"The mapping key=value is fully matched by a previous mapping (namely 0)\") >= 0 // => true\n     *\n     * const tr = {mappings: [\n     *         {\n     *             if: {or: [\"key=value\", \"x=y\"]},\n     *             then: \"Case A\"\n     *         },\n     *         {\n     *             if: {and: [\"key=value\", \"x=y\"]},\n     *             then: \"Shadowed\"\n     *         }\n     *     ]\n     * }\n     * const context = ConversionContext.test()\n     * const r = new DetectShadowedMappings().convert(tr, context);\n     * context.getAll(\"error\").length // => 1\n     * context.getAll(\"error\")[0].message.indexOf(\"The mapping key=value & x=y is fully matched by a previous mapping (namely 0)\") >= 0 // => true\n     */\n    convert(json: TagRenderingConfigJson, context: ConversionContext): TagRenderingConfigJson {\n        if (json.mappings === undefined || json.mappings.length === 0) {\n            return json\n        }\n        const defaultProperties = {}\n        for (const calculatedTagName of this._calculatedTagNames) {\n            defaultProperties[calculatedTagName] =\n                \"some_calculated_tag_value_for_\" + calculatedTagName\n        }\n        const parsedConditions = json.mappings.map((m, i) => {\n            const c = context.enters(\"mappings\", i)\n            const ifTags = TagUtils.Tag(m.if, c.enter(\"if\"))\n            const hideInAnswer = m[\"hideInAnswer\"]\n            if (hideInAnswer !== undefined && hideInAnswer !== false && hideInAnswer !== true) {\n                const conditionTags = TagUtils.Tag(hideInAnswer)\n                // Merge the condition too!\n                return new And([conditionTags, ifTags])\n            }\n            return ifTags\n        })\n        for (let i = 0; i < json.mappings.length; i++) {\n            if (!parsedConditions[i]?.isUsableAsAnswer()) {\n                // There is no straightforward way to convert this mapping.if into a properties-object, so we simply skip this one\n                // Yes, it might be shadowed, but running this check is to difficult right now\n                continue\n            }\n            const keyValues = parsedConditions[i].asChange(defaultProperties)\n            const properties = {}\n            keyValues.forEach(({ k, v }) => {\n                properties[k] = v\n            })\n            for (let j = 0; j < i; j++) {\n                const doesMatch = parsedConditions[j].matchesProperties(properties)\n                if (\n                    doesMatch &&\n                    json.mappings[j][\"hideInAnswer\"] === true &&\n                    json.mappings[i][\"hideInAnswer\"] !== true\n                ) {\n                    context.warn(\n                        `Mapping ${i} is shadowed by mapping ${j}. However, mapping ${j} has 'hideInAnswer' set, which will result in a different rendering in question-mode.`\n                    )\n                } else if (doesMatch) {\n                    // The current mapping is shadowed!\n                    context.err(`Mapping ${i} is shadowed by mapping ${j} and will thus never be shown:\n    The mapping ${parsedConditions[i].asHumanString(\n        false,\n        false,\n        {}\n    )} is fully matched by a previous mapping (namely ${j}), which matches:\n    ${parsedConditions[j].asHumanString(false, false, {})}.\n\n    To fix this problem, you can try to:\n    - Move the shadowed mapping up\n    - Do you want to use a different text in 'question mode'? Add 'hideInAnswer=true' to the first mapping\n    - Use \"addExtraTags\": [\"key=value\", ...] in order to avoid a different rendering\n         (e.g. [{\"if\": \"fee=no\",                     \"then\": \"Free to use\", \"hideInAnswer\":true},\n                {\"if\": {\"and\":[\"fee=no\",\"charge=\"]}, \"then\": \"Free to use\"}]\n          can be replaced by\n               [{\"if\":\"fee=no\", \"then\": \"Free to use\", \"addExtraTags\": [\"charge=\"]}]\n`)\n                }\n            }\n        }\n\n        return json\n    }\n}\n\nexport class ValidatePossibleLinks extends DesugaringStep<string | Record<string, string>> {\n    constructor() {\n        super(\n            \"Given a possible set of translations, validates that <a href=... target='_blank'> does have `rel='noopener'` set\",\n            [],\n            \"ValidatePossibleLinks\"\n        )\n    }\n\n    public isTabnabbingProne(str: string): boolean {\n        const p = parse_html(str)\n        const links = Array.from(p.getElementsByTagName(\"a\"))\n        if (links.length == 0) {\n            return false\n        }\n        for (const link of Array.from(links)) {\n            if (link.getAttribute(\"target\") !== \"_blank\") {\n                continue\n            }\n            const rel = new Set<string>(link.getAttribute(\"rel\")?.split(\" \") ?? [])\n            if (rel.has(\"noopener\")) {\n                continue\n            }\n            const source = link.getAttribute(\"href\")\n            if (source.startsWith(\"http\")) {\n                // No variable part - we assume the link is safe\n                continue\n            }\n            return true\n        }\n        return false\n    }\n\n    convert(\n        json: string | Record<string, string>,\n        context: ConversionContext\n    ): string | Record<string, string> {\n        if (typeof json === \"string\") {\n            if (this.isTabnabbingProne(json)) {\n                context.err(\n                    \"The string \" +\n                        json +\n                        \" has a link targeting `_blank`, but it doesn't have `rel='noopener'` set. This gives rise to reverse tabnapping\"\n                )\n            }\n        } else {\n            for (const k in json) {\n                if (this.isTabnabbingProne(json[k])) {\n                    context.err(\n                        `The translation for ${k} '${json[k]}' has a link targeting \\`_blank\\`, but it doesn't have \\`rel='noopener'\\` set. This gives rise to reverse tabnapping`\n                    )\n                }\n            }\n        }\n        return json\n    }\n}\n\nexport class CheckTranslation extends DesugaringStep<Translatable> {\n    public static readonly allowUndefined: CheckTranslation = new CheckTranslation(true)\n    public static readonly noUndefined: CheckTranslation = new CheckTranslation()\n    private readonly _allowUndefined: boolean\n\n    constructor(allowUndefined: boolean = false) {\n        super(\n            \"Checks that a translation is valid and internally consistent\",\n            [\"*\"],\n            \"CheckTranslation\"\n        )\n        this._allowUndefined = allowUndefined\n    }\n\n    convert(json: Translatable, context: ConversionContext): Translatable {\n        if (json === undefined || json === null) {\n            if (!this._allowUndefined) {\n                context.err(\"Expected a translation, but got \" + json)\n            }\n            return json\n        }\n        if (typeof json === \"string\") {\n            return json\n        }\n        const keys = Object.keys(json)\n        if (keys.length === 0) {\n            context.err(\"No actual values are given in this translation, it is completely empty\")\n            return json\n        }\n        const en = json[\"en\"]\n        if (!en && json[\"*\"] === undefined) {\n            const msg = \"Received a translation without english version\"\n            context.warn(msg)\n        }\n\n        for (const key of keys) {\n            const lng = json[key]\n            if (lng === \"\") {\n                context.enter(lng).err(\"Got an empty string in translation for language \" + key)\n            }\n\n            // TODO validate that all subparts are here\n        }\n\n        return json\n    }\n}\n\nexport class ValidateLayerConfig extends DesugaringStep<LayerConfigJson> {\n    private readonly validator: ValidateLayer\n\n    constructor(\n        path: string,\n        isBuiltin: boolean,\n        doesImageExist: DoesImageExist,\n        studioValidations: boolean = false,\n        skipDefaultLayers: boolean = false\n    ) {\n        super(\"Thin wrapper around 'ValidateLayer\", [], \"ValidateLayerConfig\")\n        this.validator = new ValidateLayer(\n            path,\n            isBuiltin,\n            doesImageExist,\n            studioValidations,\n            skipDefaultLayers\n        )\n    }\n\n    convert(json: LayerConfigJson, context: ConversionContext): LayerConfigJson {\n        const prepared = this.validator.convert(json, context)\n        if (!prepared) {\n            context.err(\"Preparing layer failed\")\n            return undefined\n        }\n        return prepared?.raw\n    }\n}\n\nexport class ValidatePointRendering extends DesugaringStep<PointRenderingConfigJson> {\n    constructor() {\n        super(\"Various checks for pointRenderings\", [], \"ValidatePOintRendering\")\n    }\n\n    convert(json: PointRenderingConfigJson, context: ConversionContext): PointRenderingConfigJson {\n        if (json.marker === undefined && json.label === undefined) {\n            context.err(`A point rendering should define at least an marker or a label`)\n        }\n\n        if (json[\"markers\"]) {\n            context\n                .enter(\"markers\")\n                .err(\n                    `Detected a field 'markerS' in pointRendering. It is written as a singular case`\n                )\n        }\n        if (json.marker && !Array.isArray(json.marker)) {\n            context.enter(\"marker\").err(\"The marker in a pointRendering should be an array\")\n        }\n        if (!(json.location?.length > 0)) {\n            context\n                .enter(\"location\")\n                .err(\n                    \"A pointRendering should have at least one 'location' to defined where it should be rendered. \"\n                )\n        }\n        return json\n    }\n}\n\nexport class ValidateLayer extends Conversion<\n    LayerConfigJson,\n    { parsed: LayerConfig; raw: LayerConfigJson }\n> {\n    private readonly _skipDefaultLayers: boolean\n    private readonly _prevalidation: PrevalidateLayer\n\n    constructor(\n        path: string,\n        isBuiltin: boolean,\n        doesImageExist: DoesImageExist,\n        studioValidations: boolean = false,\n        skipDefaultLayers: boolean = false\n    ) {\n        super(\"Doesn't change anything, but emits warnings and errors\", [], \"ValidateLayer\")\n        this._prevalidation = new PrevalidateLayer(\n            path,\n            isBuiltin,\n            doesImageExist,\n            studioValidations\n        )\n        this._skipDefaultLayers = skipDefaultLayers\n    }\n\n    convert(\n        json: LayerConfigJson,\n        context: ConversionContext\n    ): { parsed: LayerConfig; raw: LayerConfigJson } {\n        context = context.inOperation(this.name)\n        if (typeof json === \"string\") {\n            context.err(\n                `Not a valid layer: the layerConfig is a string. 'npm run generate:layeroverview' might be needed`\n            )\n            return undefined\n        }\n\n        if (this._skipDefaultLayers && Constants.added_by_default.indexOf(<any>json.id) >= 0) {\n            return { parsed: undefined, raw: json }\n        }\n\n        this._prevalidation.convert(json, context.inOperation(this._prevalidation.name))\n\n        if (context.hasErrors()) {\n            return undefined\n        }\n\n        let layerConfig: LayerConfig\n        try {\n            layerConfig = new LayerConfig(json, \"validation\", true)\n        } catch (e) {\n            console.error(\"Could not parse layer due to\", e)\n            context.err(\"Could not parse layer due to: \" + e)\n            return undefined\n        }\n\n        for (let i = 0; i < (layerConfig.calculatedTags ?? []).length; i++) {\n            const [_, code, __] = layerConfig.calculatedTags[i]\n            try {\n                new Function(\"feat\", \"return \" + code + \";\")\n            } catch (e) {\n                context\n                    .enters(\"calculatedTags\", i)\n                    .err(\n                        `Invalid function definition: the custom javascript is invalid:${e}. The offending javascript code is:\\n    ${code}`\n                    )\n            }\n        }\n\n        for (let i = 0; i < layerConfig.titleIcons.length; i++) {\n            const titleIcon = layerConfig.titleIcons[i]\n            if (<any>titleIcon.render === \"icons.defaults\") {\n                context.enters(\"titleIcons\", i).err(\"Detected a literal 'icons.defaults'\")\n            }\n            if (<any>titleIcon.render === \"icons.rating\") {\n                context.enters(\"titleIcons\", i).err(\"Detected a literal 'icons.rating'\")\n            }\n        }\n\n        for (let i = 0; i < json.presets?.length; i++) {\n            const preset = json.presets[i]\n            if (\n                preset.snapToLayer === undefined &&\n                preset.maxSnapDistance !== undefined &&\n                preset.maxSnapDistance !== null\n            ) {\n                context\n                    .enters(\"presets\", i, \"maxSnapDistance\")\n                    .err(\"A maxSnapDistance is given, but there is no layer given to snap to\")\n            }\n        }\n\n        if (json[\"doCount\"]) {\n            context.enters(\"doCount\").err(\"Use `isCounted` instead of `doCount`\")\n        }\n\n        if (json.source) {\n            const src = json.source\n            if (src[\"isOsmCache\"] !== undefined) {\n                context.enters(\"source\").err(\"isOsmCache is deprecated\")\n            }\n            if (src[\"maxCacheAge\"] !== undefined) {\n                context\n                    .enters(\"source\")\n                    .err(\"maxCacheAge is deprecated; it is \" + src[\"maxCacheAge\"])\n            }\n        }\n\n        if (json.allowMove?.[\"enableAccuraccy\"] !== undefined) {\n            context\n                .enters(\"allowMove\", \"enableAccuracy\")\n                .err(\n                    \"`enableAccuracy` is written with two C in the first occurrence and only one in the last\"\n                )\n        }\n\n        return { raw: json, parsed: layerConfig }\n    }\n}\n\nexport class ValidateFilter extends DesugaringStep<FilterConfigJson> {\n    constructor() {\n        super(\"Detect common errors in the filters\", [], \"ValidateFilter\")\n    }\n\n    convert(filter: FilterConfigJson, context: ConversionContext): FilterConfigJson {\n        if (typeof filter === \"string\") {\n            // Calling another filter, we skip\n            return filter\n        }\n        if (filter === undefined) {\n            context.err(\"Trying to validate a filter, but this filter is undefined\")\n            return undefined\n        }\n        for (const option of filter.options) {\n            for (let i = 0; i < option.fields?.length ?? 0; i++) {\n                const field = option.fields[i]\n                const type = field.type ?? \"string\"\n                if (Validators.availableTypes.find((t) => t === type) === undefined) {\n                    context\n                        .enters(\"fields\", i)\n                        .err(\n                            `Invalid filter: ${type} is not a valid textfield type.\\n\\tTry one of ${Array.from(\n                                Validators.availableTypes\n                            ).join(\",\")}`\n                        )\n                }\n            }\n        }\n        return filter\n    }\n}\n\nexport class DetectDuplicateFilters extends DesugaringStep<{\n    layers: LayerConfigJson[]\n    themes: LayoutConfigJson[]\n}> {\n    constructor() {\n        super(\n            \"Tries to detect layers where a shared filter can be used (or where similar filters occur)\",\n            [],\n            \"DetectDuplicateFilters\"\n        )\n    }\n\n    convert(\n        json: { layers: LayerConfigJson[]; themes: LayoutConfigJson[] },\n        context: ConversionContext\n    ): { layers: LayerConfigJson[]; themes: LayoutConfigJson[] } {\n        const { layers, themes } = json\n        const perOsmTag = new Map<\n            string,\n            {\n                layer: LayerConfigJson\n                layout: LayoutConfigJson | undefined\n                filter: FilterConfigJson\n            }[]\n        >()\n\n        for (const layer of layers) {\n            this.addLayerFilters(layer, perOsmTag)\n        }\n\n        for (const theme of themes) {\n            if (theme.id === \"personal\") {\n                continue\n            }\n            for (const layer of theme.layers) {\n                if (typeof layer === \"string\") {\n                    continue\n                }\n                if (layer[\"builtin\"] !== undefined) {\n                    continue\n                }\n                this.addLayerFilters(<LayerConfigJson>layer, perOsmTag, theme)\n            }\n        }\n\n        // At this point, we have gathered all filters per tag - time to find duplicates\n        perOsmTag.forEach((value, key) => {\n            if (value.length <= 1) {\n                // Seen this key just once, it is unique\n                return\n            }\n            let msg = \"Possible duplicate filter: \" + key\n            for (const { filter, layer, layout } of value) {\n                let id = \"\"\n                if (layout !== undefined) {\n                    id = layout.id + \":\"\n                }\n                msg += `\\n      - ${id}${layer.id}.${filter.id}`\n            }\n            context.warn(msg)\n        })\n\n        return json\n    }\n\n    /**\n     * Add all filter options into 'perOsmTag'\n     */\n    private addLayerFilters(\n        layer: LayerConfigJson,\n        perOsmTag: Map<\n            string,\n            {\n                layer: LayerConfigJson\n                layout: LayoutConfigJson | undefined\n                filter: FilterConfigJson\n            }[]\n        >,\n        layout?: LayoutConfigJson | undefined\n    ): void {\n        if (layer.filter === undefined || layer.filter === null) {\n            return\n        }\n        if (layer.filter[\"sameAs\"] !== undefined) {\n            return\n        }\n        for (const filter of <(string | FilterConfigJson)[]>layer.filter) {\n            if (typeof filter === \"string\") {\n                continue\n            }\n\n            if (filter[\"#\"]?.indexOf(\"ignore-possible-duplicate\") >= 0) {\n                continue\n            }\n\n            for (const option of filter.options) {\n                if (option.osmTags === undefined) {\n                    continue\n                }\n                const key = JSON.stringify(option.osmTags)\n                if (!perOsmTag.has(key)) {\n                    perOsmTag.set(key, [])\n                }\n                perOsmTag.get(key).push({\n                    layer,\n                    filter,\n                    layout,\n                })\n            }\n        }\n    }\n}\n\nexport class DetectDuplicatePresets extends DesugaringStep<LayoutConfig> {\n    constructor() {\n        super(\n            \"Detects mappings which have identical (english) names or identical mappings.\",\n            [\"presets\"],\n            \"DetectDuplicatePresets\"\n        )\n    }\n\n    convert(json: LayoutConfig, context: ConversionContext): LayoutConfig {\n        const presets: PresetConfig[] = [].concat(...json.layers.map((l) => l.presets))\n\n        const enNames = presets.map((p) => p.title.textFor(\"en\"))\n        if (new Set(enNames).size != enNames.length) {\n            const dups = Utils.Duplicates(enNames)\n            const layersWithDup = json.layers.filter((l) =>\n                l.presets.some((p) => dups.indexOf(p.title.textFor(\"en\")) >= 0)\n            )\n            const layerIds = layersWithDup.map((l) => l.id)\n            context.err(\n                `This theme has multiple presets which are named:${dups}, namely layers ${layerIds.join(\n                    \", \"\n                )} this is confusing for contributors and is probably the result of reusing the same layer multiple times. Use \\`{\"override\": {\"=presets\": []}}\\` to remove some presets`\n            )\n        }\n\n        const optimizedTags = <TagsFilter[]>presets.map((p) => new And(p.tags).optimize())\n        for (let i = 0; i < presets.length; i++) {\n            const presetATags = optimizedTags[i]\n            const presetA = presets[i]\n            for (let j = i + 1; j < presets.length; j++) {\n                const presetBTags = optimizedTags[j]\n                const presetB = presets[j]\n                if (\n                    Utils.SameObject(presetATags, presetBTags) &&\n                    Utils.sameList(\n                        presetA.preciseInput.snapToLayers,\n                        presetB.preciseInput.snapToLayers\n                    )\n                ) {\n                    context.err(\n                        `This theme has multiple presets with the same tags: ${presetATags.asHumanString(\n                            false,\n                            false,\n                            {}\n                        )}, namely the preset '${presets[i].title.textFor(\"en\")}' and '${presets[\n                            j\n                        ].title.textFor(\"en\")}'`\n                    )\n                }\n            }\n        }\n\n        return json\n    }\n}\n\nexport class ValidateThemeEnsemble extends Conversion<\n    LayoutConfig[],\n    Map<\n        string,\n        {\n            tags: TagsFilter\n            foundInTheme: string[]\n            isCounted: boolean\n        }\n    >\n> {\n    constructor() {\n        super(\n            \"Validates that all themes together are logical, i.e. no duplicate ids exists within (overriden) themes\",\n            [],\n            \"ValidateThemeEnsemble\"\n        )\n    }\n\n    convert(\n        json: LayoutConfig[],\n        context: ConversionContext\n    ): Map<\n        string,\n        {\n            tags: TagsFilter\n            foundInTheme: string[]\n            isCounted: boolean\n        }\n    > {\n        const idToSource = new Map<\n            string,\n            { tags: TagsFilter; foundInTheme: string[]; isCounted: boolean }\n        >()\n\n        for (const theme of json) {\n            if (theme.id === \"personal\") {\n                continue\n            }\n            for (const layer of theme.layers) {\n                if (typeof layer.source === \"string\") {\n                    continue\n                }\n                if (Constants.priviliged_layers.indexOf(<any>layer.id) >= 0) {\n                    continue\n                }\n                if (!layer.source) {\n                    console.log(theme, layer, layer.source)\n                    context.enters(theme.id, \"layers\", \"source\", layer.id).err(\"No source defined\")\n                    continue\n                }\n                if (layer.source.geojsonSource) {\n                    continue\n                }\n                const id = layer.id\n                const tags = layer.source.osmTags\n                if (!idToSource.has(id)) {\n                    idToSource.set(id, { tags, foundInTheme: [theme.id], isCounted: layer.doCount })\n                    continue\n                }\n\n                const oldTags = idToSource.get(id).tags\n                const oldTheme = idToSource.get(id).foundInTheme\n                if (oldTags.shadows(tags) && tags.shadows(oldTags)) {\n                    // All is good, all is well\n                    oldTheme.push(theme.id)\n                    idToSource.get(id).isCounted ||= layer.doCount\n                    continue\n                }\n                context.err(\n                    [\n                        \"The layer with id '\" +\n                            id +\n                            \"' is found in multiple themes with different tag definitions:\",\n                        \"\\t In theme \" + oldTheme + \":\\t\" + oldTags.asHumanString(false, false, {}),\n                        \"\\tIn theme \" + theme.id + \":\\t\" + tags.asHumanString(false, false, {}),\n                    ].join(\"\\n\")\n                )\n            }\n        }\n\n        return idToSource\n    }\n}\n","import LayerConfig from \"../Models/ThemeConfig/LayerConfig\"\nimport { Utils } from \"../Utils\"\nimport known_layers from \"../assets/generated/known_layers.json\"\nimport { LayerConfigJson } from \"../Models/ThemeConfig/Json/LayerConfigJson\"\n\nexport class AllSharedLayers {\n    public static sharedLayers: Map<string, LayerConfig> = AllSharedLayers.getSharedLayers()\n    public static getSharedLayersConfigs(): Map<string, LayerConfigJson> {\n        const sharedLayers = new Map<string, LayerConfigJson>()\n        for (const layer of known_layers[\"layers\"]) {\n            // @ts-ignore\n            sharedLayers.set(layer.id, layer)\n        }\n\n        return sharedLayers\n    }\n    private static getSharedLayers(): Map<string, LayerConfig> {\n        const sharedLayers = new Map<string, LayerConfig>()\n        for (const layer of known_layers[\"layers\"]) {\n            try {\n                // @ts-ignore\n                const parsed = new LayerConfig(layer, \"shared_layers\")\n                sharedLayers.set(layer.id, parsed)\n            } catch (e) {\n                if (!Utils.runningFromConsole) {\n                    console.error(\n                        \"CRITICAL: Could not parse a layer configuration!\",\n                        layer.id,\n                        \" due to\",\n                        e\n                    )\n                }\n            }\n        }\n\n        return sharedLayers\n    }\n}\n","import { Conversion } from \"./Conversion\"\nimport LayerConfig from \"../LayerConfig\"\nimport { LayerConfigJson } from \"../Json/LayerConfigJson\"\nimport Translations from \"../../../UI/i18n/Translations\"\nimport { Translation, TypedTranslation } from \"../../../UI/i18n/Translation\"\nimport { ConversionContext } from \"./ConversionContext\"\n\nexport default class CreateNoteImportLayer extends Conversion<LayerConfigJson, LayerConfigJson> {\n    /**\n     * A closed note is included if it is less then 'n'-days closed\n     * @private\n     */\n    private readonly _includeClosedNotesDays: number\n\n    constructor(includeClosedNotesDays = 0) {\n        super(\n            [\n                \"Advanced conversion which deducts a layer showing all notes that are 'importable' (i.e. a note that contains a link to some MapComplete theme, with hash '#import').\",\n                \"The import buttons and matches will be based on the presets of the given theme\",\n            ].join(\"\\n\\n\"),\n            [],\n            \"CreateNoteImportLayer\"\n        )\n        this._includeClosedNotesDays = includeClosedNotesDays\n    }\n\n    convert(layerJson: LayerConfigJson, _: ConversionContext): LayerConfigJson {\n        const t = Translations.t.importLayer\n\n        /**\n         * The note itself will contain `tags=k=v;k=v;k=v;...\n         * This must be matched with a regex.\n         * This is a simple JSON-object as how it'll be put into the layerConfigJson directly\n         */\n        const isShownIfAny: any[] = []\n        const layer = new LayerConfig(layerJson, \"while constructing a note-import layer\")\n        for (const preset of layer.presets) {\n            const mustMatchAll = []\n            for (const tag of preset.tags) {\n                const key = tag.key\n                const value = tag.value\n                const condition = \"_tags~(^|.*;)\" + key + \"=\" + value + \"($|;.*)\"\n                mustMatchAll.push(condition)\n            }\n            isShownIfAny.push({ and: mustMatchAll })\n        }\n\n        const title = layer.presets[0].title\n\n        const importButton = {}\n        {\n            const translations = trs(t.importButton, {\n                layerId: layer.id,\n                title: layer.presets[0].title,\n            })\n            for (const key in translations) {\n                if (key !== \"_context\") {\n                    importButton[key] = \"{\" + translations[key] + \"}\"\n                } else {\n                    importButton[key] = translations[key]\n                }\n            }\n        }\n\n        function embed(prefix, translation: Translation, postfix) {\n            const result = {}\n            for (const language in translation.translations) {\n                result[language] = prefix + translation.translations[language] + postfix\n            }\n            result[\"_context\"] = translation.context\n            return result\n        }\n\n        function tr(translation: Translation) {\n            return { ...translation.translations, _context: translation.context }\n        }\n\n        function trs<T>(translation: TypedTranslation<T>, subs: T): Record<string, string> {\n            return { ...translation.Subs(subs).translations, _context: translation.context }\n        }\n\n        return {\n            id: \"note_import_\" + layer.id,\n            // By disabling the name, the import-layers won't pollute the filter view \"name\": t.layerName.Subs({title: layer.title.render}).translations,\n            description: trs(t.description, { title: layer.title.render }),\n            source: {\n                osmTags: {\n                    and: [\"id~[0-9]+\", \"comment_url~.*notes/[0-9]*/comment.json\"],\n                },\n                geoJson:\n                    \"https://api.openstreetmap.org/api/0.6/notes.json?limit=10000&closed=\" +\n                    this._includeClosedNotesDays +\n                    \"&bbox={x_min},{y_min},{x_max},{y_max}\",\n                geoJsonZoomLevel: 10,\n            },\n            /* We need to set 'pass_all_features'\n       There are probably many note_import-layers, and we don't want the first one to gobble up all notes and then discard them...\n       */\n            passAllFeatures: true,\n            minzoom: Math.min(12, layerJson.minzoom - 2),\n            title: {\n                render: trs(t.popupTitle, { title }),\n            },\n            calculatedTags: [\n                \"_first_comment=get(feat)('comments')[0]?.text?.toLowerCase() ?? ''\",\n                \"_trigger_index=(() => {const lines = feat.properties['_first_comment']?.split('\\\\n') ?? []; const matchesMapCompleteURL = lines.map(l => l.match(\\\".*https://mapcomplete.\\\\(org|osm.be\\\\)/\\\\([a-zA-Z_-]+\\\\)\\\\(.html\\\\)?.*#import\\\")); const matchedIndexes = matchesMapCompleteURL.map((doesMatch, i) => [doesMatch !== null, i]).filter(v => v[0]).map(v => v[1]); return matchedIndexes[0] })()\",\n                \"_comments_count=get(feat)('comments').length\",\n                \"_intro=(() => {const lines = get(feat)('comments')[0].text.split('\\\\n'); lines.splice(get(feat)('_trigger_index')-1, lines.length); return lines.filter(l => l !== '').join('<br/>');})()\",\n                \"_tags=(() => {let lines = get(feat)('comments')[0].text.split('\\\\n').map(l => l.trim()); lines.splice(0, get(feat)('_trigger_index') + 1); lines = lines.filter(l => l != ''); return lines.join(';');})()\",\n            ],\n            isShown: {\n                and: [\"_trigger_index~*\", { or: isShownIfAny }],\n            },\n            titleIcons: [\n                {\n                    render: \"<a href='https://openstreetmap.org/note/{id}' target='_blank'><img src='./assets/svg/osm-logo-us.svg'></a>\",\n                },\n            ],\n            tagRenderings: [\n                {\n                    id: \"Intro\",\n                    render: \"{_intro}\",\n                },\n                {\n                    id: \"conversation\",\n                    render: \"{visualize_note_comments(comments,1)}\",\n                    condition: \"_comments_count>1\",\n                },\n                {\n                    id: \"import\",\n                    render: importButton,\n                    condition: \"closed_at=\",\n                },\n                {\n                    id: \"close_note_\",\n                    render: embed(\n                        \"{close_note(\",\n                        t.notFound.Subs({ title }),\n                        \", ./assets/svg/close.svg, id, This feature does not exist, 18)}\"\n                    ),\n                    condition: \"closed_at=\",\n                },\n                {\n                    id: \"close_note_mapped\",\n                    render: embed(\n                        \"{close_note(\",\n                        t.alreadyMapped.Subs({ title }),\n                        \", ./assets/svg/duplicate.svg, id, Already mapped, 18)}\"\n                    ),\n                    condition: \"closed_at=\",\n                },\n                {\n                    id: \"handled\",\n                    render: tr(t.importHandled),\n                    condition: \"closed_at~*\",\n                },\n                {\n                    id: \"comment\",\n                    render: \"{add_note_comment()}\",\n                },\n                {\n                    id: \"add_image\",\n                    render: \"{add_image_to_note()}\",\n                },\n                {\n                    id: \"nearby_images_note\",\n                    render: tr(t.nearbyImagesIntro),\n                },\n                {\n                    id: \"all_tags_note\",\n                    render: \"{all_tags()}\",\n                    metacondition: {\n                        or: [\n                            \"__featureSwitchIsDebugging=true\",\n                            \"mapcomplete-show_tags=full\",\n                            \"mapcomplete-show_debug=yes\",\n                        ],\n                    },\n                },\n            ],\n            pointRendering: [\n                {\n                    location: [\"point\"],\n                    marker: [\n                        {\n                            icon: \"circle\",\n                            color: \"#fff\",\n                        },\n                        {\n                            icon: {\n                                render: \"help\",\n                                mappings: [\n                                    {\n                                        if: { or: [\"closed_at~*\", \"_imported=yes\"] },\n                                        then: \"checkmark\",\n                                    },\n                                ],\n                            },\n                            color: \"#00\",\n                        },\n                    ],\n                    iconSize: \"40,40\",\n                    anchor: \"center\",\n                },\n            ],\n            allowMove: false,\n        }\n    }\n}\n","import TagRenderingConfig from \"./TagRenderingConfig\"\nimport { ExtraFuncParams, ExtraFunctions } from \"../../Logic/ExtraFunctions\"\nimport LayerConfig from \"./LayerConfig\"\nimport { SpecialVisualization } from \"../../UI/SpecialVisualization\"\nimport SpecialVisualizations from \"../../UI/SpecialVisualizations\"\n\nexport default class DependencyCalculator {\n    public static GetTagRenderingDependencies(tr: TagRenderingConfig): string[] {\n        if (tr === undefined) {\n            throw \"Got undefined tag rendering in getTagRenderingDependencies\"\n        }\n        const deps: string[] = []\n\n        // All translated snippets\n        const parts: string[] = [].concat(...tr.EnumerateTranslations().map((tr) => tr.AllValues()))\n\n        for (const part of parts) {\n            const specialVizs: { func: SpecialVisualization; args: string[] }[] =\n                SpecialVisualizations.constructSpecification(part)\n                    .filter((p) => typeof p !== \"string\")\n                    .map((p) => <{ func: SpecialVisualization; args: string[] }>p)\n                    .filter((o) => o?.func?.getLayerDependencies !== undefined)\n            for (const specialViz of specialVizs) {\n                deps.push(...specialViz.func.getLayerDependencies(specialViz.args))\n            }\n        }\n        return deps\n    }\n\n    /**\n     * Returns a set of all other layer-ids that this layer needs to function.\n     * E.g. if this layers does snap to another layer in the preset, this other layer id will be mentioned\n     */\n    public static getLayerDependencies(\n        layer: LayerConfig\n    ): { neededLayer: string; reason: string; context?: string; neededBy: string, checkHasSnapName: boolean }[] {\n        const deps: { neededLayer: string; reason: string; context?: string; neededBy: string, checkHasSnapName: boolean  }[] =\n            []\n\n        for (let i = 0; layer.presets !== undefined && i < layer.presets.length; i++) {\n            const preset = layer.presets[i]\n            const snapTo = preset.preciseInput?.snapToLayers\n            if (snapTo && !Array.isArray(snapTo)) {\n                throw new Error(\n                    `snapToLayers is not an array; it is ${snapTo}(used in preset ${i} for: ${layer.id})`\n                )\n            }\n            preset.preciseInput?.snapToLayers?.forEach((id) => {\n                deps.push({\n                    neededLayer: id,\n                    reason: `preset \\`${preset.title.textFor(\"en\")}\\` snaps to this layer`,\n                    context: `${layer.id}.presets[${i}]`,\n                    neededBy: layer.id,\n                    checkHasSnapName: true\n                })\n            })\n        }\n\n        for (const tr of layer.AllTagRenderings()) {\n            for (const dep of DependencyCalculator.GetTagRenderingDependencies(tr)) {\n                deps.push({\n                    neededLayer: dep,\n                    reason: \"a tagrendering needs this layer\",\n                    context: tr.id,\n                    neededBy: layer.id,\n                    checkHasSnapName: false\n                })\n            }\n        }\n\n        if (layer.calculatedTags?.length > 0) {\n            const obj = {\n                type: \"Feature\",\n                geometry: {\n                    type: \"Point\",\n                    coordinates: [0, 0],\n                },\n                properties: {\n                    id: \"node/1\",\n                },\n            }\n            let currentKey = undefined\n            let currentLine = undefined\n            const params: ExtraFuncParams = {\n                getFeatureById: (_) => undefined,\n                getFeaturesWithin: (layerId, _) => {\n                    if (layerId === \"*\") {\n                        // This is a wildcard\n                        return []\n                    }\n\n                    // The important line: steal the dependencies!\n                    deps.push({\n                        neededLayer: layerId,\n                        reason: \"a calculated tag loads features from this layer\",\n                        context:\n                            \"calculatedTag[\" +\n                            currentLine +\n                            \"] which calculates the value for \" +\n                            currentKey,\n                        neededBy: layer.id,\n                        checkHasSnapName: false\n                    })\n\n                    return []\n                },\n            }\n            const helpers = ExtraFunctions.constructHelpers(params)\n            // ... Run the calculated tag code, which will trigger the getFeaturesWithin above...\n            for (let i = 0; i < layer.calculatedTags.length; i++) {\n                const [key, code] = layer.calculatedTags[i]\n                currentLine = i // Leak the state...\n                currentKey = key\n                try {\n                    const func = new Function(\n                        \"feat\",\n                        \"{\" + ExtraFunctions.types.join(\",\") + \"}\",\n                        \"return \" + code + \";\"\n                    )\n                    const result = func(obj, helpers)\n                    obj.properties[key] = JSON.stringify(result)\n                } catch (e) {}\n            }\n        }\n\n        return deps\n    }\n}\n","import {\n    Concat,\n    Conversion,\n    DesugaringContext,\n    DesugaringStep,\n    Each,\n    Fuse,\n    On,\n    Pass,\n    SetDefault,\n} from \"./Conversion\"\nimport { LayoutConfigJson } from \"../Json/LayoutConfigJson\"\nimport { PrepareLayer } from \"./PrepareLayer\"\nimport { LayerConfigJson } from \"../Json/LayerConfigJson\"\nimport { Utils } from \"../../../Utils\"\nimport Constants from \"../../Constants\"\nimport CreateNoteImportLayer from \"./CreateNoteImportLayer\"\nimport LayerConfig from \"../LayerConfig\"\nimport { TagRenderingConfigJson } from \"../Json/TagRenderingConfigJson\"\nimport DependencyCalculator from \"../DependencyCalculator\"\nimport { AddContextToTranslations } from \"./AddContextToTranslations\"\nimport ValidationUtils from \"./ValidationUtils\"\nimport { ConversionContext } from \"./ConversionContext\"\nimport { PrevalidateTheme } from \"./Validation\"\n\nclass SubstituteLayer extends Conversion<string | LayerConfigJson, LayerConfigJson[]> {\n    private readonly _state: DesugaringContext\n\n    constructor(state: DesugaringContext) {\n        super(\n            \"Converts the identifier of a builtin layer into the actual layer, or converts a 'builtin' syntax with override in the fully expanded form. Note that 'tagRenderings+' will be inserted before 'leftover-questions'\",\n            [],\n            \"SubstituteLayer\",\n        )\n        this._state = state\n    }\n\n    convert(json: string | LayerConfigJson, context: ConversionContext): LayerConfigJson[] {\n        const state = this._state\n\n        function reportNotFound(name: string) {\n            const knownLayers = Array.from(state.sharedLayers.keys())\n            const withDistance = knownLayers.map((lname) => [\n                lname,\n                Utils.levenshteinDistance(name, lname),\n            ])\n            withDistance.sort((a, b) => a[1] - b[1])\n            const ids = withDistance.map((n) => n[0])\n            // Known builtin layers are \"+.join(\",\")+\"\\n    For more information, see \"\n            context.err(`The layer with name ${name} was not found as a builtin layer. Perhaps you meant ${ids[0]}, ${ids[1]} or ${ids[2]}?\n For an overview of all available layers, refer to https://github.com/pietervdvn/MapComplete/blob/develop/Docs/BuiltinLayers.md`)\n        }\n\n        if (typeof json === \"string\") {\n            const found = state.sharedLayers.get(json)\n            if (found === undefined) {\n                reportNotFound(json)\n                return null\n            }\n            return [found]\n        }\n\n        if (json[\"builtin\"] === undefined) {\n            return [json]\n        }\n\n        let names = json[\"builtin\"]\n        if (typeof names === \"string\") {\n            names = [names]\n        }\n        const layers = []\n\n        for (const name of names) {\n            const found = Utils.Clone(state.sharedLayers.get(name))\n            if (found === undefined) {\n                context.err(\"Layer with name \" + name + \" not found\")\n                continue\n            }\n            found[\"_basedOn\"] = name\n            if (found === undefined) {\n                reportNotFound(name)\n                continue\n            }\n            if (\n                json[\"override\"][\"tagRenderings\"] !== undefined &&\n                (found[\"tagRenderings\"] ?? []).length > 0\n            ) {\n                context.err(\n                    `When overriding a layer, an override is not allowed to override into tagRenderings. Use \"+tagRenderings\" or \"tagRenderings+\" instead to prepend or append some questions.`,\n                )\n            }\n            try {\n                const trPlus = json[\"override\"][\"tagRenderings+\"]\n                if (trPlus) {\n                    let index = found.tagRenderings.findIndex(\n                        (tr) => tr[\"id\"] === \"leftover-questions\",\n                    )\n                    if (index < 0) {\n                        index = found.tagRenderings.length\n                    }\n                    found.tagRenderings.splice(index, 0, ...trPlus)\n                    delete json[\"override\"][\"tagRenderings+\"]\n                }\n\n                context.MergeObjectsForOverride(json[\"override\"], found)\n                layers.push(found)\n            } catch (e) {\n                context.err(\n                    `Could not apply an override due to: ${e}.\\nThe override is: ${JSON.stringify(\n                        json[\"override\"],\n                    )}`,\n                )\n            }\n\n            if (json[\"hideTagRenderingsWithLabels\"]) {\n                if (typeof json[\"hideTagRenderingsWithLabels\"] === \"string\") {\n                    throw (\n                        \"At \" +\n                        context +\n                        \".hideTagRenderingsWithLabels should be a list containing strings, you specified a string\"\n                    )\n                }\n                const hideLabels: Set<string> = new Set(json[\"hideTagRenderingsWithLabels\"])\n                // These labels caused at least one deletion\n                const usedLabels: Set<string> = new Set<string>()\n                const filtered = []\n                for (const tr of found.tagRenderings) {\n                    const labels = tr[\"labels\"]\n                    if (labels !== undefined) {\n                        const forbiddenLabel = labels.findIndex((l) => hideLabels.has(l))\n                        if (forbiddenLabel >= 0) {\n                            usedLabels.add(labels[forbiddenLabel])\n                            context.info(\n                                \"Dropping tagRendering \" +\n                                tr[\"id\"] +\n                                \" as it has a forbidden label: \" +\n                                labels[forbiddenLabel],\n                            )\n                            continue\n                        }\n                    }\n\n                    if (hideLabels.has(tr[\"id\"])) {\n                        usedLabels.add(tr[\"id\"])\n                        context.info(\n                            \"Dropping tagRendering \" + tr[\"id\"] + \" as its id is a forbidden label\",\n                        )\n                        continue\n                    }\n\n                    if (hideLabels.has(tr[\"group\"])) {\n                        usedLabels.add(tr[\"group\"])\n                        context.info(\n                            \"Dropping tagRendering \" +\n                            tr[\"id\"] +\n                            \" as its group `\" +\n                            tr[\"group\"] +\n                            \"` is a forbidden label\",\n                        )\n                        continue\n                    }\n\n                    filtered.push(tr)\n                }\n                const unused = Array.from(hideLabels).filter((l) => !usedLabels.has(l))\n                if (unused.length > 0) {\n                    context.err(\n                        \"This theme specifies that certain tagrenderings have to be removed based on forbidden layers. One or more of these layers did not match any tagRenderings and caused no deletions: \" +\n                        unused.join(\", \") +\n                        \"\\n   This means that this label can be removed or that the original tagRendering that should be deleted does not have this label anymore\",\n                    )\n                }\n                found.tagRenderings = filtered\n            }\n        }\n        return layers\n    }\n}\n\nclass AddDefaultLayers extends DesugaringStep<LayoutConfigJson> {\n    private readonly _state: DesugaringContext\n\n    constructor(state: DesugaringContext) {\n        super(\n            \"Adds the default layers, namely: \" + Constants.added_by_default.join(\", \"),\n            [\"layers\"],\n            \"AddDefaultLayers\",\n        )\n        this._state = state\n    }\n\n    convert(json: LayoutConfigJson, context: ConversionContext): LayoutConfigJson {\n        const state = this._state\n        json.layers = Utils.NoNull([...(json.layers ?? [])])\n        const alreadyLoaded = new Set(json.layers.map((l) => l[\"id\"]))\n\n        for (const layerName of Constants.added_by_default) {\n            const v = state.sharedLayers.get(layerName)\n            if (v === undefined) {\n                const msg = `Default layer ${layerName} not found. ${state.sharedLayers.size} layers are available`\n                if (layerName === \"favourite\") {\n                    continue\n                }\n                context.err(msg)\n                continue\n            }\n            if (alreadyLoaded.has(v.id)) {\n                context.warn(\n                    \"Layout \" +\n                    context +\n                    \" already has a layer with name \" +\n                    v.id +\n                    \"; skipping inclusion of this builtin layer\",\n                )\n                continue\n            }\n            json.layers.push(v)\n        }\n\n        return json\n    }\n}\n\nclass AddImportLayers extends DesugaringStep<LayoutConfigJson> {\n    constructor() {\n        super(\n            \"For every layer in the 'layers'-list, create a new layer which'll import notes. (Note that priviliged layers and layers which have a geojson-source set are ignored)\",\n            [\"layers\"],\n            \"AddImportLayers\",\n        )\n    }\n\n    convert(json: LayoutConfigJson, context: ConversionContext): LayoutConfigJson {\n        if (!(json.enableNoteImports ?? true)) {\n            context.info(\n                \"Not creating a note import layers for theme \" + json.id + \" as they are disabled\",\n            )\n            return json\n        }\n\n        json = { ...json }\n        const allLayers: LayerConfigJson[] = <LayerConfigJson[]>json.layers\n        json.layers = [...json.layers]\n\n        const creator = new CreateNoteImportLayer()\n        for (let i1 = 0; i1 < allLayers.length; i1++) {\n            const layer = allLayers[i1]\n            if (layer.source === undefined) {\n                // Priviliged layers are skipped\n                continue\n            }\n\n            if (layer.source[\"geoJson\"] !== undefined) {\n                // Layer which don't get their data from OSM are skipped\n                continue\n            }\n\n            if (layer.title === undefined || layer.name === undefined) {\n                // Anonymous layers and layers without popup are skipped\n                continue\n            }\n\n            if (layer.presets === undefined || layer.presets.length == 0) {\n                // A preset is needed to be able to generate a new point\n                continue\n            }\n\n            try {\n                const importLayerResult = creator.convert(\n                    layer,\n                    context.inOperation(this.name).enter(i1),\n                )\n                if (importLayerResult !== undefined) {\n                    json.layers.push(importLayerResult)\n                }\n            } catch (e) {\n                console.error(\"Error\", e)\n                context.err(\"Could not generate an import-layer for \" + layer.id + \" due to \" + e)\n            }\n        }\n\n        return json\n    }\n}\n\nclass AddContextToTranslationsInLayout extends DesugaringStep<LayoutConfigJson> {\n    constructor() {\n        super(\n            \"Adds context to translations, including the prefix 'themes:json.id'; this is to make sure terms in an 'overrides' or inline layer are linkable too\",\n            [\"_context\"],\n            \"AddContextToTranlationsInLayout\",\n        )\n    }\n\n    convert(json: LayoutConfigJson): LayoutConfigJson {\n        const conversion = new AddContextToTranslations<LayoutConfigJson>(\"themes:\")\n        // The context is used to generate the 'context' in the translation .It _must_ be `json.id` to correctly link into weblate\n        return conversion.convert(\n            json,\n            ConversionContext.construct([json.id], [\"AddContextToTranslation\"]),\n        )\n    }\n}\n\nclass ApplyOverrideAll extends DesugaringStep<LayoutConfigJson> {\n    constructor() {\n        super(\n            \"Applies 'overrideAll' onto every 'layer'. The 'overrideAll'-field is removed afterwards\",\n            [\"overrideAll\", \"layers\"],\n            \"ApplyOverrideAll\",\n        )\n    }\n\n    convert(json: LayoutConfigJson, ctx: ConversionContext): LayoutConfigJson {\n        const overrideAll = json.overrideAll\n        if (overrideAll === undefined) {\n            return json\n        }\n\n        json = { ...json }\n\n        delete json.overrideAll\n        const newLayers = []\n\n        let tagRenderingsPlus = undefined\n        if (overrideAll[\"tagRenderings+\"] !== undefined) {\n            tagRenderingsPlus = overrideAll[\"tagRenderings+\"]\n            delete overrideAll[\"tagRenderings+\"]\n        }\n\n        for (let layer of json.layers) {\n            layer = Utils.Clone(<LayerConfigJson>layer)\n            ctx.MergeObjectsForOverride(overrideAll, layer)\n            if (tagRenderingsPlus) {\n                if (!layer.tagRenderings) {\n                    layer.tagRenderings = tagRenderingsPlus\n                } else {\n                    let index = layer.tagRenderings.findIndex(\n                        (tr) => tr[\"id\"] === \"leftover-questions\",\n                    )\n                    if (index < 0) {\n                        index = layer.tagRenderings.length - 1\n                    }\n                    layer.tagRenderings.splice(index, 0, ...tagRenderingsPlus)\n                }\n            }\n\n            newLayers.push(layer)\n        }\n        json.layers = newLayers\n        return json\n    }\n}\n\nclass AddDependencyLayersToTheme extends DesugaringStep<LayoutConfigJson> {\n    private readonly _state: DesugaringContext\n\n    constructor(state: DesugaringContext) {\n        super(\n            `If a layer has a dependency on another layer, these layers are added automatically on the theme. (For example: defibrillator depends on 'walls_and_buildings' to snap onto. This layer is added automatically)`,\n            [\"layers\"],\n            \"AddDependencyLayersToTheme\",\n        )\n        this._state = state\n    }\n\n    private static CalculateDependencies(\n        alreadyLoaded: LayerConfigJson[],\n        allKnownLayers: Map<string, LayerConfigJson>,\n        themeId: string,\n        context: ConversionContext,\n    ): { config: LayerConfigJson; reason: string }[] {\n        const dependenciesToAdd: { config: LayerConfigJson; reason: string }[] = []\n        const loadedLayerIds: Set<string> = new Set<string>(alreadyLoaded.map((l) => l?.id))\n\n        // Verify cross-dependencies\n        let unmetDependencies: {\n            neededLayer: string\n            neededBy: string\n            reason: string\n            context?: string\n        }[] = []\n        do {\n            const dependencies: {\n                neededLayer: string\n                reason: string\n                context?: string\n                neededBy: string\n                checkHasSnapName: boolean\n            }[] = []\n\n            for (const layerConfig of alreadyLoaded) {\n                try {\n                    const layerDeps = DependencyCalculator.getLayerDependencies(\n                        new LayerConfig(layerConfig, themeId + \"(dependencies)\"),\n                    )\n                    dependencies.push(...layerDeps)\n                } catch (e) {\n                    console.error(e)\n                    throw (\n                        \"Detecting layer dependencies for \" +\n                        layerConfig?.id +\n                        \" failed due to \" +\n                        e\n                    )\n                }\n            }\n\n            for (const dependency of dependencies) {\n                if (loadedLayerIds.has(dependency.neededLayer)) {\n                    // We mark the needed layer as 'mustLoad'\n                    const loadedLayer = alreadyLoaded.find((l) => l.id === dependency.neededLayer)\n                    loadedLayer.forceLoad = true\n                    if(dependency.checkHasSnapName && !loadedLayer.snapName){\n                        context.enters(\"layer dependency\").err(\"Layer \"+dependency.neededLayer+\" is loaded because \"+dependency.reason+\"; so it must specify a `snapName`. This is used in the sentence `move this point to snap it to {snapName}`\")\n                    }\n                }\n            }\n\n            // During the generate script, builtin layers are verified but not loaded - so we have to add them manually here\n            // Their existence is checked elsewhere, so this is fine\n            unmetDependencies = dependencies.filter((dep) => !loadedLayerIds.has(dep.neededLayer))\n            for (const unmetDependency of unmetDependencies) {\n                if (loadedLayerIds.has(unmetDependency.neededLayer)) {\n                    continue\n                }\n                const dep = Utils.Clone(allKnownLayers.get(unmetDependency.neededLayer))\n                const reason =\n                    \"This layer is needed by \" +\n                    unmetDependency.neededBy +\n                    \" because \" +\n                    unmetDependency.reason +\n                    \" (at \" +\n                    unmetDependency.context +\n                    \")\"\n                if (dep === undefined) {\n                    const message = [\n                        \"Loading a dependency failed: layer \" +\n                        unmetDependency.neededLayer +\n                        \" is not found, neither as layer of \" +\n                        themeId +\n                        \" nor as builtin layer.\",\n                        reason,\n                        \"Loaded layers are: \" + alreadyLoaded.map((l) => l.id).join(\",\"),\n                    ]\n                    throw message.join(\"\\n\\t\")\n                }\n\n                dep.forceLoad = true\n                dep.passAllFeatures = true\n                dep.description = reason\n                dependenciesToAdd.unshift({\n                    config: dep,\n                    reason,\n                })\n                loadedLayerIds.add(dep.id)\n                unmetDependencies = unmetDependencies.filter(\n                    (d) => d.neededLayer !== unmetDependency.neededLayer,\n                )\n            }\n        } while (unmetDependencies.length > 0)\n\n\n        return dependenciesToAdd\n    }\n\n    convert(theme: LayoutConfigJson, context: ConversionContext): LayoutConfigJson {\n        const state = this._state\n        const allKnownLayers: Map<string, LayerConfigJson> = state.sharedLayers\n        const knownTagRenderings: Map<string, TagRenderingConfigJson> = state.tagRenderings\n        const layers: LayerConfigJson[] = <LayerConfigJson[]>theme.layers // Layers should be expanded at this point\n\n        knownTagRenderings.forEach((value, key) => {\n            value[\"id\"] = key\n        })\n\n        const dependencies = AddDependencyLayersToTheme.CalculateDependencies(\n            layers,\n            allKnownLayers,\n            theme.id,\n            context,\n        )\n        if (dependencies.length > 0) {\n            for (const dependency of dependencies) {\n                context.info(\n                    \"Added \" + dependency.config.id + \" to the theme. \" + dependency.reason,\n                )\n            }\n        }\n        /**\n         * Must be added to the _end_ of the layer list:\n         * - Imagine that 'walls_and_buildings' is added...\n         * - but there is a layer about a specific type of building already\n         * Adding it up front would cause 'walls_and_buildings' to be triggered\n         */\n        layers.push(...dependencies.map((l) => l.config))\n\n        return {\n            ...theme,\n            layers: layers,\n        }\n    }\n}\n\nclass PreparePersonalTheme extends DesugaringStep<LayoutConfigJson> {\n    private readonly _state: DesugaringContext\n\n    constructor(state: DesugaringContext) {\n        super(\"Adds every public layer to the personal theme\", [\"layers\"], \"PreparePersonalTheme\")\n        this._state = state\n    }\n\n    convert(json: LayoutConfigJson, context: ConversionContext): LayoutConfigJson {\n        if (json.id !== \"personal\") {\n            return json\n        }\n\n        // The only thing this _really_ does, is adding the layer-ids into 'layers'\n        // All other preparations are done by the 'override-all'-block in personal.json\n\n        json.layers = Array.from(this._state.sharedLayers.keys())\n            .filter((l) => this._state.sharedLayers.get(l).source !== null)\n            .filter((l) => this._state.publicLayers.has(l))\n        context.info(\"The personal theme has \" + json.layers.length + \" public layers\")\n        return json\n    }\n}\n\nclass WarnForUnsubstitutedLayersInTheme extends DesugaringStep<LayoutConfigJson> {\n    constructor() {\n        super(\n            \"Generates a warning if a theme uses an unsubstituted layer\",\n            [\"layers\"],\n            \"WarnForUnsubstitutedLayersInTheme\",\n        )\n    }\n\n    convert(json: LayoutConfigJson, context: ConversionContext): LayoutConfigJson {\n        if (json.hideFromOverview === true) {\n            return json\n        }\n        if ((json.layers ?? []).length === 0) {\n            context\n                .enter(\"layers\")\n                .err(\n                    \"No layers are defined. You must define at least one layer to have a valid theme\",\n                )\n            return json\n        }\n        if (!Array.isArray(json.layers)) {\n            context\n                .enter(\"layers\")\n                .err(\"Can not iterate over layers in theme, it is a \" + JSON.stringify(json.layers))\n            return json\n        }\n        for (const layer of json.layers) {\n            if (typeof layer === \"string\") {\n                continue\n            }\n            if (layer[\"builtin\"] !== undefined) {\n                continue\n            }\n            if (layer[\"source\"][\"geojson\"] !== undefined) {\n                // We turn a blind eye for import layers\n                continue\n            }\n\n            context.warn(\n                \"The theme \" +\n                json.id +\n                \" has an inline layer: \" +\n                layer[\"id\"] +\n                \". This is discouraged.\",\n            )\n        }\n        return json\n    }\n}\n\nclass PostvalidateTheme extends DesugaringStep<LayoutConfigJson> {\n    private readonly _state: DesugaringContext\n\n    constructor(state: DesugaringContext) {\n        super(\"Various validation steps when everything is done\", [], \"PostvalidateTheme\")\n        this._state = state\n    }\n\n    convert(json: LayoutConfigJson, context: ConversionContext): LayoutConfigJson {\n        for (const l of json.layers) {\n            const layer = <LayerConfigJson>l\n            const basedOn = <string>layer[\"_basedOn\"]\n            const basedOnDef = this._state.sharedLayers.get(basedOn)\n            if (!basedOn) {\n                continue\n            }\n            if (layer[\"name\"] === null) {\n                continue\n            }\n            const sameBasedOn = <LayerConfigJson[]>(\n                json.layers.filter(\n                    (l) => l[\"_basedOn\"] === layer[\"_basedOn\"] && l[\"id\"] !== layer.id,\n                )\n            )\n            const minZoomAll = Math.min(...sameBasedOn.map((sbo) => sbo.minzoom))\n\n            const sameNameDetected = sameBasedOn.some(\n                (same) => JSON.stringify(layer[\"name\"]) === JSON.stringify(same[\"name\"]),\n            )\n            if (!sameNameDetected) {\n                // The name is unique, so it'll won't be confusing\n                continue\n            }\n            if (minZoomAll < layer.minzoom) {\n                context.err(\n                    \"There are multiple layers based on \" +\n                    basedOn +\n                    \". The layer with id \" +\n                    layer.id +\n                    \" has a minzoom of \" +\n                    layer.minzoom +\n                    \", and has a name set. Another similar layer has a lower minzoom. As such, the layer selection might show 'zoom in to see features' even though some of the features are already visible. Set `\\\"name\\\": null` for this layer and eventually remove the 'name':null for the other layer.\",\n                )\n            }\n        }\n\n        for (const layer of json.layers) {\n            if (typeof layer === \"string\") {\n                continue\n            }\n            const config = <LayerConfigJson>layer\n            const sameAs = config.filter?.[\"sameAs\"]\n            if (!sameAs) {\n                continue\n            }\n\n            const matchingLayer = json.layers.find((l) => l[\"id\"] === sameAs)\n            if (!matchingLayer) {\n                const closeLayers = Utils.sortedByLevenshteinDistance(\n                    sameAs,\n                    json.layers,\n                    (l) => l[\"id\"],\n                ).map((l) => l[\"id\"])\n                context\n                    .enters(\"layers\", config.id, \"filter\", \"sameAs\")\n                    .err(\n                        \"The layer \" +\n                        config.id +\n                        \" follows the filter state of layer \" +\n                        sameAs +\n                        \", but no layer with this name was found.\\n\\tDid you perhaps mean one of: \" +\n                        closeLayers.slice(0, 3).join(\", \"),\n                    )\n            }\n        }\n\n        return json\n    }\n}\n\nexport class PrepareTheme extends Fuse<LayoutConfigJson> {\n    private state: DesugaringContext\n\n    constructor(\n        state: DesugaringContext,\n        options?: {\n            skipDefaultLayers: false | boolean\n        },\n    ) {\n        super(\n            \"Fully prepares and expands a theme\",\n            new AddContextToTranslationsInLayout(),\n            new PreparePersonalTheme(state),\n            new WarnForUnsubstitutedLayersInTheme(),\n            new On(\"layers\", new Concat(new SubstituteLayer(state))),\n\n            new SetDefault(\"socialImage\", \"assets/SocialImage.png\", true),\n            // We expand all tagrenderings first...\n            new On(\"layers\", new Each(new PrepareLayer(state))),\n            // Then we apply the override all. We must first expand everything in case that we override something in an expanded tag\n            // Note that it'll cheat with tagRenderings+\n            new ApplyOverrideAll(),\n            // And then we prepare all the layers _again_ in case that an override all contained unexpanded tagrenderings!\n            new On(\"layers\", new Each(new PrepareLayer(state))),\n            options?.skipDefaultLayers\n                ? new Pass(\"AddDefaultLayers is disabled due to the set flag\")\n                : new AddDefaultLayers(state),\n            new AddDependencyLayersToTheme(state),\n            new AddImportLayers(),\n            new PostvalidateTheme(state),\n        )\n        this.state = state\n    }\n\n    convert(json: LayoutConfigJson, context: ConversionContext): LayoutConfigJson {\n        const result = super.convert(json, context)\n        if ((this.state.publicLayers?.size ?? 0) === 0) {\n            // THis is a bootstrapping run, no need to already set this flag\n            return result\n        }\n\n        const needsNodeDatabase = result.layers?.some((l: LayerConfigJson) =>\n            l.tagRenderings?.some((tr) =>\n                ValidationUtils.getSpecialVisualisations(<any>tr)?.some(\n                    (special) => special.needsNodeDatabase,\n                ),\n            ),\n        )\n        if (needsNodeDatabase) {\n            context.info(\n                \"Setting 'enableNodeDatabase' as this theme uses a special visualisation which needs to keep track of _all_ nodes\",\n            )\n            result.enableNodeDatabase = true\n        }\n\n        return result\n    }\n}\n","import { Conversion, DesugaringStep } from \"./Conversion\"\nimport { LayoutConfigJson } from \"../Json/LayoutConfigJson\"\nimport { Utils } from \"../../../Utils\"\nimport metapaths from \"../../../assets/schemas/layoutconfigmeta.json\"\nimport tagrenderingmetapaths from \"../../../assets/schemas/questionabletagrenderingconfigmeta.json\"\nimport Translations from \"../../../UI/i18n/Translations\"\n\nimport { parse as parse_html } from \"node-html-parser\"\nimport { ConversionContext } from \"./ConversionContext\"\n\nexport class ExtractImages extends Conversion<\n    LayoutConfigJson,\n    { path: string; context: string }[]\n> {\n    private static readonly layoutMetaPaths = metapaths.filter((mp) => {\n        const typeHint = mp.hints.typehint\n        return (\n            ExtractImages.mightBeTagRendering(<any>mp) ||\n            (typeHint !== undefined &&\n                (typeHint === \"image\" ||\n                    typeHint === \"icon\" ||\n                    typeHint === \"image[]\" ||\n                    typeHint === \"icon[]\"))\n        )\n    })\n    private static readonly tagRenderingMetaPaths = tagrenderingmetapaths\n    private _isOfficial: boolean\n    private _sharedTagRenderings: Set<string>\n\n    constructor(isOfficial: boolean, sharedTagRenderings: Set<string>) {\n        super(\"Extract all images from a layoutConfig using the meta paths.\", [], \"ExctractImages\")\n        this._isOfficial = isOfficial\n        this._sharedTagRenderings = sharedTagRenderings\n    }\n\n    public static mightBeTagRendering(metapath: { type?: string | string[] }): boolean {\n        if (!metapath.type) {\n            return false\n        }\n        let type: any[]\n        if (!Array.isArray(metapath.type)) {\n            type = [metapath.type]\n        } else {\n            type = metapath.type\n        }\n        return type.some(\n            (t) =>\n                t !== null &&\n                (t[\"$ref\"] == \"#/definitions/TagRenderingConfigJson\" ||\n                    t[\"$ref\"] == \"#/definitions/MinimalTagRenderingConfigJson\" ||\n                    t[\"$ref\"] == \"#/definitions/QuestionableTagRenderingConfigJson\" ||\n                    (t[\"properties\"]?.render !== undefined &&\n                        t[\"properties\"]?.mappings !== undefined))\n        )\n    }\n\n    static isImageType(metapath: any): boolean {\n        if (metapath.hints.typehint === \"icon\" || metapath.hints.typehint === \"image\") {\n            return true\n        }\n\n        const types = metapath.hints.types?.split(\";\").map((x) => x.trim())\n        if (types?.some((t) => t === \"icon\" || t === \"image\")) {\n            return true\n        }\n\n        return false\n    }\n\n    /**\n     *  const images = new ExtractImages(true, new Set<string>()).convert(<any>{\n     *     \"layers\": [\n     *         {\n     *             tagRenderings: [\n     *                 {\n     *                     \"mappings\": [\n     *                         {\n     *                             \"if\": \"bicycle_parking=stands\",\n     *                             \"then\": {\n     *                                 \"en\": \"Staple racks\",\n     *                             },\n     *                             \"icon\": {\n     *                                 path: \"./assets/layers/bike_parking/staple.svg\",\n     *                                 class: \"small\"\n     *                             }\n     *                         },\n     *                         {\n     *                             \"if\": \"bicycle_parking=stands\",\n     *                             \"then\": {\n     *                                 \"en\": \"Bollard\",\n     *                             },\n     *                             \"icon\": \"./assets/layers/bike_parking/bollard.svg\",\n     *                         }\n     *                     ]\n     *                 }\n     *             ]\n     *         }\n     *     ]\n     * }, ConversionContext.test()).map(i => i.path);\n     * images.length // => 2\n     * images.findIndex(img => img == \"./assets/layers/bike_parking/staple.svg\") >= 0 // => true\n     * images.findIndex(img => img == \"./assets/layers/bike_parking/bollard.svg\") >= 0 // => true\n     *\n     * // should not pickup rotation, should drop color\n     * const images = new ExtractImages(true, new Set<string>()).convert(<any>{\"layers\": [{\"pointRendering\": [{\"location\": [\"point\", \"centroid\"],marker: [{\"icon\": \"pin:black\"}],rotation: 180,iconSize: \"40,40,center\"}]}]\n     * }, ConversionContext.test())\n     * images.length // => 1\n     * images[0].path // => \"pin\"\n     *\n     */\n    convert(\n        json: LayoutConfigJson,\n        context: ConversionContext\n    ): { path: string; context: string }[] {\n        const allFoundImages: { path: string; context: string }[] = []\n        for (const metapath of ExtractImages.layoutMetaPaths) {\n            const mightBeTr = ExtractImages.mightBeTagRendering(<any>metapath)\n\n            const allRenderedValuesAreImages = ExtractImages.isImageType(metapath)\n\n            const found = Utils.CollectPath(metapath.path, json)\n            if (found.length === 0) {\n                continue\n            }\n\n            if (mightBeTr) {\n                // We might have tagRenderingConfigs containing icons here\n                for (const el of found) {\n                    const path = el.path\n                    const foundImage = el.leaf\n                    if (typeof foundImage === \"string\") {\n                        if (!allRenderedValuesAreImages) {\n                            continue\n                        }\n\n                        if (foundImage == \"\") {\n                            context.warn(context + \".\" + path.join(\".\") + \" Found an empty image\")\n                        }\n\n                        if (this._sharedTagRenderings?.has(foundImage)) {\n                            // This is not an image, but a shared tag rendering\n                            // At key positions for checking, they'll be expanded already, so we can safely ignore them here\n                            continue\n                        }\n\n                        allFoundImages.push({ path: foundImage, context: context + \".\" + path })\n                    } else {\n                        // This is a tagRendering.\n                        // Either every rendered value might be an icon\n                        // or -in the case of a normal tagrendering- only the 'icons' in the mappings have an icon (or exceptionally an '<img>' tag in the translation\n                        for (const trpath of ExtractImages.tagRenderingMetaPaths) {\n                            // Inspect all the rendered values\n                            const fromPath = Utils.CollectPath(trpath.path, foundImage)\n                            const isRendered = trpath.hints.typehint === \"rendered\"\n\n                            const isImage = ExtractImages.isImageType(trpath)\n\n                            for (const img of fromPath) {\n                                if (allRenderedValuesAreImages && isRendered) {\n                                    // What we found is an image\n                                    if (img.leaf === \"\" || img.leaf[\"path\"] == \"\") {\n                                        context\n                                            .enter(path)\n                                            .enter(img.path)\n                                            .warn(\"Found an emtpy image\")\n                                    } else if (typeof img.leaf !== \"string\") {\n                                        const c = context.enter(img.path)\n                                        const msg =\n                                            \"found an image path that is not a string: \" +\n                                            JSON.stringify(img.leaf)\n                                        if (this._isOfficial) {\n                                            c.err(msg)\n                                        } else {\n                                            c.warn(msg)\n                                        }\n                                    } else {\n                                        allFoundImages.push({\n                                            path: img.leaf,\n                                            context: context + \".\" + path,\n                                        })\n                                    }\n                                }\n                                if (!allRenderedValuesAreImages && isImage) {\n                                    // Extract images from the translations\n                                    allFoundImages.push(\n                                        ...Translations.T(\n                                            img.leaf,\n                                            \"extract_images from \" + img.path.join(\".\")\n                                        )\n                                            .ExtractImages(false)\n                                            .map((path) => ({\n                                                path,\n                                                context: context + \".\" + path,\n                                            }))\n                                    )\n                                }\n                            }\n                        }\n                    }\n                }\n            } else {\n                for (const foundElement of found) {\n                    if (foundElement.leaf === \"\") {\n                        context.enter(foundElement.path).warn(\"Found an empty image\")\n\n                        continue\n                    }\n                    if (typeof foundElement.leaf !== \"string\") {\n                        continue\n                    }\n                    allFoundImages.push({\n                        context: context.path.join(\".\") + \".\" + foundElement.path.join(\".\"),\n                        path: foundElement.leaf,\n                    })\n                }\n            }\n        }\n\n        const cleanedImages: { path: string; context: string }[] = []\n\n        for (const foundImage of allFoundImages) {\n            if (foundImage.path.startsWith(\"<\") && foundImage.path.endsWith(\">\")) {\n                // This is probably html\n                const doc = parse_html(foundImage.path)\n                const images = Array.from(doc.getElementsByTagName(\"img\"))\n                const paths = images.map((i) => i.getAttribute(\"src\"))\n                cleanedImages.push(\n                    ...paths.map((path) => ({ path, context: foundImage.context + \" (in html)\" }))\n                )\n                continue\n            }\n\n            // Split \"circle:white;./assets/layers/.../something.svg\" into [\"circle\", \"./assets/layers/.../something.svg\"]\n            const allPaths = Utils.NoNull(\n                Utils.NoEmpty(foundImage.path?.split(\";\")?.map((part) => part.split(\":\")[0]))\n            )\n            for (const path of allPaths) {\n                cleanedImages.push({ path, context: foundImage.context })\n            }\n        }\n\n        return cleanedImages\n    }\n}\n\nexport class FixImages extends DesugaringStep<LayoutConfigJson> {\n    private readonly _knownImages: Set<string>\n\n    constructor(knownImages: Set<string>) {\n        super(\n            \"Walks over the entire theme and replaces images to the relative URL. Only works if the ID of the theme is an URL\",\n            [],\n            \"fixImages\"\n        )\n        this._knownImages = knownImages\n    }\n\n    /**\n     * If the id is an URL to a json file, replaces \"./\" in images with the path to the json file\n     *\n     * const theme = {\n     *          \"id\": \"https://raw.githubusercontent.com/seppesantens/MapComplete-Themes/main/VerkeerdeBordenDatabank/verkeerdeborden.json\"\n     *         \"layers\": [\n     *             {\n     *                 \"pointRendering\": [\n     *                     {\n     *                         marker: [{\"icon\": \"./TS_bolt.svg\"}],\n     *                         iconBadges: [{\n     *                             if: \"id=yes\",\n     *                             then: {\n     *                                 mappings: [\n     *                                     {\n     *                                         if: \"id=yes\",\n     *                                         then: \"./Something.svg\"\n     *                                     }\n     *                                 ]\n     *                             }\n     *                         }],\n     *                         \"location\": [\n     *                             \"point\",\n     *                             \"centroid\"\n     *                         ]\n     *                     }\n     *                 ]\n     *             }\n     *         ],\n     *     }\n     * const fixed = new FixImages(new Set<string>()).convert(<any> theme, ConversionContext.test())\n     * fixed.layers[0][\"pointRendering\"][0].marker[0].icon // => \"https://raw.githubusercontent.com/seppesantens/MapComplete-Themes/main/VerkeerdeBordenDatabank/TS_bolt.svg\"\n     * fixed.layers[0][\"pointRendering\"][0].iconBadges[0].then.mappings[0].then // => \"https://raw.githubusercontent.com/seppesantens/MapComplete-Themes/main/VerkeerdeBordenDatabank/Something.svg\"\n     */\n    convert(json: LayoutConfigJson, context: ConversionContext): LayoutConfigJson {\n        let url: URL\n        try {\n            url = new URL(json.id)\n        } catch (e) {\n            // Not a URL, we don't rewrite\n            return json\n        }\n\n        const absolute = url.protocol + \"//\" + url.host\n        let relative = url.protocol + \"//\" + url.host + url.pathname\n        relative = relative.substring(0, relative.lastIndexOf(\"/\"))\n\n        if (relative.endsWith(\"assets/generated/themes\")) {\n            context.warn(\n                \"Detected 'assets/generated/themes' as relative URL. I'm assuming that you are loading your file for the MC-repository, so I'm rewriting all image links as if they were absolute instead of relative\"\n            )\n            relative = absolute\n        }\n\n        const knownImages = this._knownImages\n\n        function replaceString(leaf: string) {\n            if (knownImages.has(leaf)) {\n                return leaf\n            }\n\n            if (typeof leaf !== \"string\") {\n                context.warn(\n                    \"Found a non-string object while replacing images: \" + JSON.stringify(leaf)\n                )\n                return leaf\n            }\n\n            if (leaf.startsWith(\"./\")) {\n                return relative + leaf.substring(1)\n            }\n            if (leaf.startsWith(\"/\")) {\n                return absolute + leaf\n            }\n            return leaf\n        }\n\n        json = Utils.Clone(json)\n\n        for (const metapath of metapaths) {\n            if (!ExtractImages.isImageType(metapath)) {\n                continue\n            }\n            const mightBeTr = ExtractImages.mightBeTagRendering(<any>metapath)\n            Utils.WalkPath(metapath.path, json, (leaf) => {\n                if (typeof leaf === \"string\") {\n                    return replaceString(leaf)\n                }\n\n                if (mightBeTr) {\n                    // We might have reached a tagRenderingConfig containing icons\n                    // lets walk every rendered value and fix the images in there\n                    for (const trpath of tagrenderingmetapaths) {\n                        if (trpath.hints.typehint !== \"rendered\") {\n                            continue\n                        }\n                        Utils.WalkPath(trpath.path, leaf, (rendered) => {\n                            return replaceString(rendered)\n                        })\n                    }\n                }\n\n                return leaf\n            })\n        }\n\n        return json\n    }\n}\n","import { DesugaringStep } from \"./Conversion\"\nimport { LayoutConfigJson } from \"../Json/LayoutConfigJson\"\nimport { AvailableRasterLayers } from \"../../RasterLayers\"\nimport { ExtractImages } from \"./FixImages\"\nimport { ConversionContext } from \"./ConversionContext\"\nimport LayoutConfig from \"../LayoutConfig\"\nimport { Utils } from \"../../../Utils\"\nimport { DetectDuplicatePresets, DoesImageExist, ValidateLanguageCompleteness } from \"./Validation\"\n\nexport class ValidateTheme extends DesugaringStep<LayoutConfigJson> {\n    /**\n     * The paths where this layer is originally saved. Triggers some extra checks\n     * @private\n     */\n    private readonly _path?: string\n    private readonly _isBuiltin: boolean\n    //private readonly _sharedTagRenderings: Map<string, any>\n    private readonly _validateImage: DesugaringStep<string>\n    private readonly _extractImages: ExtractImages = undefined\n\n    constructor(\n        doesImageExist: DoesImageExist,\n        path: string,\n        isBuiltin: boolean,\n        sharedTagRenderings?: Set<string>\n    ) {\n        super(\"Doesn't change anything, but emits warnings and errors\", [], \"ValidateTheme\")\n        this._validateImage = doesImageExist\n        this._path = path\n        this._isBuiltin = isBuiltin\n        if (sharedTagRenderings) {\n            this._extractImages = new ExtractImages(this._isBuiltin, sharedTagRenderings)\n        }\n    }\n\n    convert(json: LayoutConfigJson, context: ConversionContext): LayoutConfigJson {\n        const theme = new LayoutConfig(json, this._isBuiltin)\n        {\n            // Legacy format checks\n            if (this._isBuiltin) {\n                if (json[\"units\"] !== undefined) {\n                    context.err(\n                        \"The theme \" +\n                            json.id +\n                            \" has units defined - these should be defined on the layer instead. (Hint: use overrideAll: { '+units': ... }) \"\n                    )\n                }\n                if (json[\"roamingRenderings\"] !== undefined) {\n                    context.err(\n                        \"Theme \" +\n                            json.id +\n                            \" contains an old 'roamingRenderings'. Use an 'overrideAll' instead\"\n                    )\n                }\n            }\n        }\n        if (!json.title) {\n            context.enter(\"title\").err(`The theme ${json.id} does not have a title defined.`)\n        }\n        if (!json.icon) {\n            context.enter(\"icon\").err(\"A theme should have an icon\")\n        }\n        if (this._isBuiltin && this._extractImages !== undefined) {\n            // Check images: are they local, are the licenses there, is the theme icon square, ...\n            const images = this._extractImages.convert(json, context.inOperation(\"ValidateTheme\"))\n            const remoteImages = images.filter((img) => img.path.indexOf(\"http\") == 0)\n            for (const remoteImage of remoteImages) {\n                context.err(\n                    \"Found a remote image: \" +\n                        remoteImage.path +\n                        \" in theme \" +\n                        json.id +\n                        \", please download it.\"\n                )\n            }\n            for (const image of images) {\n                this._validateImage.convert(image.path, context.enters(image.context))\n            }\n        }\n\n        try {\n            if (this._isBuiltin) {\n                if (theme.id !== theme.id.toLowerCase()) {\n                    context.err(\"Theme ids should be in lowercase, but it is \" + theme.id)\n                }\n\n                const filename = this._path.substring(\n                    this._path.lastIndexOf(\"/\") + 1,\n                    this._path.length - 5\n                )\n                if (theme.id !== filename) {\n                    context.err(\n                        \"Theme ids should be the same as the name.json, but we got id: \" +\n                            theme.id +\n                            \" and filename \" +\n                            filename +\n                            \" (\" +\n                            this._path +\n                            \")\"\n                    )\n                }\n                this._validateImage.convert(theme.icon, context.enter(\"icon\"))\n            }\n            const dups = Utils.Duplicates(json.layers.map((layer) => layer[\"id\"]))\n            if (dups.length > 0) {\n                context.err(\n                    `The theme ${json.id} defines multiple layers with id ${dups.join(\", \")}`\n                )\n            }\n            if (json[\"mustHaveLanguage\"] !== undefined) {\n                new ValidateLanguageCompleteness(...json[\"mustHaveLanguage\"]).convert(\n                    theme,\n                    context\n                )\n            }\n            if (!json.hideFromOverview && theme.id !== \"personal\" && this._isBuiltin) {\n                // The first key in the the title-field must be english, otherwise the title in the loading page will be the different language\n                const targetLanguage = theme.title.SupportedLanguages()[0]\n                if (targetLanguage !== \"en\") {\n                    context.err(\n                        `TargetLanguage is not 'en' for public theme ${theme.id}, it is ${targetLanguage}. Move 'en' up in the title of the theme and set it as the first key`\n                    )\n                }\n\n                // Official, public themes must have a full english translation\n                new ValidateLanguageCompleteness(\"en\").convert(theme, context)\n            }\n        } catch (e) {\n            console.error(e)\n            context.err(\"Could not validate the theme due to: \" + e)\n        }\n\n        if (theme.id !== \"personal\") {\n            new DetectDuplicatePresets().convert(theme, context)\n        }\n\n        if (!theme.title) {\n            context.enter(\"title\").err(\"A theme must have a title\")\n        }\n\n        if (!theme.description) {\n            context.enter(\"description\").err(\"A theme must have a description\")\n        }\n\n        if (theme.overpassUrl && typeof theme.overpassUrl === \"string\") {\n            context\n                .enter(\"overpassUrl\")\n                .err(\"The overpassURL is a string, use a list of strings instead. Wrap it with [ ]\")\n        }\n\n        if (json.defaultBackgroundId) {\n            /*\n            TODO re-enable this check\n            const backgroundId = json.defaultBackgroundId\n\n            const isCategory =\n                backgroundId === \"photo\" || backgroundId === \"map\" || backgroundId === \"osmbasedmap\"\n\n            if (!isCategory && !ValidateTheme._availableLayers.has(backgroundId)) {\n                const options = Array.from(ValidateTheme._availableLayers)\n                const nearby = Utils.sortedByLevenshteinDistance(backgroundId, options, (t) => t)\n                context\n                    .enter(\"defaultBackgroundId\")\n                    .err(\n                        `This layer ID is not known: ${backgroundId}. Perhaps you meant one of ${nearby\n                            .slice(0, 5)\n                            .join(\", \")}`,\n                    )\n            }*/\n        }\n\n        for (let i = 0; i < theme.layers.length; i++) {\n            const layer = theme.layers[i]\n            if (!layer.id.match(\"[a-z][a-z0-9_]*\")) {\n                context\n                    .enters(\"layers\", i, \"id\")\n                    .err(\"Invalid ID:\" + layer.id + \"should match [a-z][a-z0-9_]*\")\n            }\n        }\n\n        return json\n    }\n}\n","import known_themes from \"../assets/generated/known_themes.json\"\nimport LayoutConfig from \"../Models/ThemeConfig/LayoutConfig\"\nimport favourite from \"../assets/generated/layers/favourite.json\"\nimport { LayoutConfigJson } from \"../Models/ThemeConfig/Json/LayoutConfigJson\"\nimport { AllSharedLayers } from \"./AllSharedLayers\"\nimport Constants from \"../Models/Constants\"\n\n/**\n * Somewhat of a dictionary, which lazily parses needed themes\n */\nexport class AllKnownLayoutsLazy {\n    private readonly raw: Map<string, LayoutConfigJson> = new Map()\n    private readonly dict: Map<string, LayoutConfig> = new Map()\n\n    constructor(includeFavouriteLayer = true) {\n        for (const layoutConfigJson of known_themes[\"themes\"]) {\n            for (const layerId of Constants.added_by_default) {\n                if (layerId === \"favourite\" && favourite.id) {\n                    if (includeFavouriteLayer) {\n                        layoutConfigJson.layers.push(favourite)\n                    }\n                    continue\n                }\n                const defaultLayer = AllSharedLayers.getSharedLayersConfigs().get(layerId)\n                if (defaultLayer === undefined) {\n                    console.error(\"Could not find builtin layer\", layerId)\n                    continue\n                }\n                layoutConfigJson.layers.push(defaultLayer)\n            }\n            this.raw.set(layoutConfigJson.id, layoutConfigJson)\n        }\n    }\n\n    public getConfig(key: string): LayoutConfigJson {\n        return this.raw.get(key)\n    }\n\n    public size() {\n        return this.raw.size\n    }\n\n    public get(key: string): LayoutConfig {\n        const cached = this.dict.get(key)\n        if (cached !== undefined) {\n            return cached\n        }\n\n        const layout = new LayoutConfig(this.getConfig(key))\n        this.dict.set(key, layout)\n        return layout\n    }\n\n    public keys() {\n        return this.raw.keys()\n    }\n\n    public values() {\n        return Array.from(this.keys()).map((k) => this.get(k))\n    }\n}\n\nexport class AllKnownLayouts {\n    public static allKnownLayouts: AllKnownLayoutsLazy = new AllKnownLayoutsLazy()\n}\n"],"names":["_ConversionContext","messages","path","operation","__publicField","p","msg","noString","s","rewritePath","i","m","newPath","rewrittenContext","key","message","mode","foundErr","_a","source","target","Utils","e","ConversionContext","Conversion","doc","modifiedAttributes","name","json","context","fixed","f","Pipe","Pure","DesugaringStep","step0","step1","failfast","r0","Bypass","applyIf","step","Each","options","values","result","c","_b","r","On","_","value","Pass","Concat","vals","FirstOf","conversion","Fuse","steps","timings","start","timeNeededMs","SetDefault","overrideEmptyString","AddContextToTranslations","prefix","leaf","breadcrumb","pointer","obj","Translations","ValidationUtils","renderingConfigs","visualisations","renderConfig","renderingConfig","spec","cacheName","translations","all","translation","template","specials","SpecialVisualizations","ExpandRewrite","keyToRewrite","tr","targetIsTranslation","replaceRecursive","o","isTr","subtarget","findRecursive","rewrite","keysToRewrite","results","guard","j","toRewrite","into","renderings","ts","tx","t","sourceKeysToIgnore","listKey","original","sourceKeys","sk","sourceKey","rw","v","AddFiltersFromTagRenderings","filters","filterExists","filterName","existing","id","tagRendering","ExpandFilter","_ExpandFilter","state","filter","predifined_filters","mapping","icon","emoji","newFilters","matchingTr","split","layer","expectedId","expandedFilter","found","suggestions","ExpandTagRendering","self","trconfig","label","withLabel","ctx","trs","stable","_c","_d","direct","tagRenderingConfigJson","nm","indirect","n","foundTr","spl","layerTrs","matchingTrs","id_","contextWriter","lookup","names","candidates","layerName","_e","DetectInline","render","AddQuestionBox","questionSpecials","sp","noLabels","allLabels","seen","questionSpecial","used","a","blacklisted","_f","usedLabel","question","AddEditingElements","desugaring","addByDefault","ids","idsInOrder","allIds","specialVisualisations","usedSpecialFunctions","sv","trc","RewriteSpecial","input","special","type","vis","k","argNamesList","argNames","wrongArg","byDistance","x","arg","foundLanguages","translatedArgs","translatedArg","ln","before","after","clss","args","languages","argName","Translation","beforeText","afterText","paths","tagrenderingconfigmeta","travelled","ExpandIconBadges","badgesJson","iconBadges","iconBadge","expanded","resolved","PreparePointRendering","SetFullNodeDatabase","specs","ExpandMarkerRenderings","expander","AddFavouriteBadges","pr","ti","AddRatingBadge","specialVis","rs","AutoTitleIcon","mappings","img","allAutoIndex","generated","titleIcon","trId","DeriveSource","raw","osmTags","TagUtils","PrepareLayer","root","freeExports","exports","freeModule","module","freeGlobal","global","regexAstralSymbols","regexAsciiWhitelist","regexBmpWhitelist","regexEncodeNonAscii","encodeMap","regexEscape","escapeMap","regexInvalidEntity","regexInvalidRawCodePoint","regexDecode","decodeMap","decodeMapLegacy","decodeMapNumeric","invalidReferenceCodePoints","stringFromCharCode","object","hasOwnProperty","has","propertyName","contains","array","index","length","merge","defaults","codePointToSymbol","codePoint","strict","output","parseError","hexEscape","decEscape","encode","string","encodeEverything","useNamedReferences","allowUnsafeSymbols","escapeCodePoint","escapeBmpSymbol","symbol","$0","high","low","decode","html","$1","$2","$3","$4","$5","$6","$7","$8","semicolon","decDigits","hexDigits","reference","next","escape","he","this","node","he_1","require$$0","Node","parentNode","range","_this","children","child","val","NodeType","__extends","extendStatics","d","b","__","__importDefault","mod","comment","node_1","type_1","require$$1","CommentNode","_super","rawText","ElementType","isTag","elem","__assign","domelementtype_1","parent","prev","recursive","cloneNode","DataNode","data","Text","Comment","ProcessingInstruction","NodeWithChildren","CDATA","Document","Element","attribs","isCDATA","isText","isComment","isDirective","isDocument","hasChildren","cloneChildren","clone_1","clone_2","clone_3","instruction","childs","__createBinding","k2","desc","__exportStar","node_js_1","defaultOpts","DomHandler","callback","elementCB","parser","error","element","lastNode","text","previousSibling","stringify","domhandler_1","dom_serializer_1","require$$2","getOuterHTML","getInnerHTML","getText","textContent","innerText","traversal","getChildren","getParent","getSiblings","siblings","getAttributeValue","hasAttrib","getName","nextElementSibling","prevElementSibling","manipulation","removeElement","replaceElement","replacement","appendChild","sibling","append","currNext","prependChild","prepend","querying","test","recurse","limit","find","nodes","_i","nodes_1","findOneChild","findOne","checked","existsOne","findAll","stack","legacy","querying_js_1","Checks","getAttribCheck","attrib","combineFuncs","compileTest","funcs","testElement","getElements","getElementById","getElementsByTagName","tagName","getElementsByTagType","removeSubsets","idx","ancestor","DocumentPosition","compareDocumentPosition","nodeA","nodeB","aParents","bParents","current","maxIdx","sharedParent","aSibling","bSibling","uniqueSort","arr","relative","feeds","stringify_js_1","legacy_js_1","getFeed","feedRoot","getOneElement","isValidFeed","getAtomFeed","getRssFeed","feed","item","entry","getMediaElements","addConditionally","href","description","fetch","pubDate","updated","MEDIA_KEYS_STRING","MEDIA_KEYS_INT","where","media","MEDIA_KEYS_STRING_1","MEDIA_KEYS_INT_1","prop","require$$3","require$$4","require$$5","require$$6","require$$7","boolbase","SelectorType","IgnoreCaseMode","AttributeAction","reName","reEscape","actionTypes","unpackPseudos","isTraversal","selector","stripQuotesFromPseudos","funescape","escaped","escapedWhitespace","unescapeCSS","str","isQuote","isWhitespace","parse","subselects","endIndex","parseSelector","selectorIndex","tokens","offset","match","stripWhitespace","readValueWithParenthesis","counter","isEscaped","pos","slashCount","ensureNotTraversal","addTraversal","addSpecialAttribute","action","finalizeSubselector","loop","firstChar","namespace","possibleAction","ignoreCase","quote","sectionEnd","valueStart","forceIgnore","attributeSelector","quot","attribValChars","pseudoValChars","charsToEscapeInAttributeValue","charsToEscapeInPseudoValue","charsToEscapeInName","token","stringifyToken","getNamespace","getNamespacedName","escapeName","getActionValue","charsToEscape","lastIdx","ret","sort","css_what_1","procedure","attributes","sortByProcedure","procs","getProcedure","procNew","proc","boolbase_1","reChars","escapeRegex","caseInsensitiveAttributes","shouldIgnoreCase","adapter","attr","len","regex","regex_1","parse_1","whitespace","ZERO","NINE","formula","sign","readSign","number","readNumber","skipWhitespace","compile_1","compile","parsed","absA","bMod","generate","aPos_1","minValue_1","parse_js_1","compile_js_1","nthCheck","sequence","nth_check_1","getChildFunc","itext","rule","equals","func","currentSibling","_rule","dynamicStatePseudo","pseudos","firstChild","elemName","verifyPseudoArgs","subselect","argIndex","aliases","__spreadArray","to","from","pack","l","ar","sort_js_1","ensureIsTag","getNextSiblings","elemIndex","copyOptions","is","compileToken","_context","opts","compiled","hasElement","shouldTestNextSiblings_1","nextElements","filters_js_1","pseudos_js_1","aliases_js_1","subselects_js_1","compilePseudoSelector","userPseudo","stringPseudo","alias","pseudo_1","general","attributes_js_1","index_js_1","getElementParent","compileGeneralSelector","name_1","isFalseCache_1","previous","lastElement","__setModuleDefault","__importStar","general_js_1","compileUnsafe","includesScopePseudo","DESCENDANT_TOKEN","FLEXIBLE_DESCENDANT_TOKEN","SCOPE_TOKEN","absolutize","hasContext","token_1","isArrayContext","finalContext","shouldTestNextSiblings","query","rules","first","second","compileRules","reduceRules","DomUtils","defaultEquals","defaultOptions","convertOptionFormats","wrapCompile","getSelectorFunc","searchFunc","elements","filteredElements","prepareContext","elems","appendNextSiblings","elemsLength","nextSiblings","back","arr_back","matcher","replace","el","voidTag","VoidTag","addClosingSlash","tags","set","tag","attrs","innerHTML","closingSpace","closingSlash","TextNode","trimText","startPos","endPos","hasLeadingSpace","hasTrailingSpace","css_select_1","back_1","matcher_1","void_tag_1","comment_1","text_1","require$$8","Htags","Dtags","Ftags","tableTags","htmlTags","kBlockElements","addToKBlockElement","addToSet","args_1","DOMTokenList","valuesInit","afterUpdate","c1","c2","HTMLElement","keyAttrs","rawAttrs","_parseOptions","classList","cls","oldNode","newNode","newname","pre","cur","content","currentBlock","blocks","dfs","block","resetParent","pattern","childNode","res","indention","write","idStr","classStr","upperCasedTagName","re","currentNodeReference","mapChild","old","el_1","ret_attrs","kMarkupPattern","kAttributePattern","kSelfClosingElements","kElementsClosedByOpening","kElementsClosedByClosing","frameflag","base_parse","element_names","kBlockTextElements","it","kIgnoreElements","element_should_be_ignore","is_block_text_element","createRange","frameFlagOffset","currentParent","lastTextPos","noNestedTagIndex","lowerCaseTagName","fixNestedATags","dataEndPos","matchText","leadingSlash","matchLength","tagStartPos","tagEndPos","attMatch","isQuoted","parentTagName","tagEndPos_1","tagStartPos_1","closeMarkup","closeIndex","textEndPos","_loop_1","last","oneBefore","html_1","valid_1","valid","dist","parse_2","DetectMappingsWithImages","doesImageExist","ignoreToken","ignore","images","image","MiscTagRenderingChecks","layerConfig","CheckTranslation","en","txt","funcName","_g","NameSuggestionIndex","_j","_h","Tag","freeformType","_k","Validators","ValidateTagRenderings","DetectShadowedMappings","DetectMappingsShadowedByCondition","DetectConflictingAddExtraTags","ValidatePossibleLinks","PrevalidateLayer","isBuiltin","studioValidations","ValidatePointRendering","layerRegex","LayerConfig","Constants","duplicates","DeleteConfig","forbiddenTopLevel","forbiddenKey","expected","emptyIndexes","duplicateIds","ValidateFilter","pointRendering","indexM","baseTags","preset","And","properties","ValidateLanguageCompleteness","origLayers","neededLanguage","missing","DoesImageExist","knownImagePaths","checkExistsSync","OverrideShadowingCheck","overrideAll","withOverride","w","MiscThemeChecks","PrevalidateTheme","TagRenderingConfig","keysInMapping","duplicateKeys","forceError","conditionJson","condition","tagIf","ct","defaultProperties","calculatedTagName","parsedConditions","ifTags","hideInAnswer","conditionTags","keyValues","doesMatch","parse_html","links","link","_CheckTranslation","allowUndefined","keys","lng","ValidateLayerConfig","skipDefaultLayers","ValidateLayer","prepared","code","src","option","DetectDuplicatePresets","presets","enNames","dups","layerIds","optimizedTags","presetATags","presetA","presetBTags","presetB","_AllSharedLayers","sharedLayers","known_layers","AllSharedLayers","CreateNoteImportLayer","includeClosedNotesDays","layerJson","isShownIfAny","mustMatchAll","title","importButton","embed","postfix","language","subs","DependencyCalculator","deps","parts","part","specialVizs","specialViz","snapTo","dep","currentKey","currentLine","params","layerId","helpers","ExtraFunctions","SubstituteLayer","reportNotFound","withDistance","lname","layers","trPlus","hideLabels","usedLabels","filtered","labels","forbiddenLabel","unused","AddDefaultLayers","alreadyLoaded","AddImportLayers","allLayers","creator","i1","importLayerResult","AddContextToTranslationsInLayout","ApplyOverrideAll","newLayers","tagRenderingsPlus","AddDependencyLayersToTheme","allKnownLayers","themeId","dependenciesToAdd","loadedLayerIds","unmetDependencies","dependencies","layerDeps","dependency","loadedLayer","unmetDependency","reason","theme","knownTagRenderings","PreparePersonalTheme","WarnForUnsubstitutedLayersInTheme","PostvalidateTheme","basedOn","sameBasedOn","minZoomAll","sbo","same","config","sameAs","closeLayers","PrepareTheme","_ExtractImages","isOfficial","sharedTagRenderings","metapath","types","allFoundImages","mightBeTr","allRenderedValuesAreImages","foundImage","trpath","fromPath","isRendered","isImage","foundElement","cleanedImages","allPaths","metapaths","mp","typeHint","tagrenderingmetapaths","ExtractImages","FixImages","knownImages","url","absolute","replaceString","rendered","ValidateTheme","LayoutConfig","remoteImages","remoteImage","filename","targetLanguage","AllKnownLayoutsLazy","includeFavouriteLayer","layoutConfigJson","known_themes","favourite","defaultLayer","cached","layout","AllKnownLayouts"],"mappings":"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MAAM,KAAe,OAAO,EAAS,OAAO,KAAe,MAAM,KAAe,OAAO,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,KAAe,MAAM,KAAe,OAAO,KAAe,OAAO,KAAe,MAAM,KAAe,OAAO,EAAS,OAAO,KAAe,MAAM,KAAe,OAAO,KAAe,OAAO,EAAS,OAAO,KAAe,OAAO,KAAe,MAAM,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAO,SAAS,EAAO,SAAS,EAAS,SAAS,EAAS,SAAS,IAAS,SAAS,EAAS,MAAM,EAAS,MAAM,KAAe,OAAO,KAAe,MAAM,EAAS,OAAO,KAAe,OAAO,KAAe,MAAM,KAAe,OAAO,EAAO,OAAO,EAAO,SAAS,EAAO,SAAS,EAAO,SAAS,EAAO,SAAS,EAAO,QAAQ,EAAO,QAAQ,EAAO,OAAO,EAAO,OAAO,EAAS,SAAS,EAAS,SAAS,EAAO,SAAS,EAAO,SAAS,EAAO,SAAS,EAAO,SAAS,EAAS,QAAQ,EAAS,QAAQ,EAAS,QAAQ,EAAS,QAAQ,KAAe,MAAM,KAAe,OAAO,KAAe,OAAO,EAAS,OAAO,KAAe,MAAM,KAAe,OAAO,KAAe,OAAO,KAAe,MAAM,KAAe,OAAO,KAAe,OAAO,KAAe,MAAM,EAAS,OAAO,EAAS,SAAS,KAAe,MAAM,KAAe,OAAO,KAAe,OAAO,EAAS,OAAO,EAAS,KAAK,EAAS,OAAO,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,KAAe,OAAO,KAAe,OAAO,KAAe,MAAM,KAAe,OAAO,KAAe,MAAM,KAAe,OAAO,IAAS,KAAK,EAAS,SAAS,EAAS,SAAS,EAAS,QAAQ,EAAS,QAAQ,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAO,QAAQ,KAAe,MAAM,KAAe,OAAO,KAAe,OAAO,KAAe,OAAO,KAAe,MAAM,KAAe,OAAO,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,EAAS,SAAS,IAAS,QAAQ,EAAS,SAAS,EAAS,SAAS,KAAe,OAAO,KAAe,OAAO,KAAe,MAAM,KAAe,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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","x_google_ignoreList":[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45]}