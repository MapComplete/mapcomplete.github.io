import{U as g,L as p}from"./ChartJs-5572160d.js";import{C as o,F as i,T as r,J as f}from"./SvelteUIElement-3294d4fb.js";import{M as d}from"./MoreScreen-20a9d497.js";import{C as w}from"./BBox-84bb85aa.js";import{L as b}from"./LanguagePicker-4de5b8d8.js";import{t as l}from"./theme_overview-18cbb6bc.js";import{a as k}from"./List-c2027599.js";import{I as y}from"./UserInformation-82a4c2d9.js";class x extends o{constructor(){super([new i('<img class="w-12 h-12 sm:h-24 sm:w-24" src="./assets/svg/logo.svg" alt="MapComplete Logo">').SetClass("flex-none m-3"),new o([r.t.index.title.SetClass("text-2xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl block text-gray-800 xl:inline"),r.t.index.intro.SetClass("mt-3 text-base font-semibold text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0"),r.t.index.pickTheme.SetClass("mt-3 text-base text-green-600 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0")]).SetClass("flex flex-col sm:text-center lg:text-left m-1 mt-2 md:m-2 md:mt-4")]),this.SetClass("flex flex-row")}}const m=[{start_date:"2022-05-30",end_date:"2022-06-05",message:"The 3rd of June is <b><a href='https://en.wikipedia.org/wiki/World_Bicycle_Day'>World Bicycle Day</a></b>X. Go find a bike shop or bike pump nearby",featured_theme:"cyclofix"},{start_date:"2022-04-24",end_date:"2022-05-30",message:"Help translating MapComplete! If you have some free time, please translate MapComplete to your favourite language. <a href='https://www.openstreetmap.org/user/Pieter%20Vander%20Vennet/diary/398959'>Read the instructions here</a>"},{start_date:"2022-04-18",end_date:"2022-04-24",message:"The 23rd of april is <b><a href=https://en.wikipedia.org/wiki/World_Book_Day' target='_blank'>World Book Day</a></b>. Go grab a book in a public bookcase (which is a piece of street furniture containing books where books can be taken and exchanged). Or alternative, search and map all of them in your neighbourhood!",featured_theme:"bookcases"},{start_date:"2022-04-11",end_date:"2022-04-18",message:"The 15th of april is <b><a href=https://en.wikipedia.org/wiki/World_Art_Day' target='_blank'>World Art Day</a></b> - the ideal moment to go out, enjoy some artwork and add missing artwork to the map. And of course, you can snap some pictures",featured_theme:"artwork"},{start_date:"2022-03-24",end_date:"2022-03-31",message:"The 22nd of March is <b><a href='https://www.un.org/en/observances/water-day' target='_blank'>World Water Day</a></b>. Time to go out and find all the public drinking water spots!",featured_theme:"drinking_water"},{start_date:"2022-01-24",end_date:"2022-01-30",message:"The 28th of January is <b><a href='https://en.wikipedia.org/wiki/Data_Privacy_Day' target='_blank'>International Privacy Day</a></b>. Do you want to know where all the surveillance cameras are? Go find out!",featured_theme:"surveillance"},{start_date:"2021-12-27",end_date:"2021-12-30",message:"In more normal circumstances, there would be a very cool gathering in Leipzig around this time with thousands of tech-minded people. However, due to some well-known circumstances, it is a virtual-only event this year as well. However, there might be a local hackerspace nearby to fill in this void",featured_theme:"hackerspaces"},{start_date:"2021-11-01",end_date:"2021-11-07",message:"The first days of november is, in many European traditions, a moment that we remember our deceased. That is why this week the <b>ghost bikes</b> are featured. A ghost bike is a memorial in the form of a bicycle painted white which is placed to remember a cyclist whom was killed in a traffic accident. The ghostbike-theme shows such memorials. Even though there are already too much such memorials on the map, please add missing ones if you encounter them.",featured_theme:"ghostbikes"},{start_date:"2021-10-25",end_date:"2021-11-01",message:"Did you know you could link OpenStreetMap with Wikidata? With <i>name:etymology:wikidata</i>, it is even possible to link to whom or what a feature is <i>named after</i>. Quite some volunteers have done this - because it is interesting or for the <a href='https://equalstreetnames.org/' target='_blank'>Equal Street Names-project</a>. For this, a new theme has been created which shows the Wikipedia page and Wikimedia-images of this tag and which makes it easy to link them both with the search box. Give it a try!",featured_theme:"etymology"},{start_date:"2021-10-17",end_date:"2021-10-25",message:"<p>Hi all!</p><p>Thanks for using MapComplete. It has been quite a ride since it's inception, a bit over a year ago. MapComplete has grown significantly recently, which you can read more about on <a href='https://www.openstreetmap.org/user/Pieter%20Vander%20Vennet/diary/397796' target='_blank'>in my diary entry</a>.<p>Furthermore, <a target='_blank' href='https://www.openstreetmap.org/user/Nicolelaine'>NicoleLaine</a> made a really cool new theme about postboxes, so make sure to check it out!</p>",featured_theme:"postboxes"}];class n extends o{constructor(){const e=new Date;let t;for(const a of n.WelcomeMessages())a.start_date>=e||a.end_date<=e||(t!==void 0&&console.warn("Multiple applicable messages today:",t.featured_theme),t=a);t=t??void 0,super([n.CreateFeaturedBox(t)])}static WelcomeMessages(){const e=[],t=new Map;for(const a of l)t.set(a.id,a);for(const a in m){if(isNaN(Number(a)))continue;const s=m[a];if(s!==null){if(t.get(s.featured_theme)===void 0){console.log("THEMES BY ID:",t),console.error("Unkown featured theme for ",s);continue}if(!s.message){console.error("Featured message is missing for",s);continue}e.push({start_date:new Date(s.start_date),end_date:new Date(s.end_date),message:s.message,featured_theme:s.featured_theme})}}return e}static CreateFeaturedBox(e){const t=[];if(e===void 0)return;const a=new k(r.t.index.featuredThemeTitle.Clone()),s=new i(e.message).SetClass("link-underline font-lg");if(t.push(new o([a,s]).SetClass("m-4")),e.featured_theme!==void 0){const c=l.filter(u=>u.id===e.featured_theme)[0];t.push(d.createLinkButton({},c).SetClass("m-4 self-center md:w-160").SetStyle("height: min-content;"))}return new o(t).SetClass("border-2 border-grey-400 rounded-xl flex flex-col md:flex-row")}}class I{setup(){try{const e=new g(void 0),t=new o([new b(r.t.index.title.SupportedLanguages(),"").SetClass("flex absolute top-2 right-3"),new x]);new o([t,new n().SetClass("mb-4 block"),new d(e,!0),new p(void 0,r.t.index.logIn,e),new y(e.osmConnection),r.t.general.aboutMapcomplete.Subs({osmcha_link:f.OsmChaLinkFor(7)}).SetClass("link-underline"),new i("v"+w.vNumber)]).SetClass("block m-5 lg:w-3/4 lg:ml-40").SetStyle("pointer-events: all;").AttachTo("top-left")}catch(e){console.error(">>>> CRITICAL",e),new i("Seems like no layers are compiled - check the output of `npm run generate:layeroverview`. Is this visible online? Contact pietervdvn immediately!").SetClass("alert").AttachTo("top-left")}}}export{I as A};
