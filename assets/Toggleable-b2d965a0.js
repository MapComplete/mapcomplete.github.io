var m=Object.defineProperty;var n=(r,s,e)=>s in r?m(r,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[s]=e;var f=(r,s,e)=>(n(r,typeof s!="symbol"?s+"":s,e),e);import{C as d,U as h,H as c}from"./Translations-90cac94c.js";import{T as o}from"./List-2172953c.js";class g extends d{constructor(s){for(const e of s)e.isVisible.addCallbackAndRun(a=>s.forEach(i=>{i!==e&&a&&i.isVisible.setData(!1)}));super(s)}}class V extends d{constructor(e,a,i){super([e,a]);f(this,"isVisible",new h(!1));a.SetClass("animate-height border-l-4 pl-2 block"),e.SetClass("background-subtle rounded-lg");const b=this;this.onClick(()=>{b.isVisible.data?((i==null?void 0:i.closeOnClick)??!0)&&b.isVisible.setData(!1):b.isVisible.setData(!0)});const t=a.ConstructElement();if(e instanceof d){for(const l of e.getElements())if(l instanceof o){e=l;break}}e instanceof o&&(c.hash.addCallbackAndRun(l=>{l===e.id?(b.isVisible.setData(!0),a.RemoveClass("border-gray-300"),a.SetClass("border-red-300")):(a.SetClass("border-gray-300"),a.RemoveClass("border-red-300"))}),this.isVisible.addCallbackAndRun(l=>{l&&c.hash.setData(e.id)})),this.isVisible.addCallbackAndRun(l=>{l?(t.style.maxHeight=(i==null?void 0:i.height)??"100vh",t.style.overflowY="auto",t.style["-webkit-mask-image"]="unset"):(t.style["-webkit-mask-image"]="-webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)))",t.style.maxHeight="2rem")})}Collapse(){return this.isVisible.setData(!1),this}}export{g as A,V as T};
