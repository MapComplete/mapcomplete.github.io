var z=Object.defineProperty;var A=(a,t,e)=>t in a?z(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var d=(a,t,e)=>(A(a,typeof t!="symbol"?t+"":t,e),e);import{U,a as x}from"./UIEventSource-64bbdd19.js";import{Q as p}from"./tw-merge-66414870.js";import{C as Q}from"./Constants-823bf632.js";import{e as O}from"./RasterLayerProperties-357e6e36.js";import{M as F,A as Z}from"./Searchbar-eb0f1244.js";import{S as E,i as M,s as P,k,l as y,o as v,b as n,p as C,d as I,f as m,q as w,r as B,n as L,h as D,u as T,v as _,w as G,x as g}from"./index-34c7dc31.js";window.addEventListener("load",async()=>{if(!("serviceWorker"in navigator)){console.log("Service workers are not supported");return}try{await navigator.serviceWorker.register("/service-worker.js"),console.log("Service worker registration successful")}catch(a){console.error("Service worker registration failed",a)}});class b{static initSwitch(t,e,r){const o=e;return p.GetQueryParameter(t,""+o,r,{stackOffset:-1}).sync(c=>c===void 0?o:c!=="false",[],c=>c==o?void 0:""+c)}}class q{constructor(){d(this,"featureSwitchFakeUser");this.featureSwitchFakeUser=p.GetBooleanQueryParameter("fake-user",!1,"If true, 'dryrun' mode is activated and a fake user account is loaded")}}class ae extends q{constructor(e){super();d(this,"featureSwitchEnableLogin");d(this,"featureSwitchSearch");d(this,"featureSwitchBackgroundSelection");d(this,"featureSwitchWelcomeMessage");d(this,"featureSwitchCommunityIndex");d(this,"featureSwitchExtraLinkEnabled");d(this,"featureSwitchBackToThemeOverview");d(this,"featureSwitchShareScreen");d(this,"featureSwitchGeolocation");d(this,"featureSwitchCache");d(this,"featureSwitchIsTesting");d(this,"featureSwitchIsDebugging");d(this,"featureSwitchShowAllQuestions");d(this,"featureSwitchFilter");d(this,"featureSwitchEnableExport");d(this,"overpassUrl");d(this,"overpassTimeout");d(this,"overpassMaxZoom");d(this,"osmApiTileSize");d(this,"backgroundLayerId");d(this,"featureSwitchMorePrivacy");d(this,"featureSwitchLayerDefault");const r={"fs-userbadge":"fs-enable-login","fs-layers":["fs-filter","fs-background"]};for(const s in r){let c=r[s];if(p.wasInitialized(s)){typeof c=="string"&&(c=[c]);for(const h of c)if(!p.wasInitialized(h)){const l=p.GetQueryParameter(s,"","").data;console.log("Adding url param due to legacy:",s,"-->",h,"(",l+")"),p.GetQueryParameter(h,"","").setData(l)}}}this.featureSwitchEnableLogin=b.initSwitch("fs-enable-login",(e==null?void 0:e.enableUserBadge)??!0,"Disables/Enables logging in and thus disables editing all together. This effectively puts MapComplete into read-only mode."),p.wasInitialized("fs-userbadge")&&this.featureSwitchEnableLogin.setData(p.GetBooleanQueryParameter("fs-userbadge",void 0,"Legacy").data),this.featureSwitchSearch=b.initSwitch("fs-search",(e==null?void 0:e.enableSearch)??!0,"Disables/Enables the search bar"),this.featureSwitchBackgroundSelection=b.initSwitch("fs-background",(e==null?void 0:e.enableBackgroundLayerSelection)??!0,"Disables/Enables the background layer control where a user can enable e.g. aerial imagery"),this.featureSwitchFilter=b.initSwitch("fs-filter",(e==null?void 0:e.enableLayers)??!0,"Disables/Enables the filter view where a user can enable/disable MapComplete-layers or filter for certain properties"),this.featureSwitchWelcomeMessage=b.initSwitch("fs-welcome-message",!0,"Disables/enables the help menu or welcome message"),this.featureSwitchCommunityIndex=b.initSwitch("fs-community-index",this.featureSwitchEnableLogin.data,"Disables/enables the button to get in touch with the community"),this.featureSwitchExtraLinkEnabled=b.initSwitch("fs-iframe-popout",!0,"Disables/Enables the extraLink button. By default, if in iframe mode and the welcome message is hidden, a popout button to the full mapcomplete instance is shown instead (unless disabled with this switch or another extraLink button is enabled)"),this.featureSwitchBackToThemeOverview=b.initSwitch("fs-homepage-link",(e==null?void 0:e.enableMoreQuests)??!0,"Disables/Enables the various links which go back to the index page with the theme overview"),this.featureSwitchShareScreen=b.initSwitch("fs-share-screen",(e==null?void 0:e.enableShareScreen)??!0,"Disables/Enables the 'Share-screen'-tab in the welcome message"),this.featureSwitchGeolocation=b.initSwitch("fs-geolocation",(e==null?void 0:e.enableGeolocation)??!0,"Disables/Enables the geolocation button"),this.featureSwitchLayerDefault=p.GetBooleanQueryParameter("fs-layers-enabled",!0,"If set to false, all layers will be disabled - except the explicitly enabled layers"),this.featureSwitchShowAllQuestions=b.initSwitch("fs-all-questions",(e==null?void 0:e.enableShowAllQuestions)??!1,"Always show all questions"),this.featureSwitchEnableExport=b.initSwitch("fs-export",(e==null?void 0:e.enableExportButton)??!0,"Enable the export as GeoJSON and CSV button"),this.featureSwitchCache=b.initSwitch("fs-cache",(e==null?void 0:e.enableCache)??!0,"Enable/disable caching from localStorage");let o=!1;!U.runningFromConsole&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&!Q.osmAuthConfig.url.startsWith("https://master.apis.dev.openstreetmap.org")&&(o=!0),this.featureSwitchIsTesting=p.GetBooleanQueryParameter("test",o,"If true, 'dryrun' mode is activated. The app will behave as normal, except that changes to OSM will be printed onto the console instead of actually uploaded to osm.org"),this.featureSwitchIsDebugging=p.GetBooleanQueryParameter("debug",!1,"If true, shows some extra debugging help such as all the available tags on every object"),this.featureSwitchMorePrivacy=p.GetBooleanQueryParameter("moreprivacy",e.enableMorePrivacy,"If true, the location distance indication will not be written to the changeset and other privacy enhancing measures might be taken."),this.overpassUrl=p.GetQueryParameter("overpassUrl",((e==null?void 0:e.overpassUrl)??Q.defaultOverpassUrls).join(","),"Point mapcomplete to a different overpass-instance. Example: https://overpass-api.de/api/interpreter").sync(s=>s==null?void 0:s.split(","),[],s=>s==null?void 0:s.join(",")),this.overpassTimeout=x.asInt(p.GetQueryParameter("overpassTimeout",""+(e==null?void 0:e.overpassTimeout),"Set a different timeout (in seconds) for queries in overpass")),this.overpassMaxZoom=x.asFloat(p.GetQueryParameter("overpassMaxZoom",""+(e==null?void 0:e.overpassMaxZoom)," point to switch between OSM-api and overpass")),this.osmApiTileSize=x.asInt(p.GetQueryParameter("osmApiTileSize",""+(e==null?void 0:e.osmApiTileSize),"Tilesize when the OSM-API is used to fetch data within a BBOX")),this.backgroundLayerId=p.GetQueryParameter("background",e==null?void 0:e.defaultBackgroundId,["When set, load this raster layer (or a layer of this category) as background layer instead of using the default background. This is as if the user opened the background selection menu and selected the layer with the given id or category.","Most raster layers are based on the [editor layer index](https://github.com/osmlab/editor-layer-index)","#### Selecting a category","If one of the following values is used, this parameter will be interpreted as a _category_ instead of the id of a specific layer. The best layer of this category will be used. Supported categories are those from the editor layer index and are:",O.map(s=>"- "+s).join(`
`),"#### Selecting a specific layer","One can use the [ID of an ELI-layer](./ELI-overview.md) or use one of the global, builtin layers:",F.list(Z.globalLayers.map(s=>s.properties.id+(s.properties.best?" ‚≠ê":"")))].join(`

`))}}function j(a){let t,e,r,o,s,c,h,l=[a[0],{xmlns:"http://www.w3.org/2000/svg"},{width:"375px"},{height:"375px"},{viewBox:"0 0 375 375"},{version:"1.1"}],u={};for(let f=0;f<l.length;f+=1)u=k(u,l[f]);return{c(){t=y("svg"),e=y("g"),r=y("path"),o=y("path"),s=y("path"),v(r,"stroke","none"),v(r,"fill-rule","nonzero"),v(r,"fill","rgb(96.470588%,78.823531%,8.235294%)"),v(r,"fill-opacity","1"),n(r,"d","M 375.269531 339.230469 C 375.269531 359.25 359.046875 375.488281 339.011719 375.488281 L 36.511719 375.488281 C 16.496094 375.488281 0.253906 359.246094 0.253906 339.230469 L 0.253906 36.730469 C 0.253906 16.710938 16.496094 0.472656 36.511719 0.472656 L 339.011719 0.472656 C 359.046875 0.472656 375.269531 16.710938 375.269531 36.730469 L 375.269531 339.230469 "),v(o,"stroke","none"),v(o,"fill-rule","nonzero"),v(o,"fill","rgb(100%,100%,100%)"),v(o,"fill-opacity","1"),n(o,"d","M 153.082031 263.199219 C 141.003906 263.199219 131.523438 261.621094 124.636719 258.476562 C 117.746094 255.328125 112.808594 251.039062 109.835938 245.585938 C 106.855469 240.144531 105.414062 233.914062 105.5 226.839844 C 105.578125 219.78125 106.554688 212.253906 108.433594 204.257812 L 140.835938 68.777344 L 180.382812 62.65625 L 144.917969 209.621094 C 144.238281 212.679688 143.859375 215.488281 143.773438 218.035156 C 143.683594 220.585938 144.152344 222.84375 145.171875 224.796875 C 146.191406 226.757812 147.933594 228.328125 150.402344 229.515625 C 152.867188 230.710938 156.3125 231.476562 160.738281 231.816406 L 153.082031 263.179688 "),v(s,"stroke","none"),v(s,"fill-rule","nonzero"),v(s,"fill","rgb(100%,100%,100%)"),v(s,"fill-opacity","1"),n(s,"d","M 295.929688 178.757812 C 295.929688 191.171875 293.886719 202.527344 289.804688 212.820312 C 285.722656 223.113281 280.066406 232 272.839844 239.480469 C 265.609375 246.972656 256.933594 252.792969 246.8125 256.957031 C 236.695312 261.121094 225.675781 263.210938 213.777344 263.210938 C 207.992188 263.210938 202.210938 262.695312 196.425781 261.671875 L 184.945312 307.855469 L 147.183594 307.855469 L 189.535156 131.3125 C 196.339844 129.273438 204.121094 127.445312 212.878906 125.828125 C 221.640625 124.210938 231.125 123.40625 241.332031 123.40625 C 250.855469 123.40625 259.066406 124.851562 265.953125 127.742188 C 272.84375 130.632812 278.496094 134.589844 282.921875 139.605469 C 287.339844 144.625 290.613281 150.492188 292.738281 157.210938 C 294.863281 163.925781 295.929688 171.117188 295.929688 178.773438 M 203.3125 231.078125 C 206.203125 231.761719 209.773438 232.097656 214.027344 232.097656 C 220.65625 232.097656 226.695312 230.871094 232.140625 228.398438 C 237.582031 225.9375 242.21875 222.492188 246.046875 218.066406 C 249.867188 213.648438 252.847656 208.335938 254.972656 202.121094 C 257.097656 195.914062 258.160156 189.070312 258.160156 181.582031 C 258.160156 174.273438 256.542969 168.0625 253.316406 162.957031 C 250.082031 157.855469 244.472656 155.304688 236.480469 155.304688 C 231.03125 155.304688 225.929688 155.8125 221.167969 156.835938 L 203.3125 231.078125 "),n(e,"id","surface1"),C(t,u)},m(f,S){I(f,t,S),m(t,e),m(e,r),m(e,o),m(e,s),c||(h=[w(t,"click",a[2]),w(t,"mouseover",a[3]),w(t,"mouseenter",a[4]),w(t,"mouseleave",a[5]),w(t,"keydown",a[6]),w(t,"focus",a[7])],c=!0)},p(f,[S]){C(t,u=B(l,[S&1&&f[0],{xmlns:"http://www.w3.org/2000/svg"},{width:"375px"},{height:"375px"},{viewBox:"0 0 375 375"},{version:"1.1"}]))},i:L,o:L,d(f){f&&D(t),c=!1,T(h)}}}function W(a,t,e){const r=["color"];let o=_(t,r),{color:s="#000000"}=t;function c(i){g.call(this,a,i)}function h(i){g.call(this,a,i)}function l(i){g.call(this,a,i)}function u(i){g.call(this,a,i)}function f(i){g.call(this,a,i)}function S(i){g.call(this,a,i)}return a.$$set=i=>{t=k(k({},t),G(i)),e(0,o=_(t,r)),"color"in i&&e(1,s=i.color)},[o,s,c,h,l,u,f,S]}class ie extends E{constructor(t){super(),M(this,t,W,j,P,{color:1})}}function V(a){let t,e,r,o,s,c,h=[a[0],{width:"100"},{height:"100"},{version:"1.1"},{id:"svg1"},{"sodipodi:docname":"github.svg"},{viewBox:"0 0 100 100"},{"inkscape:version":"1.3.2 (1:1.3.2+202311252150+091e20ef0f)"},{"xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape"},{"xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:svg":"http://www.w3.org/2000/svg"}],l={};for(let u=0;u<h.length;u+=1)l=k(l,h[u]);return{c(){t=y("svg"),e=y("sodipodi:namedview"),r=y("defs"),o=y("path"),n(e,"id","namedview1"),n(e,"pagecolor","#ffffff"),n(e,"bordercolor","#999999"),n(e,"borderopacity","1"),n(e,"inkscape:showpageshadow","2"),n(e,"inkscape:pageopacity","0"),n(e,"inkscape:pagecheckerboard","0"),n(e,"inkscape:deskcolor","#d1d1d1"),n(e,"inkscape:zoom","8.0714286"),n(e,"inkscape:cx","49"),n(e,"inkscape:cy","48.00885"),n(e,"inkscape:window-width","1920"),n(e,"inkscape:window-height","995"),n(e,"inkscape:window-x","0"),n(e,"inkscape:window-y","0"),n(e,"inkscape:window-maximized","1"),n(e,"inkscape:current-layer","svg1"),n(r,"id","defs1"),n(o,"fill-rule","evenodd"),n(o,"clip-rule","evenodd"),n(o,"d","M 48.854,0 C 21.839,0 0,22 0,49.217 c 0,21.756 13.993,40.172 33.405,46.69 2.427,0.49 3.316,-1.059 3.316,-2.362 0,-1.141 -0.08,-5.052 -0.08,-9.127 -13.59,2.934 -16.42,-5.867 -16.42,-5.867 -2.184,-5.704 -5.42,-7.17 -5.42,-7.17 -4.448,-3.015 0.324,-3.015 0.324,-3.015 4.934,0.326 7.523,5.052 7.523,5.052 4.367,7.496 11.404,5.378 14.235,4.074 0.404,-3.178 1.699,-5.378 3.074,-6.6 -10.839,-1.141 -22.243,-5.378 -22.243,-24.283 0,-5.378 1.94,-9.778 5.014,-13.2 -0.485,-1.222 -2.184,-6.275 0.486,-13.038 0,0 4.125,-1.304 13.426,5.052 a 46.97,46.97 0 0 1 12.214,-1.63 c 4.125,0 8.33,0.571 12.213,1.63 9.302,-6.356 13.427,-5.052 13.427,-5.052 2.67,6.763 0.97,11.816 0.485,13.038 3.155,3.422 5.015,7.822 5.015,13.2 0,18.905 -11.404,23.06 -22.324,24.283 1.78,1.548 3.316,4.481 3.316,9.126 0,6.6 -0.08,11.897 -0.08,13.526 0,1.304 0.89,2.853 3.316,2.364 C 83.634,89.388 97.627,70.973 97.627,49.217 97.707,22 75.788,0 48.854,0 Z"),n(o,"fill","#24292f"),n(o,"id","path1"),C(t,l)},m(u,f){I(u,t,f),m(t,e),m(t,r),m(t,o),s||(c=[w(t,"click",a[2]),w(t,"mouseover",a[3]),w(t,"mouseenter",a[4]),w(t,"mouseleave",a[5]),w(t,"keydown",a[6]),w(t,"focus",a[7])],s=!0)},p(u,[f]){C(t,l=B(h,[f&1&&u[0],{width:"100"},{height:"100"},{version:"1.1"},{id:"svg1"},{"sodipodi:docname":"github.svg"},{viewBox:"0 0 100 100"},{"inkscape:version":"1.3.2 (1:1.3.2+202311252150+091e20ef0f)"},{"xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape"},{"xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:svg":"http://www.w3.org/2000/svg"}]))},i:L,o:L,d(u){u&&D(t),s=!1,T(c)}}}function R(a,t,e){const r=["color"];let o=_(t,r),{color:s="#000000"}=t;function c(i){g.call(this,a,i)}function h(i){g.call(this,a,i)}function l(i){g.call(this,a,i)}function u(i){g.call(this,a,i)}function f(i){g.call(this,a,i)}function S(i){g.call(this,a,i)}return a.$$set=i=>{t=k(k({},t),G(i)),e(0,o=_(t,r)),"color"in i&&e(1,s=i.color)},[o,s,c,h,l,u,f,S]}class se extends E{constructor(t){super(),M(this,t,R,V,P,{color:1})}}function J(a){let t,e,r,o,s,c=[a[1],{xmlns:"http://www.w3.org/2000/svg"},{width:"328px"},{height:"374px"},{viewBox:"0 0 328 374"},{version:"1.1"}],h={};for(let l=0;l<c.length;l+=1)h=k(h,c[l]);return{c(){t=y("svg"),e=y("g"),r=y("path"),v(r,"stroke","none"),v(r,"fill-rule","nonzero"),v(r,"fill",a[0]),v(r,"fill-opacity","1"),n(r,"d","M 257.714844 23.375 L 210.855469 70.125 L 281.144531 140.25 L 328 93.5 Z M 0 280.5 L 0.25 350.832031 L 70.285156 350.625 L 257.714844 163.625 L 187.429688 93.5 Z M 70.285156 327.25 L 23.429688 327.25 L 23.429688 280.5 L 46.855469 280.5 L 46.855469 303.875 L 70.285156 303.875 Z M 70.285156 327.25 "),n(e,"id","surface1"),C(t,h)},m(l,u){I(l,t,u),m(t,e),m(e,r),o||(s=[w(t,"click",a[2]),w(t,"mouseover",a[3]),w(t,"mouseenter",a[4]),w(t,"mouseleave",a[5]),w(t,"keydown",a[6]),w(t,"focus",a[7])],o=!0)},p(l,[u]){u&1&&v(r,"fill",l[0]),C(t,h=B(c,[u&2&&l[1],{xmlns:"http://www.w3.org/2000/svg"},{width:"328px"},{height:"374px"},{viewBox:"0 0 328 374"},{version:"1.1"}]))},i:L,o:L,d(l){l&&D(t),o=!1,T(s)}}}function N(a,t,e){const r=["color"];let o=_(t,r),{color:s="#000000"}=t;function c(i){g.call(this,a,i)}function h(i){g.call(this,a,i)}function l(i){g.call(this,a,i)}function u(i){g.call(this,a,i)}function f(i){g.call(this,a,i)}function S(i){g.call(this,a,i)}return a.$$set=i=>{t=k(k({},t),G(i)),e(1,o=_(t,r)),"color"in i&&e(0,s=i.color)},[s,o,c,h,l,u,f,S]}class oe extends E{constructor(t){super(),M(this,t,N,J,P,{color:0})}}export{ae as F,se as G,ie as L,q as O,oe as P};
//# sourceMappingURL=Pencil-ad9b74da.js.map
