{"version":3,"file":"index-258ffb8a.js","sources":["../../node_modules/@babeard/svelte-heroicons/solid/ArrowTrendingUp/ArrowTrendingUp.svelte","../../node_modules/@babeard/svelte-heroicons/mini/ChevronDoubleRight/ChevronDoubleRight.svelte","../../src/assets/svg/Logo.svelte","../../src/assets/svg/Search_disable.svelte","../../src/UI/BigComponents/NoThemeResultButton.svelte","../../src/UI/BigComponents/ThemeButton.svelte","../../src/UI/BigComponents/ThemesList.svelte","../../src/assets/svg/Eye.svelte","../../src/UI/AllThemesGui.svelte","../../src/all_themes_index.ts"],"sourcesContent":["<!-- svelte-ignore a11y-mouse-events-have-key-events --><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" aria-hidden=\"true\" {...$$restProps} on:click on:mouseover on:mouseenter on:mouseleave on:keydown><slot />\n  <path fill-rule=\"evenodd\" d=\"M15.22 6.268a.75.75 0 01.968-.432l5.942 2.28a.75.75 0 01.431.97l-2.28 5.941a.75.75 0 11-1.4-.537l1.63-4.251-1.086.483a11.2 11.2 0 00-5.45 5.174.75.75 0 01-1.199.19L9 12.31l-6.22 6.22a.75.75 0 11-1.06-1.06l6.75-6.75a.75.75 0 011.06 0l3.606 3.605a12.694 12.694 0 015.68-4.973l1.086-.484-4.251-1.631a.75.75 0 01-.432-.97z\" clip-rule=\"evenodd\"/>\n</svg>","<!-- svelte-ignore a11y-mouse-events-have-key-events --><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\" {...$$restProps} on:click on:mouseover on:mouseenter on:mouseleave on:keydown><slot />\n  <path fill-rule=\"evenodd\" d=\"M10.21 14.77a.75.75 0 01.02-1.06L14.168 10 10.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z\" clip-rule=\"evenodd\"/>\n  <path fill-rule=\"evenodd\" d=\"M4.21 14.77a.75.75 0 01.02-1.06L8.168 10 4.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z\" clip-rule=\"evenodd\"/>\n</svg>","<script>\nexport let color = \"#000000\"\n</script>\n <svg {...$$restProps} on:click on:mouseover on:mouseenter on:mouseleave on:keydown on:focus xmlns=\"http://www.w3.org/2000/svg\" width=\"375px\" height=\"375px\" viewBox=\"0 0 375 375\" version=\"1.1\">   <g id=\"surface1\">     <path style=\" stroke:none;fill-rule:nonzero;fill:rgb(43.921569%,77.254903%,28.627452%);fill-opacity:1;\" d=\"M 201.085938 355.023438 C 195.375 366.917969 178.441406 366.917969 172.734375 355.023438 L 76.523438 154.683594 C 71.507812 144.242188 79.117188 132.148438 90.699219 132.148438 L 283.117188 132.148438 C 294.699219 132.148438 302.308594 144.242188 297.296875 154.683594 Z M 201.085938 355.023438 \"/>     <path style=\" stroke:none;fill-rule:nonzero;fill:rgb(43.921569%,77.254903%,28.627452%);fill-opacity:1;\" d=\"M 342.59375 158.097656 C 342.59375 243.210938 273.59375 312.207031 188.480469 312.207031 C 103.367188 312.207031 34.371094 243.210938 34.371094 158.097656 C 34.371094 72.984375 103.367188 3.984375 188.480469 3.984375 C 273.59375 3.984375 342.59375 72.984375 342.59375 158.097656 Z M 342.59375 158.097656 \"/>     <path style=\"fill: none !important;stroke-width:7.514114;stroke-linecap:round;stroke-linejoin:miter;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:4;\" d=\"M 22.101062 291.358818 L 5.785685 275.043441 \" transform=\"matrix(4.921187,-4.921187,4.921187,4.921187,-1274.875828,-1169.962203)\"/>     <path style=\"fill: none !important;stroke-width:7.514114;stroke-linecap:round;stroke-linejoin:miter;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:4;\" d=\"M 22.125669 274.965256 L 5.810292 291.280633 \" transform=\"matrix(4.921187,-4.921187,4.921187,4.921187,-1274.875828,-1169.962203)\"/>   </g> </svg>","<script>\nexport let color = \"#000000\"\n</script>\n <svg {...$$restProps} on:click on:mouseover on:mouseenter on:mouseleave on:keydown on:focus    width=\"375px\"    height=\"375px\"    viewBox=\"0 0 375 375\"    version=\"1.1\"    id=\"svg5\"    sodipodi:docname=\"search_disable.svg\"    inkscape:version=\"1.1.2 (1:1.1+202202050950+0a00cf5339)\"    xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"    xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"    xmlns=\"http://www.w3.org/2000/svg\"    xmlns:svg=\"http://www.w3.org/2000/svg\">   <defs      id=\"defs9\" />   <sodipodi:namedview      id=\"namedview7\"      pagecolor=\"#505050\"      bordercolor=\"#eeeeee\"      borderopacity=\"1\"      inkscape:pageshadow=\"0\"      inkscape:pageopacity=\"0\"      inkscape:pagecheckerboard=\"0\"      showgrid=\"false\"      inkscape:zoom=\"1.6000736\"      inkscape:cx=\"196.86595\"      inkscape:cy=\"179.99172\"      inkscape:current-layer=\"svg5\" />   <g      id=\"surface1\"      transform=\"matrix(1.1985554,0,0,1.1985554,-33.672544,-42.708466)\">     <path        style=\"fill:{color};fill-opacity:1;fill-rule:nonzero;stroke:none\"        d=\"m 50.9375,296.0625 74.25,-74.1875 5.3125,-3.125 C 117.39453,200.42969 110.35547,178.46484 110.375,155.9375 110.4102,95.917969 159.08594,47.289062 219.10547,47.3125 279.12109,47.33594 327.76172,96.003906 327.75,156.01953 327.7383,216.03906 279.08203,264.6875 219.0625,264.6875 c -22.54688,0.0234 -44.52734,-7.0625 -62.8125,-20.25 l -3.0625,5.3125 -74.21875,74.15625 c -5.9375,5.875 -16.96875,4.4375 -24.6875,-3.28125 -7.71875,-7.71875 -9.15625,-18.75 -3.25,-24.6875 z M 219,225.125 c 38.14844,0.0352 69.10156,-30.87109 69.125,-69.01953 C 288.14844,117.95313 257.23437,87.011719 219.08203,87 180.93359,86.988281 150,117.91406 150,156.0625 c -0.0508,18.34766 7.20312,35.96484 20.16016,48.95703 12.95703,12.99219 30.55468,20.29297 48.90234,20.29297 z m 0,0\"        id=\"path2\" />   </g>   <g      id=\"surface1-3\"      transform=\"matrix(1.2223339,0,0,1.2223339,-109.30534,-253.2447)\"      style=\"fill:#ff0000;fill-opacity:1\">     <path        style=\"fill:#ff0000;fill-opacity:1;stroke:#b40000;stroke-width:34.2679;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1\"        d=\"M 364.47831,491.73933 252.63509,379.89612\"        id=\"path826\" />     <path        style=\"fill:#ff0000;fill-opacity:1;stroke:#b40000;stroke-width:34.2684;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1\"        d=\"M 364.64638,379.35739 252.80473,491.199\"        id=\"path828\" />   </g> </svg> ","<script context=\"module\" lang=\"ts\">\n  export interface Theme {\n    id: string\n    icon: string\n    title: any\n    shortDescription: any\n    definition?: any\n    mustHaveLanguage?: boolean\n    hideFromOverview: boolean\n    keywords?: any[]\n  }\n</script>\n\n<script lang=\"ts\">\n  import { UIEventSource } from \"../../Logic/UIEventSource\"\n  import Translations from \"../i18n/Translations\"\n  import Tr from \"../Base/Tr.svelte\"\n  import Search_disable from \"../../assets/svg/Search_disable.svelte\"\n\n  export let search: UIEventSource<string>\n\n  const t = Translations.t.general.morescreen\n</script>\n\n<div class=\"w-full\">\n  <h5>{t.noMatchingThemes.toString()}</h5>\n  <div class=\"flex justify-center\">\n    <button on:click={() => search.setData(\"\")}>\n      <Search_disable class=\"mr-2 w-6\" />\n      <Tr t={t.noSearch} />\n    </button>\n  </div>\n</div>\n","<script lang=\"ts\">\n  import { ImmutableStore, Store } from \"../../Logic/UIEventSource\"\n  import { OsmConnection } from \"../../Logic/Osm/OsmConnection\"\n  import type { MinimalLayoutInformation } from \"../../Models/ThemeConfig/LayoutConfig\"\n  import Tr from \"../Base/Tr.svelte\"\n  import Translations from \"../i18n/Translations\"\n  import Marker from \"../Map/Marker.svelte\"\n\n  export let theme: MinimalLayoutInformation & {isOfficial?: boolean}\n  let isCustom: boolean = theme.id.startsWith(\"https://\") || theme.id.startsWith(\"http://\")\n  export let state: { layoutToUse?: { id: string }; osmConnection: OsmConnection }\n\n  $: title = Translations.T(\n    theme.title,\n    !isCustom && !theme.mustHaveLanguage ? \"themes:\" + theme.id + \".title\" : undefined\n  )\n  $: description = Translations.T(theme.shortDescription)\n\n  function createUrl(\n    layout: { id: string; definition?: string },\n    isCustom: boolean,\n    state?: { layoutToUse?: { id } }\n  ): Store<string> {\n    if (layout === undefined) {\n      return undefined\n    }\n    if (layout.id === undefined) {\n      console.error(\"ID is undefined for layout\", layout)\n      return undefined\n    }\n\n    if (layout.id === state?.layoutToUse?.id) {\n      return undefined\n    }\n\n    let path = window.location.pathname\n    // Path starts with a '/' and contains everything, e.g. '/dir/dir/page.html'\n    path = path.substr(0, path.lastIndexOf(\"/\"))\n    // Path will now contain '/dir/dir', or empty string in case of nothing\n    if (path === \"\") {\n      path = \".\"\n    }\n\n    let linkPrefix = `${path}/${layout.id.toLowerCase()}.html?`\n    if (\n      location.hostname === \"localhost\" ||\n      location.hostname === \"127.0.0.1\" ||\n      location.port === \"1234\"\n    ) {\n      // Redirect to 'theme.html?layout=* instead of 'layout.html'. This is probably a debug run, where the routing does not work\n      linkPrefix = `${path}/theme.html?layout=${layout.id}&`\n    }\n\n    if (isCustom) {\n      linkPrefix = `${path}/theme.html?userlayout=${layout.id}&`\n    }\n\n    let hash = \"\"\n    if (layout.definition !== undefined) {\n      hash = \"#\" + btoa(JSON.stringify(layout.definition))\n    }\n\n    return new ImmutableStore<string>(`${linkPrefix}${hash}`)\n  }\n\n  let href = createUrl(theme, isCustom, state)\n</script>\n\n  <a class=\"low-interaction my-1 flex w-full items-center text-ellipsis rounded p-1\" href={$href}>\n    <Marker icons={theme.icon} size=\"block h-8 w-8 sm:h-11 sm:w-11 m-1 sm:mx-2 md:mx-4 shrink-0\" />\n\n    <span class=\"flex flex-col overflow-hidden text-ellipsis text-xl font-bold\">\n      <Tr cls=\"\" t={title} />\n      <Tr cls=\"subtle text-base\" t={description} />\n      <slot/>\n    </span>\n  </a>\n","<script lang=\"ts\">\n  import NoThemeResultButton from \"./NoThemeResultButton.svelte\"\n\n  import { OsmConnection } from \"../../Logic/Osm/OsmConnection\"\n  import { UIEventSource } from \"../../Logic/UIEventSource\"\n  import ThemeButton from \"./ThemeButton.svelte\"\n  import { MinimalLayoutInformation } from \"../../Models/ThemeConfig/LayoutConfig\"\n  import Translations from \"../i18n/Translations\"\n  import Tr from \"../Base/Tr.svelte\"\n\n  export let search: UIEventSource<string>\n  export let themes: MinimalLayoutInformation[]\n  export let state: { osmConnection: OsmConnection }\n\n  export let hasSelection : boolean = true\n\n</script>\n\n<section class=\"w-full\">\n  <slot name=\"title\" />\n  <div class=\"theme-list my-2 gap-4 md:grid md:grid-flow-row md:grid-cols-2 lg:grid-cols-3\">\n    {#each themes as theme (theme.id)}\n      <ThemeButton\n        {theme}\n        {state}\n      >\n        {#if $search && hasSelection && themes?.[0] === theme}\n        <span class=\"thanks hidden-on-mobile\" aria-hidden=\"true\">\n          <Tr t={Translations.t.general.morescreen.enterToOpen} />\n        </span>\n        {/if}\n      </ThemeButton>\n    {/each}\n  </div>\n\n  {#if themes?.length === 0}\n    <NoThemeResultButton {search} />\n  {/if}\n</section>\n","<script>\nexport let color = \"#000000\"\n</script>\n <svg {...$$restProps} on:click on:mouseover on:mouseenter on:mouseleave on:keydown on:focus xmlns=\"http://www.w3.org/2000/svg\" width=\"375px\" height=\"375px\" viewBox=\"0 0 375 375\" version=\"1.1\">   <g id=\"surface1\">     <path style=\" stroke:none;fill-rule:nonzero;fill:{color};fill-opacity:1;\" d=\"M 343.453125 190.519531 C 322.914062 158.628906 297.171875 134.777344 266.222656 118.964844 C 274.46875 133.019531 278.589844 148.222656 278.589844 164.574219 C 278.589844 189.574219 269.703125 210.960938 251.933594 228.730469 C 234.164062 246.5 212.777344 255.386719 187.777344 255.386719 C 162.777344 255.386719 141.394531 246.5 123.621094 228.730469 C 105.851562 210.960938 96.96875 189.574219 96.96875 164.574219 C 96.96875 148.222656 101.089844 133.019531 109.332031 118.964844 C 78.386719 134.777344 52.644531 158.628906 32.101562 190.519531 C 50.074219 218.222656 72.609375 240.285156 99.703125 256.703125 C 126.796875 273.121094 156.15625 281.332031 187.777344 281.332031 C 219.398438 281.332031 248.757812 273.121094 275.851562 256.703125 C 302.945312 240.285156 325.480469 218.222656 343.453125 190.519531 Z M 197.507812 112.683594 C 197.507812 109.980469 196.5625 107.683594 194.671875 105.789062 C 192.777344 103.898438 190.480469 102.953125 187.777344 102.953125 C 170.886719 102.953125 156.394531 109 144.296875 121.09375 C 132.203125 133.1875 126.15625 147.683594 126.15625 164.574219 C 126.15625 167.277344 127.101562 169.574219 128.996094 171.464844 C 130.886719 173.359375 133.183594 174.304688 135.886719 174.304688 C 138.589844 174.304688 140.886719 173.359375 142.777344 171.464844 C 144.671875 169.574219 145.617188 167.277344 145.617188 164.574219 C 145.617188 152.953125 149.738281 143.019531 157.980469 134.777344 C 166.222656 126.535156 176.15625 122.410156 187.777344 122.410156 C 190.480469 122.410156 192.777344 121.464844 194.671875 119.574219 C 196.5625 117.683594 197.507812 115.386719 197.507812 112.683594 Z M 369.398438 190.519531 C 369.398438 195.113281 368.046875 199.777344 365.347656 204.507812 C 346.425781 235.585938 320.988281 260.484375 289.027344 279.203125 C 257.070312 297.917969 223.320312 307.277344 187.777344 307.277344 C 152.238281 307.277344 118.488281 297.886719 86.527344 279.101562 C 54.570312 260.316406 29.128906 235.453125 10.210938 204.507812 C 7.507812 199.777344 6.15625 195.113281 6.15625 190.519531 C 6.15625 185.925781 7.507812 181.261719 10.210938 176.535156 C 29.128906 145.585938 54.570312 120.722656 86.527344 101.9375 C 118.488281 83.15625 152.238281 73.761719 187.777344 73.761719 C 223.320312 73.761719 257.070312 83.15625 289.027344 101.9375 C 320.988281 120.722656 346.425781 145.585938 365.347656 176.535156 C 368.046875 181.261719 369.398438 185.925781 369.398438 190.519531 Z M 369.398438 190.519531 \"/>   </g> </svg>","<script lang=\"ts\">\n  import { OsmConnectionFeatureSwitches } from \"../Logic/State/FeatureSwitchState\"\n  import { OsmConnection } from \"../Logic/Osm/OsmConnection\"\n  import { QueryParameters } from \"../Logic/Web/QueryParameters\"\n  import UserRelatedState from \"../Logic/State/UserRelatedState\"\n  import LanguagePicker from \"./InputElement/LanguagePicker.svelte\"\n  import Translations from \"./i18n/Translations\"\n  import Logo from \"../assets/svg/Logo.svelte\"\n  import Tr from \"./Base/Tr.svelte\"\n  import LoginToggle from \"./Base/LoginToggle.svelte\"\n  import Pencil from \"../assets/svg/Pencil.svelte\"\n  import Constants from \"../Models/Constants\"\n  import { ImmutableStore, Store, Stores, UIEventSource } from \"../Logic/UIEventSource\"\n  import ThemesList from \"./BigComponents/ThemesList.svelte\"\n  import { MinimalLayoutInformation } from \"../Models/ThemeConfig/LayoutConfig\"\n  import Eye from \"../assets/svg/Eye.svelte\"\n  import LoginButton from \"./Base/LoginButton.svelte\"\n  import Mastodon from \"../assets/svg/Mastodon.svelte\"\n  import Liberapay from \"../assets/svg/Liberapay.svelte\"\n  import Bug from \"../assets/svg/Bug.svelte\"\n  import Github from \"../assets/svg/Github.svelte\"\n  import { Utils } from \"../Utils\"\n  import { ArrowTrendingUp } from \"@babeard/svelte-heroicons/solid/ArrowTrendingUp\"\n  import Searchbar from \"./Base/Searchbar.svelte\"\n  import ThemeSearch from \"../Logic/Search/ThemeSearch\"\n  import SearchUtils from \"../Logic/Search/SearchUtils\"\n  import ChevronDoubleRight from \"@babeard/svelte-heroicons/mini/ChevronDoubleRight\"\n\n  const featureSwitches = new OsmConnectionFeatureSwitches()\n  const osmConnection = new OsmConnection({\n    fakeUser: featureSwitches.featureSwitchFakeUser.data,\n    oauth_token: QueryParameters.GetQueryParameter(\n      \"oauth_token\",\n      undefined,\n      \"Used to complete the login\"\n    )\n  })\n  const state = new UserRelatedState(osmConnection)\n  const t = Translations.t.index\n  const tu = Translations.t.general\n  const tr = Translations.t.general.morescreen\n\n  let userLanguages = osmConnection.userDetails.map((ud) => ud.languages)\n  let search: UIEventSource<string | undefined> = new UIEventSource<string>(\"\")\n  let searchStable = search.stabilized(100)\n\n  let searchIsFocused = new UIEventSource(true)\n\n  const officialThemes: MinimalLayoutInformation[] = ThemeSearch.officialThemes.themes.filter(th => th.hideFromOverview === false)\n  const hiddenThemes: MinimalLayoutInformation[] = ThemeSearch.officialThemes.themes.filter(th => th.hideFromOverview === true)\n  let visitedHiddenThemes: Store<MinimalLayoutInformation[]> = UserRelatedState.initDiscoveredHiddenThemes(state.osmConnection)\n    .map((knownIds) => hiddenThemes.filter((theme) =>\n      knownIds.indexOf(theme.id) >= 0 || state.osmConnection.userDetails.data.name === \"Pieter Vander Vennet\"\n    ))\n\n  const customThemes: Store<MinimalLayoutInformation[]> = Stores.ListStabilized<string>(state.installedUserThemes)\n    .mapD(stableIds => Utils.NoNullInplace(stableIds.map(id => state.getUnofficialTheme(id))))\n\n  function filtered(themes: Store<MinimalLayoutInformation[]>): Store<MinimalLayoutInformation[]> {\n    return searchStable.map(search => {\n      if (!search) {\n        return themes.data\n      }\n\n      const start = new Date().getTime()\n      const scores = ThemeSearch.sortedByLowestScores(search, themes.data)\n      const end = new Date().getTime()\n      console.trace(\"Scores for\", search , \"are\", scores, \"searching took\", end - start,\"ms\")\n      const strict = scores.filter(sc => sc.lowest < 2)\n      if (strict.length > 0) {\n        return strict.map(sc => sc.theme)\n      }\n      return scores.filter(sc => sc.lowest < 4).slice(0, 6).map(sc => sc.theme)\n    }, [themes])\n  }\n\n\n  let officialSearched : Store<MinimalLayoutInformation[]>= filtered(new ImmutableStore(officialThemes))\n  let hiddenSearched: Store<MinimalLayoutInformation[]> =  filtered(visitedHiddenThemes)\n  let customSearched: Store<MinimalLayoutInformation[]> = filtered(customThemes)\n\n\n  let searchIsFocussed = new UIEventSource(false)\n  document.addEventListener(\"keydown\", function(event) {\n    if (event.ctrlKey && event.code === \"KeyF\") {\n      searchIsFocussed.set(true)\n      event.preventDefault()\n    }\n  })\n\n  function applySearch() {\n    const didRedirect = SearchUtils.applySpecialSearch(search.data)\n    console.log(\"Did redirect?\", didRedirect)\n    if (didRedirect) {\n      // Just for style and readability; won't _actually_ reach this\n      return\n    }\n\n    const candidate = officialSearched.data[0] ?? hiddenSearched.data[0] ?? customSearched.data[0]\n    if (!candidate) {\n      return\n    }\n\n    window.location.href = ThemeSearch.createUrlFor(candidate, undefined)\n\n  }\n\n\n</script>\n\n<main>\n  <div class=\"m-4 flex flex-col\">\n    <LanguagePicker\n      clss=\"self-end max-w-full\"\n      assignTo={state.language}\n      availableLanguages={t.title.SupportedLanguages()}\n      preferredLanguages={userLanguages}\n    />\n\n    <div class=\"mt-4 flex\">\n      <div class=\"m-3 flex-none\">\n        <Logo alt=\"MapComplete Logo\" class=\"h-12 w-12 sm:h-24 sm:w-24\" />\n      </div>\n\n      <div class=\"link-underline flex flex-col\">\n        <h1 class=\"m-0 font-extrabold tracking-tight md:text-6xl\">\n          <Tr t={t.title} />\n        </h1>\n        <Tr\n          cls=\"mr-4 text-base font-semibold sm:text-lg md:mt-5 md:text-xl lg:mx-0\"\n          t={Translations.t.index.intro}\n        />\n        <a href=\"#about\">\n          <Tr t={Translations.t.index.learnMore} />\n          <ChevronDoubleRight class=\"inline h-4 w-4\" />\n        </a>\n      </div>\n    </div>\n\n    <Searchbar value={search} placeholder={tr.searchForATheme} on:search={() => applySearch()} autofocus isFocused={searchIsFocussed} />\n\n    <ThemesList {search} {state} themes={$officialSearched} />\n\n    <LoginToggle {state}>\n      <LoginButton clss=\"primary\" {osmConnection} slot=\"not-logged-in\">\n        <Tr t={t.logIn} />\n      </LoginButton>\n      <ThemesList\n        {search}\n        {state}\n        themes={$hiddenSearched}\n        hasSelection={$officialSearched.length === 0}\n      >\n        <svelte:fragment slot=\"title\">\n          <h3>\n            <Tr t={tr.previouslyHiddenTitle} />\n          </h3>\n          <p>\n            <Tr\n              t={tr.hiddenExplanation.Subs({\n                hidden_discovered: $visitedHiddenThemes.length.toString(),\n                total_hidden: hiddenThemes.length.toString(),\n              })}\n            />\n          </p>\n        </svelte:fragment>\n      </ThemesList>\n\n      {#if $customThemes.length > 0}\n        <ThemesList {search} {state} themes={$customSearched}\n                    hasSelection={$officialSearched.length === 0 && $hiddenSearched.length === 0}\n        >\n          <svelte:fragment slot=\"title\">\n            <h3>\n              <Tr t={tu.customThemeTitle} />\n            </h3>\n            <Tr t={tu.customThemeIntro} />\n          </svelte:fragment>\n        </ThemesList>\n      {/if}\n\n    </LoginToggle>\n\n    <a\n      class=\"button flex\"\n      href={window.location.protocol + \"//\" + window.location.host + \"/studio.html\"}\n    >\n      <Pencil class=\"mr-2 h-6 w-6\" />\n      <Tr t={Translations.t.general.morescreen.createYourOwnTheme} />\n    </a>\n\n    <h3 id=\"about\">\n      <Tr t={Translations.t.index.about} />\n    </h3>\n    <Tr cls=\"link-underline\" t={Translations.t.general.aboutMapComplete.intro} />\n\n    <span class=\"link-underline flex flex-col gap-y-1\">\n      <a class=\"flex\" href=\"https://github.com/pietervdvn/MapComplete/\" target=\"_blank\">\n        <Github class=\"mr-2 h-6 w-6\" />\n        <Tr t={Translations.t.general.attribution.gotoSourceCode} />\n      </a>\n      <a class=\"flex\" href=\"https://github.com/pietervdvn/MapComplete/issues\" target=\"_blank\">\n        <Bug class=\"mr-2 h-6 w-6\" />\n        <Tr t={Translations.t.general.attribution.openIssueTracker} />\n      </a>\n\n      <a class=\"flex\" href={Utils.OsmChaLinkFor(7)} target=\"_blank\">\n        <ArrowTrendingUp class=\"mr-2 h-6 w-6\" />\n        <Tr t={Translations.t.general.attribution.openOsmchaLastWeek} />\n      </a>\n\n      <a class=\"flex\" href=\"https://en.osm.town/@MapComplete\" target=\"_blank\">\n        <Mastodon class=\"mr-2 h-6 w-6\" />\n        <Tr t={Translations.t.general.attribution.followOnMastodon} />\n      </a>\n\n      <a class=\"flex\" href=\"https://liberapay.com/pietervdvn/\" target=\"_blank\">\n        <Liberapay class=\"mr-2 h-6 w-6\" />\n        <Tr t={Translations.t.general.attribution.donate} />\n      </a>\n\n      <a\n        class=\"flex\"\n        href={window.location.protocol + \"//\" + window.location.host + \"/privacy.html\"}\n      >\n        <Eye class=\"mr-2 h-6 w-6\" />\n        <Tr t={Translations.t.privacy.title} />\n      </a>\n    </span>\n\n    <Tr t={tr.streetcomplete} />\n\n    <div class=\"subtle mb-16 self-end\">\n      v{Constants.vNumber}\n    </div>\n  </div>\n</main>\n","import { QueryParameters } from \"./Logic/Web/QueryParameters\"\nimport AllThemesGui from \"./UI/AllThemesGui.svelte\"\n\nconst layout = QueryParameters.GetQueryParameter(\"layout\", undefined).data ?? \"\"\nconst customLayout = QueryParameters.GetQueryParameter(\"userlayout\", undefined).data ?? \"\"\nconst l = window.location\nif (layout !== \"\") {\n    if (window.location.host.startsWith(\"127.0.0.1\")) {\n        window.location.replace(\n            l.protocol +\n                \"//\" +\n                window.location.host +\n                \"/theme.html\" +\n                l.search +\n                \"&layout=\" +\n                layout +\n                l.hash\n        )\n    } else {\n        window.location.replace(\n            l.protocol + \"//\" + window.location.host + \"/\" + layout + \".html\" + l.search + l.hash\n        )\n    }\n} else if (customLayout !== \"\") {\n    window.location.replace(\n        l.protocol + \"//\" + window.location.host + \"/theme.html\" + l.search + l.hash\n    )\n}\n\nnew AllThemesGui({\n    target: document.getElementById(\"main\"),\n})\n"],"names":["ctx","insert","target","svg","anchor","append","path","path0","path1","g","path2","path3","color","$$props","defs","sodipodi_namedview","g0","g1","tr","Tr","div1","h5","div0","button","search","t","Translations","a","span","dirty","marker_changes","theme","isCustom","state","createUrl","layout","linkPrefix","hash","ImmutableStore","href","$$invalidate","title","description","if_block","_a","create_if_block_1","get_key","i","create_if_block","section","div","themes","hasSelection","h3","p","tr_1","tr0","tr4","div3","Constants","attr","a1","Utils","a7","main","div4","div2","h1","a0","a2","a3","a4","a5","a6","featureSwitches","OsmConnectionFeatureSwitches","osmConnection","OsmConnection","QueryParameters","UserRelatedState","tu","userLanguages","ud","UIEventSource","searchStable","officialThemes","ThemeSearch","th","hiddenThemes","visitedHiddenThemes","knownIds","customThemes","Stores","stableIds","id","filtered","start","scores","strict","sc","officialSearched","hiddenSearched","customSearched","searchIsFocussed","event","applySearch","didRedirect","SearchUtils","candidate","customLayout","l","AllThemesGui"],"mappings":"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","x_google_ignoreList":[0,1]}