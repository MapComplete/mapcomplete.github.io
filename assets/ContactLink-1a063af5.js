import{a as H,i as J,s as K,h as b,j as y,b as w,m as p,t as k,z as N,c as C,d as E,N as P,T as Q,O as R,a2 as L,a3 as M,_,a1 as A,y as F,M as U,D as V,E as W,v as X,G as Y}from"./SvelteUIElement-0790b58c.js";import{T as Z}from"./ToSvelte-106544e1.js";import{a as x}from"./language_native-373a312a.js";function B(o,t,n){const s=o.slice();return s[7]=t[n],s}function D(o){var a;let t,n=((a=o[0])==null?void 0:a.nameEn)+"",s;return{c(){t=b("h3"),s=L(n)},m(r,e){w(r,t,e),p(t,s)},p(r,e){var d;e&1&&n!==(n=((d=r[0])==null?void 0:d.nameEn)+"")&&M(s,n)},d(r){r&&E(t)}}}function G(o){let t,n,s;return n=new Z({props:{construct:o[5]}}),{c(){t=b("span"),V(n.$$.fragment),_(t,"class","border-2 rounded-full border-lime-500 text-sm w-fit px-2")},m(a,r){w(a,t,r),W(n,t,null),s=!0},p:X,i(a){s||(k(n.$$.fragment,a),s=!0)},o(a){C(n.$$.fragment,a),s=!1},d(a){a&&E(t),Y(n)}}}function I(o){var j,q;let t,n,s,a,r,e,d=(o[7].resolved.name??o[7].resolved.url)+"",v,l,i,m=((j=o[7].resolved)==null?void 0:j.description)+"",u,T,O=((q=o[7].languageCodes)==null?void 0:q.indexOf(o[2]))>=0,$,h,c=O&&G(o);return{c(){t=b("div"),n=b("img"),a=y(),r=b("div"),e=b("a"),v=L(d),i=y(),u=L(m),T=y(),c&&c.c(),$=y(),_(n,"class","w-8 h-8 m-2"),A(n.src,s=`https://raw.githubusercontent.com/pietervdvn/MapComplete-data/main/community_index/${o[7].type}.svg`)||_(n,"src",s),_(e,"href",l=o[7].resolved.url),_(e,"target","_blank"),_(e,"rel","noreferrer nofollow"),_(e,"class","font-bold"),_(r,"class","flex flex-col"),_(t,"class","flex link-underline items-center my-4")},m(f,g){w(f,t,g),p(t,n),p(t,a),p(t,r),p(r,e),p(e,v),p(r,i),p(r,u),p(r,T),c&&c.m(r,null),p(t,$),h=!0},p(f,g){var S,z;(!h||g&2&&!A(n.src,s=`https://raw.githubusercontent.com/pietervdvn/MapComplete-data/main/community_index/${f[7].type}.svg`))&&_(n,"src",s),(!h||g&2)&&d!==(d=(f[7].resolved.name??f[7].resolved.url)+"")&&M(v,d),(!h||g&2&&l!==(l=f[7].resolved.url))&&_(e,"href",l),(!h||g&2)&&m!==(m=((S=f[7].resolved)==null?void 0:S.description)+"")&&M(u,m),g&6&&(O=((z=f[7].languageCodes)==null?void 0:z.indexOf(f[2]))>=0),O?c?(c.p(f,g),g&6&&k(c,1)):(c=G(f),c.c(),k(c,1),c.m(r,null)):c&&(F(),C(c,1,1,()=>{c=null}),N())},i(f){h||(k(c),h=!0)},o(f){C(c),h=!1},d(f){f&&E(t),c&&c.d()}}}function ee(o){var v;let t,n,s,a=((v=o[0])==null?void 0:v.nameEn)&&D(o),r=o[1],e=[];for(let l=0;l<r.length;l+=1)e[l]=I(B(o,r,l));const d=l=>C(e[l],1,1,()=>{e[l]=null});return{c(){t=b("div"),a&&a.c(),n=y();for(let l=0;l<e.length;l+=1)e[l].c()},m(l,i){w(l,t,i),a&&a.m(t,null),p(t,n);for(let m=0;m<e.length;m+=1)e[m].m(t,null);s=!0},p(l,[i]){var m;if((m=l[0])!=null&&m.nameEn?a?a.p(l,i):(a=D(l),a.c(),a.m(t,n)):a&&(a.d(1),a=null),i&14){r=l[1];let u;for(u=0;u<r.length;u+=1){const T=B(l,r,u);e[u]?(e[u].p(T,i),k(e[u],1)):(e[u]=I(T),e[u].c(),k(e[u],1),e[u].m(t,null))}for(F(),u=r.length;u<e.length;u+=1)d(u);N()}},i(l){if(!s){for(let i=0;i<r.length;i+=1)k(e[i]);s=!0}},o(l){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)C(e[i]);s=!1},d(l){l&&E(t),a&&a.d(),P(e,l)}}}function te(o,t,n){let s;const r=Q.t.communityIndex.available.OnEveryLanguage((i,m)=>i.replace("{native}",x[m]??m));let{country:e}=t,d=[];const v=U.language;R(o,v,i=>n(2,s=i));const l=()=>r.Clone();return o.$$set=i=>{"country"in i&&n(0,e=i.country)},o.$$.update=()=>{o.$$.dirty&1&&n(1,d=Array.from(Object.values((e==null?void 0:e.resources)??{})))},[e,d,s,r,v,l]}class re extends H{constructor(t){super(),J(this,t,te,ee,K,{country:0})}}export{re as C};
