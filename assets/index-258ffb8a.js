import"./modulepreload-polyfill-3cfb730f.js";import{T as U,a as F,Q as Ze}from"./tw-merge-60e45232.js";import{S as J,i as Y,s as X,y as je,k as j,l as z,b as m,p as W,d as O,f as d,q as B,z as Ee,A as Ge,B as Ne,r as Le,t as p,g as w,h as P,u as Be,v as q,w as De,x as D,o as _,n as A,e as L,a as T,c as k,m as b,j as C,F as Se,D as Fe,T as wt,U as $t,E as Ie,C as dt,G as _t}from"./index-34c7dc31.js";import{P as vt,G as kt,L as bt,O as Ct}from"./Pencil-1d79a0c6.js";import{O as St}from"./OsmConnection-1518eca2.js";import{M as Tt,d as yt,a as Mt,U as it,T as Pe,b as Lt,j as Bt}from"./Marker-0ef5d3e2.js";import{C as Dt}from"./Constants-269ad162.js";import{I as gt,U as pt,a as He,S as Ut}from"./UIEventSource-f39c8b5a.js";import{S as zt,j as Ot,k as Pt}from"./Searchbar-172ab4a7.js";import"./LocalStorageSource-0ef3f4e1.js";import"./tw-join-70ce42f3.js";import"./Loading-aa985c94.js";import"./Dropdown-6d9b489e.js";function Ft(t){let e,s,n,o,l;const i=t[2].default,a=je(i,t,t[1],null);let f=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},{fill:"currentColor"},{"aria-hidden":"true"},t[0]],c={};for(let h=0;h<f.length;h+=1)c=j(c,f[h]);return{c(){e=z("svg"),a&&a.c(),s=z("path"),m(s,"fill-rule","evenodd"),m(s,"d","M15.22 6.268a.75.75 0 01.968-.432l5.942 2.28a.75.75 0 01.431.97l-2.28 5.941a.75.75 0 11-1.4-.537l1.63-4.251-1.086.483a11.2 11.2 0 00-5.45 5.174.75.75 0 01-1.199.19L9 12.31l-6.22 6.22a.75.75 0 11-1.06-1.06l6.75-6.75a.75.75 0 011.06 0l3.606 3.605a12.694 12.694 0 015.68-4.973l1.086-.484-4.251-1.631a.75.75 0 01-.432-.97z"),m(s,"clip-rule","evenodd"),W(e,c)},m(h,u){O(h,e,u),a&&a.m(e,null),d(e,s),n=!0,o||(l=[B(e,"click",t[3]),B(e,"mouseover",t[4]),B(e,"mouseenter",t[5]),B(e,"mouseleave",t[6]),B(e,"keydown",t[7])],o=!0)},p(h,[u]){a&&a.p&&(!n||u&2)&&Ee(a,i,h,h[1],n?Ne(i,h[1],u,null):Ge(h[1]),null),W(e,c=Le(f,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},{fill:"currentColor"},{"aria-hidden":"true"},u&1&&h[0]]))},i(h){n||(p(a,h),n=!0)},o(h){w(a,h),n=!1},d(h){h&&P(e),a&&a.d(h),o=!1,Be(l)}}}function It(t,e,s){const n=[];let o=q(e,n),{$$slots:l={},$$scope:i}=e;function a(r){D.call(this,t,r)}function f(r){D.call(this,t,r)}function c(r){D.call(this,t,r)}function h(r){D.call(this,t,r)}function u(r){D.call(this,t,r)}return t.$$set=r=>{e=j(j({},e),De(r)),s(0,o=q(e,n)),"$$scope"in r&&s(1,i=r.$$scope)},[o,i,l,a,f,c,h,u]}class jt extends J{constructor(e){super(),Y(this,e,It,Ft,X,{})}}function Et(t){let e,s,n,o,l,i;const a=t[2].default,f=je(a,t,t[1],null);let c=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{"aria-hidden":"true"},t[0]],h={};for(let u=0;u<c.length;u+=1)h=j(h,c[u]);return{c(){e=z("svg"),f&&f.c(),s=z("path"),n=z("path"),m(s,"fill-rule","evenodd"),m(s,"d","M10.21 14.77a.75.75 0 01.02-1.06L14.168 10 10.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z"),m(s,"clip-rule","evenodd"),m(n,"fill-rule","evenodd"),m(n,"d","M4.21 14.77a.75.75 0 01.02-1.06L8.168 10 4.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z"),m(n,"clip-rule","evenodd"),W(e,h)},m(u,r){O(u,e,r),f&&f.m(e,null),d(e,s),d(e,n),o=!0,l||(i=[B(e,"click",t[3]),B(e,"mouseover",t[4]),B(e,"mouseenter",t[5]),B(e,"mouseleave",t[6]),B(e,"keydown",t[7])],l=!0)},p(u,[r]){f&&f.p&&(!o||r&2)&&Ee(f,a,u,u[1],o?Ne(a,u[1],r,null):Ge(u[1]),null),W(e,h=Le(c,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{"aria-hidden":"true"},r&1&&u[0]]))},i(u){o||(p(f,u),o=!0)},o(u){w(f,u),o=!1},d(u){u&&P(e),f&&f.d(u),l=!1,Be(i)}}}function Gt(t,e,s){const n=[];let o=q(e,n),{$$slots:l={},$$scope:i}=e;function a(r){D.call(this,t,r)}function f(r){D.call(this,t,r)}function c(r){D.call(this,t,r)}function h(r){D.call(this,t,r)}function u(r){D.call(this,t,r)}return t.$$set=r=>{e=j(j({},e),De(r)),s(0,o=q(e,n)),"$$scope"in r&&s(1,i=r.$$scope)},[o,i,l,a,f,c,h,u]}class Nt extends J{constructor(e){super(),Y(this,e,Gt,Et,X,{})}}function Ht(t){let e,s,n,o,l,i,a,f,c=[t[0],{xmlns:"http://www.w3.org/2000/svg"},{width:"375px"},{height:"375px"},{viewBox:"0 0 375 375"},{version:"1.1"}],h={};for(let u=0;u<c.length;u+=1)h=j(h,c[u]);return{c(){e=z("svg"),s=z("g"),n=z("path"),o=z("path"),l=z("path"),i=z("path"),_(n,"stroke","none"),_(n,"fill-rule","nonzero"),_(n,"fill","rgb(43.921569%,77.254903%,28.627452%)"),_(n,"fill-opacity","1"),m(n,"d","M 201.085938 355.023438 C 195.375 366.917969 178.441406 366.917969 172.734375 355.023438 L 76.523438 154.683594 C 71.507812 144.242188 79.117188 132.148438 90.699219 132.148438 L 283.117188 132.148438 C 294.699219 132.148438 302.308594 144.242188 297.296875 154.683594 Z M 201.085938 355.023438 "),_(o,"stroke","none"),_(o,"fill-rule","nonzero"),_(o,"fill","rgb(43.921569%,77.254903%,28.627452%)"),_(o,"fill-opacity","1"),m(o,"d","M 342.59375 158.097656 C 342.59375 243.210938 273.59375 312.207031 188.480469 312.207031 C 103.367188 312.207031 34.371094 243.210938 34.371094 158.097656 C 34.371094 72.984375 103.367188 3.984375 188.480469 3.984375 C 273.59375 3.984375 342.59375 72.984375 342.59375 158.097656 Z M 342.59375 158.097656 "),_(l,"fill","none",1),_(l,"stroke-width","7.514114"),_(l,"stroke-linecap","round"),_(l,"stroke-linejoin","miter"),_(l,"stroke","rgb(100%,100%,100%)"),_(l,"stroke-opacity","1"),_(l,"stroke-miterlimit","4"),m(l,"d","M 22.101062 291.358818 L 5.785685 275.043441 "),m(l,"transform","matrix(4.921187,-4.921187,4.921187,4.921187,-1274.875828,-1169.962203)"),_(i,"fill","none",1),_(i,"stroke-width","7.514114"),_(i,"stroke-linecap","round"),_(i,"stroke-linejoin","miter"),_(i,"stroke","rgb(100%,100%,100%)"),_(i,"stroke-opacity","1"),_(i,"stroke-miterlimit","4"),m(i,"d","M 22.125669 274.965256 L 5.810292 291.280633 "),m(i,"transform","matrix(4.921187,-4.921187,4.921187,4.921187,-1274.875828,-1169.962203)"),m(s,"id","surface1"),W(e,h)},m(u,r){O(u,e,r),d(e,s),d(s,n),d(s,o),d(s,l),d(s,i),a||(f=[B(e,"click",t[2]),B(e,"mouseover",t[3]),B(e,"mouseenter",t[4]),B(e,"mouseleave",t[5]),B(e,"keydown",t[6]),B(e,"focus",t[7])],a=!0)},p(u,[r]){W(e,h=Le(c,[r&1&&u[0],{xmlns:"http://www.w3.org/2000/svg"},{width:"375px"},{height:"375px"},{viewBox:"0 0 375 375"},{version:"1.1"}]))},i:A,o:A,d(u){u&&P(e),a=!1,Be(f)}}}function Qt(t,e,s){const n=["color"];let o=q(e,n),{color:l="#000000"}=e;function i(r){D.call(this,t,r)}function a(r){D.call(this,t,r)}function f(r){D.call(this,t,r)}function c(r){D.call(this,t,r)}function h(r){D.call(this,t,r)}function u(r){D.call(this,t,r)}return t.$$set=r=>{e=j(j({},e),De(r)),s(0,o=q(e,n)),"color"in r&&s(1,l=r.color)},[o,l,i,a,f,c,h,u]}class Zt extends J{constructor(e){super(),Y(this,e,Qt,Ht,X,{color:1})}}function At(t){let e,s,n,o,l,i,a,f,c,h,u=[t[1],{width:"375px"},{height:"375px"},{viewBox:"0 0 375 375"},{version:"1.1"},{id:"svg5"},{"sodipodi:docname":"search_disable.svg"},{"inkscape:version":"1.1.2 (1:1.1+202202050950+0a00cf5339)"},{"xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape"},{"xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:svg":"http://www.w3.org/2000/svg"}],r={};for(let $=0;$<u.length;$+=1)r=j(r,u[$]);return{c(){e=z("svg"),s=z("defs"),n=z("sodipodi:namedview"),o=z("g"),l=z("path"),i=z("g"),a=z("path"),f=z("path"),m(s,"id","defs9"),m(n,"id","namedview7"),m(n,"pagecolor","#505050"),m(n,"bordercolor","#eeeeee"),m(n,"borderopacity","1"),m(n,"inkscape:pageshadow","0"),m(n,"inkscape:pageopacity","0"),m(n,"inkscape:pagecheckerboard","0"),m(n,"showgrid","false"),m(n,"inkscape:zoom","1.6000736"),m(n,"inkscape:cx","196.86595"),m(n,"inkscape:cy","179.99172"),m(n,"inkscape:current-layer","svg5"),_(l,"fill",t[0]),_(l,"fill-opacity","1"),_(l,"fill-rule","nonzero"),_(l,"stroke","none"),m(l,"d","m 50.9375,296.0625 74.25,-74.1875 5.3125,-3.125 C 117.39453,200.42969 110.35547,178.46484 110.375,155.9375 110.4102,95.917969 159.08594,47.289062 219.10547,47.3125 279.12109,47.33594 327.76172,96.003906 327.75,156.01953 327.7383,216.03906 279.08203,264.6875 219.0625,264.6875 c -22.54688,0.0234 -44.52734,-7.0625 -62.8125,-20.25 l -3.0625,5.3125 -74.21875,74.15625 c -5.9375,5.875 -16.96875,4.4375 -24.6875,-3.28125 -7.71875,-7.71875 -9.15625,-18.75 -3.25,-24.6875 z M 219,225.125 c 38.14844,0.0352 69.10156,-30.87109 69.125,-69.01953 C 288.14844,117.95313 257.23437,87.011719 219.08203,87 180.93359,86.988281 150,117.91406 150,156.0625 c -0.0508,18.34766 7.20312,35.96484 20.16016,48.95703 12.95703,12.99219 30.55468,20.29297 48.90234,20.29297 z m 0,0"),m(l,"id","path2"),m(o,"id","surface1"),m(o,"transform","matrix(1.1985554,0,0,1.1985554,-33.672544,-42.708466)"),_(a,"fill","#ff0000"),_(a,"fill-opacity","1"),_(a,"stroke","#b40000"),_(a,"stroke-width","34.2679"),_(a,"stroke-linecap","round"),_(a,"stroke-linejoin","miter"),_(a,"stroke-miterlimit","4"),_(a,"stroke-opacity","1"),m(a,"d","M 364.47831,491.73933 252.63509,379.89612"),m(a,"id","path826"),_(f,"fill","#ff0000"),_(f,"fill-opacity","1"),_(f,"stroke","#b40000"),_(f,"stroke-width","34.2684"),_(f,"stroke-linecap","round"),_(f,"stroke-linejoin","miter"),_(f,"stroke-miterlimit","4"),_(f,"stroke-opacity","1"),m(f,"d","M 364.64638,379.35739 252.80473,491.199"),m(f,"id","path828"),m(i,"id","surface1-3"),m(i,"transform","matrix(1.2223339,0,0,1.2223339,-109.30534,-253.2447)"),_(i,"fill","#ff0000"),_(i,"fill-opacity","1"),W(e,r)},m($,v){O($,e,v),d(e,s),d(e,n),d(e,o),d(o,l),d(e,i),d(i,a),d(i,f),c||(h=[B(e,"click",t[2]),B(e,"mouseover",t[3]),B(e,"mouseenter",t[4]),B(e,"mouseleave",t[5]),B(e,"keydown",t[6]),B(e,"focus",t[7])],c=!0)},p($,[v]){v&1&&_(l,"fill",$[0]),W(e,r=Le(u,[v&2&&$[1],{width:"375px"},{height:"375px"},{viewBox:"0 0 375 375"},{version:"1.1"},{id:"svg5"},{"sodipodi:docname":"search_disable.svg"},{"inkscape:version":"1.1.2 (1:1.1+202202050950+0a00cf5339)"},{"xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape"},{"xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:svg":"http://www.w3.org/2000/svg"}]))},i:A,o:A,d($){$&&P(e),c=!1,Be(h)}}}function Rt(t,e,s){const n=["color"];let o=q(e,n),{color:l="#000000"}=e;function i(r){D.call(this,t,r)}function a(r){D.call(this,t,r)}function f(r){D.call(this,t,r)}function c(r){D.call(this,t,r)}function h(r){D.call(this,t,r)}function u(r){D.call(this,t,r)}return t.$$set=r=>{e=j(j({},e),De(r)),s(1,o=q(e,n)),"color"in r&&s(0,l=r.color)},[l,o,i,a,f,c,h,u]}class Wt extends J{constructor(e){super(),Y(this,e,Rt,At,X,{color:0})}}function qt(t){let e,s,n,o,l,i,a,f,c,h,u;return i=new Wt({props:{class:"mr-2 w-6"}}),f=new U({props:{t:t[1].noSearch}}),{c(){e=L("div"),s=L("h5"),s.textContent=`${t[1].noMatchingThemes.toString()}`,n=T(),o=L("div"),l=L("button"),k(i.$$.fragment),a=T(),k(f.$$.fragment),m(o,"class","flex justify-center"),m(e,"class","w-full")},m(r,$){O(r,e,$),d(e,s),d(e,n),d(e,o),d(o,l),b(i,l,null),d(l,a),b(f,l,null),c=!0,h||(u=B(l,"click",t[2]),h=!0)},p:A,i(r){c||(p(i.$$.fragment,r),p(f.$$.fragment,r),c=!0)},o(r){w(i.$$.fragment,r),w(f.$$.fragment,r),c=!1},d(r){r&&P(e),C(i),C(f),h=!1,u()}}}function Kt(t,e,s){let{search:n}=e;const o=F.t.general.morescreen,l=()=>n.setData("");return t.$$set=i=>{"search"in i&&s(0,n=i.search)},[n,o,l]}class Vt extends J{constructor(e){super(),Y(this,e,Kt,qt,X,{search:0})}}function Jt(t){let e,s,n,o,l,i,a,f,c;s=new Tt({props:{icons:t[0].icon,size:"block h-8 w-8 sm:h-11 sm:w-11 m-1 sm:mx-2 md:mx-4 shrink-0"}}),l=new U({props:{cls:"",t:t[2]}}),a=new U({props:{cls:"subtle text-base",t:t[1]}});const h=t[7].default,u=je(h,t,t[6],null);return{c(){e=L("a"),k(s.$$.fragment),n=T(),o=L("span"),k(l.$$.fragment),i=T(),k(a.$$.fragment),f=T(),u&&u.c(),m(o,"class","flex flex-col overflow-hidden text-ellipsis text-xl font-bold"),m(e,"class","low-interaction my-1 flex w-full items-center text-ellipsis rounded p-1"),m(e,"href",t[3])},m(r,$){O(r,e,$),b(s,e,null),d(e,n),d(e,o),b(l,o,null),d(o,i),b(a,o,null),d(o,f),u&&u.m(o,null),c=!0},p(r,[$]){const v={};$&1&&(v.icons=r[0].icon),s.$set(v);const S={};$&4&&(S.t=r[2]),l.$set(S);const M={};$&2&&(M.t=r[1]),a.$set(M),u&&u.p&&(!c||$&64)&&Ee(u,h,r,r[6],c?Ne(h,r[6],$,null):Ge(r[6]),null),(!c||$&8)&&m(e,"href",r[3])},i(r){c||(p(s.$$.fragment,r),p(l.$$.fragment,r),p(a.$$.fragment,r),p(u,r),c=!0)},o(r){w(s.$$.fragment,r),w(l.$$.fragment,r),w(a.$$.fragment,r),w(u,r),c=!1},d(r){r&&P(e),C(s),C(l),C(a),u&&u.d(r)}}}function Yt(t,e,s){let n,o,l,{$$slots:i={},$$scope:a}=e,{theme:f}=e,c=f.id.startsWith("https://")||f.id.startsWith("http://"),{state:h}=e;function u($,v,S){var K;if($===void 0)return;if($.id===void 0){console.error("ID is undefined for layout",$);return}if($.id===((K=S==null?void 0:S.layoutToUse)==null?void 0:K.id))return;let M=window.location.pathname;M=M.substr(0,M.lastIndexOf("/")),M===""&&(M=".");let x=`${M}/${$.id.toLowerCase()}.html?`;(location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.port==="1234")&&(x=`${M}/theme.html?layout=${$.id}&`),v&&(x=`${M}/theme.html?userlayout=${$.id}&`);let N="";return $.definition!==void 0&&(N="#"+btoa(JSON.stringify($.definition))),new gt(`${x}${N}`)}let r=u(f,c,h);return Se(t,r,$=>s(3,l=$)),t.$$set=$=>{"theme"in $&&s(0,f=$.theme),"state"in $&&s(5,h=$.state),"$$scope"in $&&s(6,a=$.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&s(2,n=F.T(f.title,!c&&!f.mustHaveLanguage?"themes:"+f.id+".title":void 0)),t.$$.dirty&1&&s(1,o=F.T(f.shortDescription))},[f,o,n,l,r,h,a,i]}class Xt extends J{constructor(e){super(),Y(this,e,Yt,Jt,X,{theme:0,state:5})}}function at(t,e,s){const n=t.slice();return n[7]=e[s],n}const xt=t=>({}),ft=t=>({});function ut(t){let e,s,n;return s=new U({props:{t:F.t.general.morescreen.enterToOpen}}),{c(){e=L("span"),k(s.$$.fragment),m(e,"class","thanks hidden-on-mobile"),m(e,"aria-hidden","true")},m(o,l){O(o,e,l),b(s,e,null),n=!0},p:A,i(o){n||(p(s.$$.fragment,o),n=!0)},o(o){w(s.$$.fragment,o),n=!1},d(o){o&&P(e),C(s)}}}function en(t){var o;let e,s,n=t[4]&&t[3]&&((o=t[1])==null?void 0:o[0])===t[7]&&ut();return{c(){n&&n.c(),e=T()},m(l,i){n&&n.m(l,i),O(l,e,i),s=!0},p(l,i){var a;l[4]&&l[3]&&((a=l[1])==null?void 0:a[0])===l[7]?n?(n.p(l,i),i&26&&p(n,1)):(n=ut(),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(Fe(),w(n,1,1,()=>{n=null}),Ie())},i(l){s||(p(n),s=!0)},o(l){w(n),s=!1},d(l){n&&n.d(l),l&&P(e)}}}function mt(t,e){let s,n,o;return n=new Xt({props:{theme:e[7],state:e[2],$$slots:{default:[en]},$$scope:{ctx:e}}}),{key:t,first:null,c(){s=dt(),k(n.$$.fragment),this.first=s},m(l,i){O(l,s,i),b(n,l,i),o=!0},p(l,i){e=l;const a={};i&2&&(a.theme=e[7]),i&4&&(a.state=e[2]),i&90&&(a.$$scope={dirty:i,ctx:e}),n.$set(a)},i(l){o||(p(n.$$.fragment,l),o=!0)},o(l){w(n.$$.fragment,l),o=!1},d(l){l&&P(s),C(n,l)}}}function ct(t){let e,s;return e=new Vt({props:{search:t[0]}}),{c(){k(e.$$.fragment)},m(n,o){b(e,n,o),s=!0},p(n,o){const l={};o&1&&(l.search=n[0]),e.$set(l)},i(n){s||(p(e.$$.fragment,n),s=!0)},o(n){w(e.$$.fragment,n),s=!1},d(n){C(e,n)}}}function tn(t){var $;let e,s,n,o=[],l=new Map,i,a;const f=t[5].title,c=je(f,t,t[6],ft);let h=t[1];const u=v=>v[7].id;for(let v=0;v<h.length;v+=1){let S=at(t,h,v),M=u(S);l.set(M,o[v]=mt(M,S))}let r=(($=t[1])==null?void 0:$.length)===0&&ct(t);return{c(){e=L("section"),c&&c.c(),s=T(),n=L("div");for(let v=0;v<o.length;v+=1)o[v].c();i=T(),r&&r.c(),m(n,"class","theme-list my-2 gap-4 md:grid md:grid-flow-row md:grid-cols-2 lg:grid-cols-3"),m(e,"class","w-full")},m(v,S){O(v,e,S),c&&c.m(e,null),d(e,s),d(e,n);for(let M=0;M<o.length;M+=1)o[M]&&o[M].m(n,null);d(e,i),r&&r.m(e,null),a=!0},p(v,[S]){var M;c&&c.p&&(!a||S&64)&&Ee(c,f,v,v[6],a?Ne(f,v[6],S,xt):Ge(v[6]),ft),S&30&&(h=v[1],Fe(),o=wt(o,S,u,1,v,h,l,n,$t,mt,null,at),Ie()),((M=v[1])==null?void 0:M.length)===0?r?(r.p(v,S),S&2&&p(r,1)):(r=ct(v),r.c(),p(r,1),r.m(e,null)):r&&(Fe(),w(r,1,1,()=>{r=null}),Ie())},i(v){if(!a){p(c,v);for(let S=0;S<h.length;S+=1)p(o[S]);p(r),a=!0}},o(v){w(c,v);for(let S=0;S<o.length;S+=1)w(o[S]);w(r),a=!1},d(v){v&&P(e),c&&c.d(v);for(let S=0;S<o.length;S+=1)o[S].d();r&&r.d()}}}function nn(t,e,s){let n,o=A,l=()=>(o(),o=_t(f,r=>s(4,n=r)),f);t.$$.on_destroy.push(()=>o());let{$$slots:i={},$$scope:a}=e,{search:f}=e;l();let{themes:c}=e,{state:h}=e,{hasSelection:u=!0}=e;return t.$$set=r=>{"search"in r&&l(s(0,f=r.search)),"themes"in r&&s(1,c=r.themes),"state"in r&&s(2,h=r.state),"hasSelection"in r&&s(3,u=r.hasSelection),"$$scope"in r&&s(6,a=r.$$scope)},[f,c,h,u,n,i,a]}class Ae extends J{constructor(e){super(),Y(this,e,nn,tn,X,{search:0,themes:1,state:2,hasSelection:3})}}function rn(t){let e,s,n,o,l,i=[t[1],{xmlns:"http://www.w3.org/2000/svg"},{width:"375px"},{height:"375px"},{viewBox:"0 0 375 375"},{version:"1.1"}],a={};for(let f=0;f<i.length;f+=1)a=j(a,i[f]);return{c(){e=z("svg"),s=z("g"),n=z("path"),_(n,"stroke","none"),_(n,"fill-rule","nonzero"),_(n,"fill",t[0]),_(n,"fill-opacity","1"),m(n,"d","M 343.453125 190.519531 C 322.914062 158.628906 297.171875 134.777344 266.222656 118.964844 C 274.46875 133.019531 278.589844 148.222656 278.589844 164.574219 C 278.589844 189.574219 269.703125 210.960938 251.933594 228.730469 C 234.164062 246.5 212.777344 255.386719 187.777344 255.386719 C 162.777344 255.386719 141.394531 246.5 123.621094 228.730469 C 105.851562 210.960938 96.96875 189.574219 96.96875 164.574219 C 96.96875 148.222656 101.089844 133.019531 109.332031 118.964844 C 78.386719 134.777344 52.644531 158.628906 32.101562 190.519531 C 50.074219 218.222656 72.609375 240.285156 99.703125 256.703125 C 126.796875 273.121094 156.15625 281.332031 187.777344 281.332031 C 219.398438 281.332031 248.757812 273.121094 275.851562 256.703125 C 302.945312 240.285156 325.480469 218.222656 343.453125 190.519531 Z M 197.507812 112.683594 C 197.507812 109.980469 196.5625 107.683594 194.671875 105.789062 C 192.777344 103.898438 190.480469 102.953125 187.777344 102.953125 C 170.886719 102.953125 156.394531 109 144.296875 121.09375 C 132.203125 133.1875 126.15625 147.683594 126.15625 164.574219 C 126.15625 167.277344 127.101562 169.574219 128.996094 171.464844 C 130.886719 173.359375 133.183594 174.304688 135.886719 174.304688 C 138.589844 174.304688 140.886719 173.359375 142.777344 171.464844 C 144.671875 169.574219 145.617188 167.277344 145.617188 164.574219 C 145.617188 152.953125 149.738281 143.019531 157.980469 134.777344 C 166.222656 126.535156 176.15625 122.410156 187.777344 122.410156 C 190.480469 122.410156 192.777344 121.464844 194.671875 119.574219 C 196.5625 117.683594 197.507812 115.386719 197.507812 112.683594 Z M 369.398438 190.519531 C 369.398438 195.113281 368.046875 199.777344 365.347656 204.507812 C 346.425781 235.585938 320.988281 260.484375 289.027344 279.203125 C 257.070312 297.917969 223.320312 307.277344 187.777344 307.277344 C 152.238281 307.277344 118.488281 297.886719 86.527344 279.101562 C 54.570312 260.316406 29.128906 235.453125 10.210938 204.507812 C 7.507812 199.777344 6.15625 195.113281 6.15625 190.519531 C 6.15625 185.925781 7.507812 181.261719 10.210938 176.535156 C 29.128906 145.585938 54.570312 120.722656 86.527344 101.9375 C 118.488281 83.15625 152.238281 73.761719 187.777344 73.761719 C 223.320312 73.761719 257.070312 83.15625 289.027344 101.9375 C 320.988281 120.722656 346.425781 145.585938 365.347656 176.535156 C 368.046875 181.261719 369.398438 185.925781 369.398438 190.519531 Z M 369.398438 190.519531 "),m(s,"id","surface1"),W(e,a)},m(f,c){O(f,e,c),d(e,s),d(s,n),o||(l=[B(e,"click",t[2]),B(e,"mouseover",t[3]),B(e,"mouseenter",t[4]),B(e,"mouseleave",t[5]),B(e,"keydown",t[6]),B(e,"focus",t[7])],o=!0)},p(f,[c]){c&1&&_(n,"fill",f[0]),W(e,a=Le(i,[c&2&&f[1],{xmlns:"http://www.w3.org/2000/svg"},{width:"375px"},{height:"375px"},{viewBox:"0 0 375 375"},{version:"1.1"}]))},i:A,o:A,d(f){f&&P(e),o=!1,Be(l)}}}function sn(t,e,s){const n=["color"];let o=q(e,n),{color:l="#000000"}=e;function i(r){D.call(this,t,r)}function a(r){D.call(this,t,r)}function f(r){D.call(this,t,r)}function c(r){D.call(this,t,r)}function h(r){D.call(this,t,r)}function u(r){D.call(this,t,r)}return t.$$set=r=>{e=j(j({},e),De(r)),s(1,o=q(e,n)),"color"in r&&s(0,l=r.color)},[l,o,i,a,f,c,h,u]}class ln extends J{constructor(e){super(),Y(this,e,sn,rn,X,{color:0})}}function on(t){let e,s,n,o,l,i;return s=new U({props:{t:t[9].previouslyHiddenTitle}}),l=new U({props:{t:t[9].hiddenExplanation.Subs({hidden_discovered:t[2].length.toString(),total_hidden:t[12].length.toString()})}}),{c(){e=L("h3"),k(s.$$.fragment),n=T(),o=L("p"),k(l.$$.fragment)},m(a,f){O(a,e,f),b(s,e,null),O(a,n,f),O(a,o,f),b(l,o,null),i=!0},p(a,f){const c={};f&4&&(c.t=a[9].hiddenExplanation.Subs({hidden_discovered:a[2].length.toString(),total_hidden:a[12].length.toString()})),l.$set(c)},i(a){i||(p(s.$$.fragment,a),p(l.$$.fragment,a),i=!0)},o(a){w(s.$$.fragment,a),w(l.$$.fragment,a),i=!1},d(a){a&&P(e),C(s),a&&P(n),a&&P(o),C(l)}}}function ht(t){let e,s;return e=new Ae({props:{search:t[11],state:t[6],themes:t[4],hasSelection:t[0].length===0&&t[1].length===0,$$slots:{title:[an]},$$scope:{ctx:t}}}),{c(){k(e.$$.fragment)},m(n,o){b(e,n,o),s=!0},p(n,o){const l={};o&16&&(l.themes=n[4]),o&3&&(l.hasSelection=n[0].length===0&&n[1].length===0),o&67108864&&(l.$$scope={dirty:o,ctx:n}),e.$set(l)},i(n){s||(p(e.$$.fragment,n),s=!0)},o(n){w(e.$$.fragment,n),s=!1},d(n){C(e,n)}}}function an(t){let e,s,n,o,l;return s=new U({props:{t:t[8].customThemeTitle}}),o=new U({props:{t:t[8].customThemeIntro}}),{c(){e=L("h3"),k(s.$$.fragment),n=T(),k(o.$$.fragment)},m(i,a){O(i,e,a),b(s,e,null),O(i,n,a),b(o,i,a),l=!0},p:A,i(i){l||(p(s.$$.fragment,i),p(o.$$.fragment,i),l=!0)},o(i){w(s.$$.fragment,i),w(o.$$.fragment,i),l=!1},d(i){i&&P(e),C(s),i&&P(n),C(o,i)}}}function fn(t){let e,s,n,o;e=new Ae({props:{search:t[11],state:t[6],themes:t[1],hasSelection:t[0].length===0,$$slots:{title:[on]},$$scope:{ctx:t}}});let l=t[3].length>0&&ht(t);return{c(){k(e.$$.fragment),s=T(),l&&l.c(),n=dt()},m(i,a){b(e,i,a),O(i,s,a),l&&l.m(i,a),O(i,n,a),o=!0},p(i,a){const f={};a&2&&(f.themes=i[1]),a&1&&(f.hasSelection=i[0].length===0),a&67108868&&(f.$$scope={dirty:a,ctx:i}),e.$set(f),i[3].length>0?l?(l.p(i,a),a&8&&p(l,1)):(l=ht(i),l.c(),p(l,1),l.m(n.parentNode,n)):l&&(Fe(),w(l,1,1,()=>{l=null}),Ie())},i(i){o||(p(e.$$.fragment,i),p(l),o=!0)},o(i){w(e.$$.fragment,i),w(l),o=!1},d(i){C(e,i),i&&P(s),l&&l.d(i),i&&P(n)}}}function un(t){let e,s;return e=new U({props:{t:t[7].logIn}}),{c(){k(e.$$.fragment)},m(n,o){b(e,n,o),s=!0},p:A,i(n){s||(p(e.$$.fragment,n),s=!0)},o(n){w(e.$$.fragment,n),s=!1},d(n){C(e,n)}}}function mn(t){let e,s;return e=new Lt({props:{clss:"primary",osmConnection:t[5],slot:"not-logged-in",$$slots:{default:[un]},$$scope:{ctx:t}}}),{c(){k(e.$$.fragment)},m(n,o){b(e,n,o),s=!0},p(n,o){const l={};o&67108864&&(l.$$scope={dirty:o,ctx:n}),e.$set(l)},i(n){s||(p(e.$$.fragment,n),s=!0)},o(n){w(e.$$.fragment,n),s=!1},d(n){C(e,n)}}}function cn(t){let e,s,n,o,l,i,a,f,c,h,u,r,$,v,S,M,x,N,K,H,fe,Q,ue,Z,Te,R,oe,y,I,Ue,ee,ie,ye,E,Re,G,te,me,We,ce,qe,ne,he,Ke,de,Ve,re,ge,Je,pe,Ye,se,we,Xe,$e,xe,le,_e,et,ve,tt,ae,ke,nt,be,rt,Ce,st,ze,Oe;return n=new yt({props:{clss:"self-end max-w-full",assignTo:t[6].language,availableLanguages:t[7].title.SupportedLanguages(),preferredLanguages:t[10]}}),a=new Zt({props:{alt:"MapComplete Logo",class:"h-12 w-12 sm:h-24 sm:w-24"}}),u=new U({props:{t:t[7].title}}),$=new U({props:{cls:"mr-4 text-base font-semibold sm:text-lg md:mt-5 md:text-xl lg:mx-0",t:F.t.index.intro}}),M=new U({props:{t:F.t.index.learnMore}}),N=new Nt({props:{class:"inline h-4 w-4"}}),H=new zt({props:{value:t[11],placeholder:t[9].searchForATheme,autofocus:!0,isFocused:t[18]}}),H.$on("search",t[20]),Q=new Ae({props:{search:t[11],state:t[6],themes:t[0]}}),Z=new Mt({props:{state:t[6],$$slots:{"not-logged-in":[mn],default:[fn]},$$scope:{ctx:t}}}),oe=new vt({props:{class:"mr-2 h-6 w-6"}}),I=new U({props:{t:F.t.general.morescreen.createYourOwnTheme}}),ie=new U({props:{t:F.t.index.about}}),E=new U({props:{cls:"link-underline",t:F.t.general.aboutMapComplete.intro}}),me=new kt({props:{class:"mr-2 h-6 w-6"}}),ce=new U({props:{t:F.t.general.attribution.gotoSourceCode}}),he=new Ot({props:{class:"mr-2 h-6 w-6"}}),de=new U({props:{t:F.t.general.attribution.openIssueTracker}}),ge=new jt({props:{class:"mr-2 h-6 w-6"}}),pe=new U({props:{t:F.t.general.attribution.openOsmchaLastWeek}}),we=new Pt({props:{class:"mr-2 h-6 w-6"}}),$e=new U({props:{t:F.t.general.attribution.followOnMastodon}}),_e=new bt({props:{class:"mr-2 h-6 w-6"}}),ve=new U({props:{t:F.t.general.attribution.donate}}),ke=new ln({props:{class:"mr-2 h-6 w-6"}}),be=new U({props:{t:F.t.privacy.title}}),Ce=new U({props:{t:t[9].streetcomplete}}),{c(){e=L("main"),s=L("div"),k(n.$$.fragment),o=T(),l=L("div"),i=L("div"),k(a.$$.fragment),f=T(),c=L("div"),h=L("h1"),k(u.$$.fragment),r=T(),k($.$$.fragment),v=T(),S=L("a"),k(M.$$.fragment),x=T(),k(N.$$.fragment),K=T(),k(H.$$.fragment),fe=T(),k(Q.$$.fragment),ue=T(),k(Z.$$.fragment),Te=T(),R=L("a"),k(oe.$$.fragment),y=T(),k(I.$$.fragment),Ue=T(),ee=L("h3"),k(ie.$$.fragment),ye=T(),k(E.$$.fragment),Re=T(),G=L("span"),te=L("a"),k(me.$$.fragment),We=T(),k(ce.$$.fragment),qe=T(),ne=L("a"),k(he.$$.fragment),Ke=T(),k(de.$$.fragment),Ve=T(),re=L("a"),k(ge.$$.fragment),Je=T(),k(pe.$$.fragment),Ye=T(),se=L("a"),k(we.$$.fragment),Xe=T(),k($e.$$.fragment),xe=T(),le=L("a"),k(_e.$$.fragment),et=T(),k(ve.$$.fragment),tt=T(),ae=L("a"),k(ke.$$.fragment),nt=T(),k(be.$$.fragment),rt=T(),k(Ce.$$.fragment),st=T(),ze=L("div"),ze.textContent=`v${Dt.vNumber}`,m(i,"class","m-3 flex-none"),m(h,"class","m-0 font-extrabold tracking-tight md:text-6xl"),m(S,"href","#about"),m(c,"class","link-underline flex flex-col"),m(l,"class","mt-4 flex"),m(R,"class","button flex"),m(R,"href",window.location.protocol+"//"+window.location.host+"/studio.html"),m(ee,"id","about"),m(te,"class","flex"),m(te,"href","https://github.com/pietervdvn/MapComplete/"),m(te,"target","_blank"),m(ne,"class","flex"),m(ne,"href","https://github.com/pietervdvn/MapComplete/issues"),m(ne,"target","_blank"),m(re,"class","flex"),m(re,"href",pt.OsmChaLinkFor(7)),m(re,"target","_blank"),m(se,"class","flex"),m(se,"href","https://en.osm.town/@MapComplete"),m(se,"target","_blank"),m(le,"class","flex"),m(le,"href","https://liberapay.com/pietervdvn/"),m(le,"target","_blank"),m(ae,"class","flex"),m(ae,"href",window.location.protocol+"//"+window.location.host+"/privacy.html"),m(G,"class","link-underline flex flex-col gap-y-1"),m(ze,"class","subtle mb-16 self-end"),m(s,"class","m-4 flex flex-col")},m(g,Me){O(g,e,Me),d(e,s),b(n,s,null),d(s,o),d(s,l),d(l,i),b(a,i,null),d(l,f),d(l,c),d(c,h),b(u,h,null),d(c,r),b($,c,null),d(c,v),d(c,S),b(M,S,null),d(S,x),b(N,S,null),d(s,K),b(H,s,null),d(s,fe),b(Q,s,null),d(s,ue),b(Z,s,null),d(s,Te),d(s,R),b(oe,R,null),d(R,y),b(I,R,null),d(s,Ue),d(s,ee),b(ie,ee,null),d(s,ye),b(E,s,null),d(s,Re),d(s,G),d(G,te),b(me,te,null),d(te,We),b(ce,te,null),d(G,qe),d(G,ne),b(he,ne,null),d(ne,Ke),b(de,ne,null),d(G,Ve),d(G,re),b(ge,re,null),d(re,Je),b(pe,re,null),d(G,Ye),d(G,se),b(we,se,null),d(se,Xe),b($e,se,null),d(G,xe),d(G,le),b(_e,le,null),d(le,et),b(ve,le,null),d(G,tt),d(G,ae),b(ke,ae,null),d(ae,nt),b(be,ae,null),d(s,rt),b(Ce,s,null),d(s,st),d(s,ze),Oe=!0},p(g,[Me]){const lt={};Me&1&&(lt.themes=g[0]),Q.$set(lt);const ot={};Me&67108895&&(ot.$$scope={dirty:Me,ctx:g}),Z.$set(ot)},i(g){Oe||(p(n.$$.fragment,g),p(a.$$.fragment,g),p(u.$$.fragment,g),p($.$$.fragment,g),p(M.$$.fragment,g),p(N.$$.fragment,g),p(H.$$.fragment,g),p(Q.$$.fragment,g),p(Z.$$.fragment,g),p(oe.$$.fragment,g),p(I.$$.fragment,g),p(ie.$$.fragment,g),p(E.$$.fragment,g),p(me.$$.fragment,g),p(ce.$$.fragment,g),p(he.$$.fragment,g),p(de.$$.fragment,g),p(ge.$$.fragment,g),p(pe.$$.fragment,g),p(we.$$.fragment,g),p($e.$$.fragment,g),p(_e.$$.fragment,g),p(ve.$$.fragment,g),p(ke.$$.fragment,g),p(be.$$.fragment,g),p(Ce.$$.fragment,g),Oe=!0)},o(g){w(n.$$.fragment,g),w(a.$$.fragment,g),w(u.$$.fragment,g),w($.$$.fragment,g),w(M.$$.fragment,g),w(N.$$.fragment,g),w(H.$$.fragment,g),w(Q.$$.fragment,g),w(Z.$$.fragment,g),w(oe.$$.fragment,g),w(I.$$.fragment,g),w(ie.$$.fragment,g),w(E.$$.fragment,g),w(me.$$.fragment,g),w(ce.$$.fragment,g),w(he.$$.fragment,g),w(de.$$.fragment,g),w(ge.$$.fragment,g),w(pe.$$.fragment,g),w(we.$$.fragment,g),w($e.$$.fragment,g),w(_e.$$.fragment,g),w(ve.$$.fragment,g),w(ke.$$.fragment,g),w(be.$$.fragment,g),w(Ce.$$.fragment,g),Oe=!1},d(g){g&&P(e),C(n),C(a),C(u),C($),C(M),C(N),C(H),C(Q),C(Z),C(oe),C(I),C(ie),C(E),C(me),C(ce),C(he),C(de),C(ge),C(pe),C(we),C($e),C(_e),C(ve),C(ke),C(be),C(Ce)}}}function hn(t,e,s){let n,o,l,i,a;const f=new Ct,c=new St({fakeUser:f.featureSwitchFakeUser.data,oauth_token:Ze.GetQueryParameter("oauth_token",void 0,"Used to complete the login")}),h=new it(c),u=F.t.index,r=F.t.general,$=F.t.general.morescreen;let v=c.userDetails.map(y=>y.languages),S=new He(""),M=S.stabilized(100);new He(!0);const x=Pe.officialThemes.themes.filter(y=>y.hideFromOverview===!1),N=Pe.officialThemes.themes.filter(y=>y.hideFromOverview===!0);let K=it.initDiscoveredHiddenThemes(h.osmConnection).map(y=>N.filter(I=>y.indexOf(I.id)>=0||h.osmConnection.userDetails.data.name==="Pieter Vander Vennet"));Se(t,K,y=>s(2,l=y));const H=Ut.ListStabilized(h.installedUserThemes).mapD(y=>pt.NoNullInplace(y.map(I=>h.getUnofficialTheme(I))));Se(t,H,y=>s(3,i=y));function fe(y){return M.map(I=>{if(!I)return y.data;const Ue=new Date().getTime(),ee=Pe.sortedByLowestScores(I,y.data);console.trace("Scores for",I,"are",ee,"searching took",new Date().getTime()-Ue,"ms");const ye=ee.filter(E=>E.lowest<2);return ye.length>0?ye.map(E=>E.theme):ee.filter(E=>E.lowest<4).slice(0,6).map(E=>E.theme)},[y])}let Q=fe(new gt(x));Se(t,Q,y=>s(0,n=y));let ue=fe(K);Se(t,ue,y=>s(1,o=y));let Z=fe(H);Se(t,Z,y=>s(4,a=y));let Te=new He(!1);document.addEventListener("keydown",function(y){y.ctrlKey&&y.code==="KeyF"&&(Te.set(!0),y.preventDefault())});function R(){const y=Bt.applySpecialSearch(S.data);if(console.log("Did redirect?",y),y)return;const I=Q.data[0]??ue.data[0]??Z.data[0];I&&(window.location.href=Pe.createUrlFor(I,void 0))}return[n,o,l,i,a,c,h,u,r,$,v,S,N,K,H,Q,ue,Z,Te,R,()=>R()]}class dn extends J{constructor(e){super(),Y(this,e,hn,cn,X,{})}}const Qe=Ze.GetQueryParameter("layout",void 0).data??"",gn=Ze.GetQueryParameter("userlayout",void 0).data??"",V=window.location;Qe!==""?window.location.host.startsWith("127.0.0.1")?window.location.replace(V.protocol+"//"+window.location.host+"/theme.html"+V.search+"&layout="+Qe+V.hash):window.location.replace(V.protocol+"//"+window.location.host+"/"+Qe+".html"+V.search+V.hash):gn!==""&&window.location.replace(V.protocol+"//"+window.location.host+"/theme.html"+V.search+V.hash);new dn({target:document.getElementById("main")});
//# sourceMappingURL=index-258ffb8a.js.map
