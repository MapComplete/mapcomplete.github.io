var d=Object.defineProperty;var w=(n,r,e)=>r in n?d(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;var t=(n,r,e)=>(w(n,typeof r!="symbol"?r+"":r,e),e);import{Q as s,U as f}from"./Tr-e6fd40dd.js";import{c as S}from"./FixImages-4776edd5.js";import{U as m}from"./Svg-038c8b1c.js";class a{static initSwitch(r,e,c){const i=e;return s.GetQueryParameter(r,""+i,c).sync(h=>h===void 0?i:h!=="false",[],h=>h==i?void 0:""+h)}}class b{constructor(){t(this,"featureSwitchFakeUser");t(this,"featureSwitchApiURL");this.featureSwitchApiURL=s.GetQueryParameter("backend","osm","The OSM backend to use - can be used to redirect mapcomplete to the testing backend when using 'osm-test'"),this.featureSwitchFakeUser=s.GetBooleanQueryParameter("fake-user",!1,"If true, 'dryrun' mode is activated and a fake user account is loaded")}}class v extends b{constructor(e){super();t(this,"layoutToUse");t(this,"featureSwitchUserbadge");t(this,"featureSwitchSearch");t(this,"featureSwitchBackgroundSelection");t(this,"featureSwitchAddNew");t(this,"featureSwitchWelcomeMessage");t(this,"featureSwitchCommunityIndex");t(this,"featureSwitchExtraLinkEnabled");t(this,"featureSwitchMoreQuests");t(this,"featureSwitchShareScreen");t(this,"featureSwitchGeolocation");t(this,"featureSwitchIsTesting");t(this,"featureSwitchIsDebugging");t(this,"featureSwitchShowAllQuestions");t(this,"featureSwitchFilter");t(this,"featureSwitchEnableExport");t(this,"overpassUrl");t(this,"overpassTimeout");t(this,"overpassMaxZoom");t(this,"osmApiTileSize");t(this,"backgroundLayerId");this.layoutToUse=e,this.featureSwitchUserbadge=a.initSwitch("fs-userbadge",(e==null?void 0:e.enableUserBadge)??!0,"Disables/Enables the user information pill (userbadge) at the top left. Disabling this disables logging in and thus disables editing all together, effectively putting MapComplete into read-only mode."),this.featureSwitchSearch=a.initSwitch("fs-search",(e==null?void 0:e.enableSearch)??!0,"Disables/Enables the search bar"),this.featureSwitchBackgroundSelection=a.initSwitch("fs-background",(e==null?void 0:e.enableBackgroundLayerSelection)??!0,"Disables/Enables the background layer control"),this.featureSwitchFilter=a.initSwitch("fs-filter",(e==null?void 0:e.enableLayers)??!0,"Disables/Enables the filter view"),this.featureSwitchAddNew=a.initSwitch("fs-add-new",(e==null?void 0:e.enableAddNewPoints)??!0,"Disables/Enables the 'add new feature'-popup. (A theme without presets might not have it in the first place)"),this.featureSwitchWelcomeMessage=a.initSwitch("fs-welcome-message",!0,"Disables/enables the help menu or welcome message"),this.featureSwitchCommunityIndex=a.initSwitch("fs-community-index",!0,"Disables/enables the button to get in touch with the community"),this.featureSwitchExtraLinkEnabled=a.initSwitch("fs-iframe-popout",!0,"Disables/Enables the extraLink button. By default, if in iframe mode and the welcome message is hidden, a popout button to the full mapcomplete instance is shown instead (unless disabled with this switch or another extraLink button is enabled)"),this.featureSwitchMoreQuests=a.initSwitch("fs-more-quests",(e==null?void 0:e.enableMoreQuests)??!0,"Disables/Enables the 'More Quests'-tab in the welcome message"),this.featureSwitchShareScreen=a.initSwitch("fs-share-screen",(e==null?void 0:e.enableShareScreen)??!0,"Disables/Enables the 'Share-screen'-tab in the welcome message"),this.featureSwitchGeolocation=a.initSwitch("fs-geolocation",(e==null?void 0:e.enableGeolocation)??!0,"Disables/Enables the geolocation button"),this.featureSwitchShowAllQuestions=a.initSwitch("fs-all-questions",(e==null?void 0:e.enableShowAllQuestions)??!1,"Always show all questions"),this.featureSwitchEnableExport=a.initSwitch("fs-export",(e==null?void 0:e.enableExportButton)??!0,"Enable the export as GeoJSON and CSV button");let c=!1;this.featureSwitchApiURL.data!=="osm-test"&&!m.runningFromConsole&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&(c=!0),this.featureSwitchIsTesting=s.GetBooleanQueryParameter("test",c,"If true, 'dryrun' mode is activated. The app will behave as normal, except that changes to OSM will be printed onto the console instead of actually uploaded to osm.org"),this.featureSwitchIsDebugging=s.GetBooleanQueryParameter("debug",!1,"If true, shows some extra debugging help such as all the available tags on every object"),this.overpassUrl=s.GetQueryParameter("overpassUrl",((e==null?void 0:e.overpassUrl)??S.defaultOverpassUrls).join(","),"Point mapcomplete to a different overpass-instance. Example: https://overpass-api.de/api/interpreter").sync(i=>i==null?void 0:i.split(","),[],i=>i==null?void 0:i.join(",")),this.overpassTimeout=f.asFloat(s.GetQueryParameter("overpassTimeout",""+(e==null?void 0:e.overpassTimeout),"Set a different timeout (in seconds) for queries in overpass")),this.overpassMaxZoom=f.asFloat(s.GetQueryParameter("overpassMaxZoom",""+(e==null?void 0:e.overpassMaxZoom)," point to switch between OSM-api and overpass")),this.osmApiTileSize=f.asFloat(s.GetQueryParameter("osmApiTileSize",""+(e==null?void 0:e.osmApiTileSize),"Tilesize when the OSM-API is used to fetch data within a BBOX")),this.featureSwitchUserbadge.addCallbackAndRun(i=>{i||this.featureSwitchAddNew.setData(!1)}),this.backgroundLayerId=s.GetQueryParameter("background",(e==null?void 0:e.defaultBackgroundId)??"osm","The id of the background layer to start with")}}export{v as F,b as O};
